function k0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var OS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x0={exports:{}},sd={},N0={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=Symbol.for("react.element"),LS=Symbol.for("react.portal"),MS=Symbol.for("react.fragment"),VS=Symbol.for("react.strict_mode"),FS=Symbol.for("react.profiler"),jS=Symbol.for("react.provider"),US=Symbol.for("react.context"),zS=Symbol.for("react.forward_ref"),BS=Symbol.for("react.suspense"),$S=Symbol.for("react.memo"),HS=Symbol.for("react.lazy"),By=Symbol.iterator;function WS(t){return t===null||typeof t!="object"?null:(t=By&&t[By]||t["@@iterator"],typeof t=="function"?t:null)}var D0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O0=Object.assign,L0={};function Za(t,e,n){this.props=t,this.context=e,this.refs=L0,this.updater=n||D0}Za.prototype.isReactComponent={};Za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function M0(){}M0.prototype=Za.prototype;function um(t,e,n){this.props=t,this.context=e,this.refs=L0,this.updater=n||D0}var cm=um.prototype=new M0;cm.constructor=um;O0(cm,Za.prototype);cm.isPureReactComponent=!0;var $y=Array.isArray,V0=Object.prototype.hasOwnProperty,hm={current:null},F0={key:!0,ref:!0,__self:!0,__source:!0};function j0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)V0.call(e,r)&&!F0.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ju,type:t,key:s,ref:o,props:i,_owner:hm.current}}function qS(t,e){return{$$typeof:ju,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ju}function KS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hy=/\/+/g;function sf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KS(""+t.key):e.toString(36)}function Qc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ju:case LS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sf(o,0):r,$y(i)?(n="",t!=null&&(n=t.replace(Hy,"$&/")+"/"),Qc(i,e,n,"",function(h){return h})):i!=null&&(dm(i)&&(i=qS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$y(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+sf(s,l);o+=Qc(s,e,n,c,i)}else if(c=WS(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+sf(s,l++),o+=Qc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pc(t,e,n){if(t==null)return t;var r=[],i=0;return Qc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function GS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fn={current:null},Yc={transition:null},QS={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:Yc,ReactCurrentOwner:hm};function U0(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Pc,forEach:function(t,e,n){Pc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pc(t,function(){e++}),e},toArray:function(t){return Pc(t,function(e){return e})||[]},only:function(t){if(!dm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=Za;ze.Fragment=MS;ze.Profiler=FS;ze.PureComponent=um;ze.StrictMode=VS;ze.Suspense=BS;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QS;ze.act=U0;ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=O0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=hm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)V0.call(e,c)&&!F0.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ju,type:t.type,key:i,ref:s,props:r,_owner:o}};ze.createContext=function(t){return t={$$typeof:US,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jS,_context:t},t.Consumer=t};ze.createElement=j0;ze.createFactory=function(t){var e=j0.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:zS,render:t}};ze.isValidElement=dm;ze.lazy=function(t){return{$$typeof:HS,_payload:{_status:-1,_result:t},_init:GS}};ze.memo=function(t,e){return{$$typeof:$S,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=Yc.transition;Yc.transition={};try{t()}finally{Yc.transition=e}};ze.unstable_act=U0;ze.useCallback=function(t,e){return Fn.current.useCallback(t,e)};ze.useContext=function(t){return Fn.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return Fn.current.useDeferredValue(t)};ze.useEffect=function(t,e){return Fn.current.useEffect(t,e)};ze.useId=function(){return Fn.current.useId()};ze.useImperativeHandle=function(t,e,n){return Fn.current.useImperativeHandle(t,e,n)};ze.useInsertionEffect=function(t,e){return Fn.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return Fn.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return Fn.current.useMemo(t,e)};ze.useReducer=function(t,e,n){return Fn.current.useReducer(t,e,n)};ze.useRef=function(t){return Fn.current.useRef(t)};ze.useState=function(t){return Fn.current.useState(t)};ze.useSyncExternalStore=function(t,e,n){return Fn.current.useSyncExternalStore(t,e,n)};ze.useTransition=function(){return Fn.current.useTransition()};ze.version="18.3.1";N0.exports=ze;var G=N0.exports;const z0=b0(G),YS=k0({__proto__:null,default:z0},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS=G,JS=Symbol.for("react.element"),ZS=Symbol.for("react.fragment"),eA=Object.prototype.hasOwnProperty,tA=XS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nA={key:!0,ref:!0,__self:!0,__source:!0};function B0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)eA.call(e,r)&&!nA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:JS,type:t,key:s,ref:o,props:i,_owner:tA.current}}sd.Fragment=ZS;sd.jsx=B0;sd.jsxs=B0;x0.exports=sd;var L=x0.exports,Wf={},$0={exports:{}},ur={},H0={exports:{}},W0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,me){var B=re.length;re.push(me);e:for(;0<B;){var Le=B-1>>>1,Me=re[Le];if(0<i(Me,me))re[Le]=me,re[B]=Me,B=Le;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var me=re[0],B=re.pop();if(B!==me){re[0]=B;e:for(var Le=0,Me=re.length,Qe=Me>>>1;Le<Qe;){var Je=2*(Le+1)-1,Et=re[Je],Ze=Je+1,sn=re[Ze];if(0>i(Et,B))Ze<Me&&0>i(sn,Et)?(re[Le]=sn,re[Ze]=B,Le=Ze):(re[Le]=Et,re[Je]=B,Le=Je);else if(Ze<Me&&0>i(sn,B))re[Le]=sn,re[Ze]=B,Le=Ze;else break e}}return me}function i(re,me){var B=re.sortIndex-me.sortIndex;return B!==0?B:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],m=1,g=null,v=3,k=!1,x=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(re){for(var me=n(h);me!==null;){if(me.callback===null)r(h);else if(me.startTime<=re)r(h),me.sortIndex=me.expirationTime,e(c,me);else break;me=n(h)}}function $(re){if(O=!1,C(re),!x)if(n(c)!==null)x=!0,pn(Y);else{var me=n(h);me!==null&&$e($,me.startTime-re)}}function Y(re,me){x=!1,O&&(O=!1,A(E),E=-1),k=!0;var B=v;try{for(C(me),g=n(c);g!==null&&(!(g.expirationTime>me)||re&&!b());){var Le=g.callback;if(typeof Le=="function"){g.callback=null,v=g.priorityLevel;var Me=Le(g.expirationTime<=me);me=t.unstable_now(),typeof Me=="function"?g.callback=Me:g===n(c)&&r(c),C(me)}else r(c);g=n(c)}if(g!==null)var Qe=!0;else{var Je=n(h);Je!==null&&$e($,Je.startTime-me),Qe=!1}return Qe}finally{g=null,v=B,k=!1}}var D=!1,S=null,E=-1,I=5,R=-1;function b(){return!(t.unstable_now()-R<I)}function j(){if(S!==null){var re=t.unstable_now();R=re;var me=!0;try{me=S(!0,re)}finally{me?P():(D=!1,S=null)}}else D=!1}var P;if(typeof T=="function")P=function(){T(j)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Vt=Be.port2;Be.port1.onmessage=j,P=function(){Vt.postMessage(null)}}else P=function(){M(j,0)};function pn(re){S=re,D||(D=!0,P())}function $e(re,me){E=M(function(){re(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){x||k||(x=!0,pn(Y))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(re){switch(v){case 1:case 2:case 3:var me=3;break;default:me=v}var B=v;v=me;try{return re()}finally{v=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var B=v;v=re;try{return me()}finally{v=B}},t.unstable_scheduleCallback=function(re,me,B){var Le=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Le+B:Le):B=Le,re){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=B+Me,re={id:m++,callback:me,priorityLevel:re,startTime:B,expirationTime:Me,sortIndex:-1},B>Le?(re.sortIndex=B,e(h,re),n(c)===null&&re===n(h)&&(O?(A(E),E=-1):O=!0,$e($,B-Le))):(re.sortIndex=Me,e(c,re),x||k||(x=!0,pn(Y))),re},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(re){var me=v;return function(){var B=v;v=me;try{return re.apply(this,arguments)}finally{v=B}}}})(W0);H0.exports=W0;var rA=H0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA=G,lr=rA;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q0=new Set,au={};function Bo(t,e){Va(t,e),Va(t+"Capture",e)}function Va(t,e){for(au[t]=e,t=0;t<e.length;t++)q0.add(e[t])}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qf=Object.prototype.hasOwnProperty,sA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wy={},qy={};function oA(t){return qf.call(qy,t)?!0:qf.call(Wy,t)?!1:sA.test(t)?qy[t]=!0:(Wy[t]=!0,!1)}function aA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lA(t,e,n,r){if(e===null||typeof e>"u"||aA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dn[t]=new jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dn[e]=new jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dn[t]=new jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dn[t]=new jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dn[t]=new jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dn[t]=new jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dn[t]=new jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dn[t]=new jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dn[t]=new jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var fm=/[\-:]([a-z])/g;function pm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fm,pm);dn[e]=new jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fm,pm);dn[e]=new jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fm,pm);dn[e]=new jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dn[t]=new jn(t,1,!1,t.toLowerCase(),null,!1,!1)});dn.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dn[t]=new jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function mm(t,e,n,r){var i=dn.hasOwnProperty(e)?dn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lA(e,n,i,r)&&(n=null),r||i===null?oA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $i=iA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rc=Symbol.for("react.element"),pa=Symbol.for("react.portal"),ma=Symbol.for("react.fragment"),gm=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),K0=Symbol.for("react.provider"),G0=Symbol.for("react.context"),ym=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),Qf=Symbol.for("react.suspense_list"),vm=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),Q0=Symbol.for("react.offscreen"),Ky=Symbol.iterator;function Al(t){return t===null||typeof t!="object"?null:(t=Ky&&t[Ky]||t["@@iterator"],typeof t=="function"?t:null)}var kt=Object.assign,of;function Vl(t){if(of===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);of=e&&e[1]||""}return`
`+of+t}var af=!1;function lf(t,e){if(!t||af)return"";af=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{af=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vl(t):""}function uA(t){switch(t.tag){case 5:return Vl(t.type);case 16:return Vl("Lazy");case 13:return Vl("Suspense");case 19:return Vl("SuspenseList");case 0:case 2:case 15:return t=lf(t.type,!1),t;case 11:return t=lf(t.type.render,!1),t;case 1:return t=lf(t.type,!0),t;default:return""}}function Yf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ma:return"Fragment";case pa:return"Portal";case Kf:return"Profiler";case gm:return"StrictMode";case Gf:return"Suspense";case Qf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case G0:return(t.displayName||"Context")+".Consumer";case K0:return(t._context.displayName||"Context")+".Provider";case ym:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vm:return e=t.displayName||null,e!==null?e:Yf(t.type)||"Memo";case us:e=t._payload,t=t._init;try{return Yf(t(e))}catch{}}return null}function cA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yf(e);case 8:return e===gm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Y0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hA(t){var e=Y0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kc(t){t._valueTracker||(t._valueTracker=hA(t))}function X0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Y0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xf(t,e){var n=e.checked;return kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function J0(t,e){e=e.checked,e!=null&&mm(t,"checked",e,!1)}function Jf(t,e){J0(t,e);var n=Ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zf(t,e.type,Ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zf(t,e,n){(e!=="number"||yh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fl=Array.isArray;function Pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ns(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Fl(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ns(n)}}function Z0(t,e){var n=Ns(e.value),r=Ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ew(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ew(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bc,tw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bc=bc||document.createElement("div"),bc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dA=["Webkit","ms","Moz","O"];Object.keys(Kl).forEach(function(t){dA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kl[e]=Kl[t]})});function nw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Kl.hasOwnProperty(t)&&Kl[t]?(""+e).trim():e+"px"}function rw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var fA=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function np(t,e){if(e){if(fA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function rp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=null;function _m(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sp=null,Ra=null,ka=null;function Jy(t){if(t=Bu(t)){if(typeof sp!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=cd(e),sp(t.stateNode,t.type,e))}}function iw(t){Ra?ka?ka.push(t):ka=[t]:Ra=t}function sw(){if(Ra){var t=Ra,e=ka;if(ka=Ra=null,Jy(t),e)for(t=0;t<e.length;t++)Jy(e[t])}}function ow(t,e){return t(e)}function aw(){}var uf=!1;function lw(t,e,n){if(uf)return t(e,n);uf=!0;try{return ow(t,e,n)}finally{uf=!1,(Ra!==null||ka!==null)&&(aw(),sw())}}function uu(t,e){var n=t.stateNode;if(n===null)return null;var r=cd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var op=!1;if(Mi)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){op=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{op=!1}function pA(t,e,n,r,i,s,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(m){this.onError(m)}}var Gl=!1,vh=null,_h=!1,ap=null,mA={onError:function(t){Gl=!0,vh=t}};function gA(t,e,n,r,i,s,o,l,c){Gl=!1,vh=null,pA.apply(mA,arguments)}function yA(t,e,n,r,i,s,o,l,c){if(gA.apply(this,arguments),Gl){if(Gl){var h=vh;Gl=!1,vh=null}else throw Error(Z(198));_h||(_h=!0,ap=h)}}function $o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zy(t){if($o(t)!==t)throw Error(Z(188))}function vA(t){var e=t.alternate;if(!e){if(e=$o(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Zy(i),t;if(s===r)return Zy(i),e;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function cw(t){return t=vA(t),t!==null?hw(t):null}function hw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hw(t);if(e!==null)return e;t=t.sibling}return null}var dw=lr.unstable_scheduleCallback,ev=lr.unstable_cancelCallback,_A=lr.unstable_shouldYield,wA=lr.unstable_requestPaint,Mt=lr.unstable_now,EA=lr.unstable_getCurrentPriorityLevel,wm=lr.unstable_ImmediatePriority,fw=lr.unstable_UserBlockingPriority,wh=lr.unstable_NormalPriority,TA=lr.unstable_LowPriority,pw=lr.unstable_IdlePriority,od=null,li=null;function IA(t){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(od,t,void 0,(t.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:CA,SA=Math.log,AA=Math.LN2;function CA(t){return t>>>=0,t===0?32:31-(SA(t)/AA|0)|0}var xc=64,Nc=4194304;function jl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=jl(l):(s&=o,s!==0&&(r=jl(s)))}else o=n&~i,o!==0?r=jl(o):s!==0&&(r=jl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wr(e),i=1<<n,r|=t[n],e&=~i;return r}function PA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Wr(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=PA(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function lp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mw(){var t=xc;return xc<<=1,!(xc&4194240)&&(xc=64),t}function cf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Uu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wr(e),t[e]=n}function kA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Em(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var lt=0;function gw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yw,Tm,vw,_w,ww,up=!1,Dc=[],ws=null,Es=null,Ts=null,cu=new Map,hu=new Map,hs=[],bA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tv(t,e){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(e.pointerId)}}function Pl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Bu(e),e!==null&&Tm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xA(t,e,n,r,i){switch(e){case"focusin":return ws=Pl(ws,t,e,n,r,i),!0;case"dragenter":return Es=Pl(Es,t,e,n,r,i),!0;case"mouseover":return Ts=Pl(Ts,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return cu.set(s,Pl(cu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hu.set(s,Pl(hu.get(s)||null,t,e,n,r,i)),!0}return!1}function Ew(t){var e=yo(t.target);if(e!==null){var n=$o(e);if(n!==null){if(e=n.tag,e===13){if(e=uw(n),e!==null){t.blockedOn=e,ww(t.priority,function(){vw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ip=r,n.target.dispatchEvent(r),ip=null}else return e=Bu(n),e!==null&&Tm(e),t.blockedOn=n,!1;e.shift()}return!0}function nv(t,e,n){Xc(t)&&n.delete(e)}function NA(){up=!1,ws!==null&&Xc(ws)&&(ws=null),Es!==null&&Xc(Es)&&(Es=null),Ts!==null&&Xc(Ts)&&(Ts=null),cu.forEach(nv),hu.forEach(nv)}function Rl(t,e){t.blockedOn===e&&(t.blockedOn=null,up||(up=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,NA)))}function du(t){function e(i){return Rl(i,t)}if(0<Dc.length){Rl(Dc[0],t);for(var n=1;n<Dc.length;n++){var r=Dc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ws!==null&&Rl(ws,t),Es!==null&&Rl(Es,t),Ts!==null&&Rl(Ts,t),cu.forEach(e),hu.forEach(e),n=0;n<hs.length;n++)r=hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)Ew(n),n.blockedOn===null&&hs.shift()}var ba=$i.ReactCurrentBatchConfig,Th=!0;function DA(t,e,n,r){var i=lt,s=ba.transition;ba.transition=null;try{lt=1,Im(t,e,n,r)}finally{lt=i,ba.transition=s}}function OA(t,e,n,r){var i=lt,s=ba.transition;ba.transition=null;try{lt=4,Im(t,e,n,r)}finally{lt=i,ba.transition=s}}function Im(t,e,n,r){if(Th){var i=cp(t,e,n,r);if(i===null)wf(t,e,r,Ih,n),tv(t,r);else if(xA(i,t,e,n,r))r.stopPropagation();else if(tv(t,r),e&4&&-1<bA.indexOf(t)){for(;i!==null;){var s=Bu(i);if(s!==null&&yw(s),s=cp(t,e,n,r),s===null&&wf(t,e,r,Ih,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wf(t,e,r,null,n)}}var Ih=null;function cp(t,e,n,r){if(Ih=null,t=_m(r),t=yo(t),t!==null)if(e=$o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ih=t,null}function Tw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EA()){case wm:return 1;case fw:return 4;case wh:case TA:return 16;case pw:return 536870912;default:return 16}default:return 16}}var gs=null,Sm=null,Jc=null;function Iw(){if(Jc)return Jc;var t,e=Sm,n=e.length,r,i="value"in gs?gs.value:gs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jc=i.slice(t,1<r?1-r:void 0)}function Zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oc(){return!0}function rv(){return!1}function cr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Oc:rv,this.isPropagationStopped=rv,this}return kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oc)},persist:function(){},isPersistent:Oc}),e}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Am=cr(el),zu=kt({},el,{view:0,detail:0}),LA=cr(zu),hf,df,kl,ad=kt({},zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kl&&(kl&&t.type==="mousemove"?(hf=t.screenX-kl.screenX,df=t.screenY-kl.screenY):df=hf=0,kl=t),hf)},movementY:function(t){return"movementY"in t?t.movementY:df}}),iv=cr(ad),MA=kt({},ad,{dataTransfer:0}),VA=cr(MA),FA=kt({},zu,{relatedTarget:0}),ff=cr(FA),jA=kt({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),UA=cr(jA),zA=kt({},el,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BA=cr(zA),$A=kt({},el,{data:0}),sv=cr($A),HA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qA[t])?!!e[t]:!1}function Cm(){return KA}var GA=kt({},zu,{key:function(t){if(t.key){var e=HA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cm,charCode:function(t){return t.type==="keypress"?Zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QA=cr(GA),YA=kt({},ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ov=cr(YA),XA=kt({},zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cm}),JA=cr(XA),ZA=kt({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),eC=cr(ZA),tC=kt({},ad,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nC=cr(tC),rC=[9,13,27,32],Pm=Mi&&"CompositionEvent"in window,Ql=null;Mi&&"documentMode"in document&&(Ql=document.documentMode);var iC=Mi&&"TextEvent"in window&&!Ql,Sw=Mi&&(!Pm||Ql&&8<Ql&&11>=Ql),av=" ",lv=!1;function Aw(t,e){switch(t){case"keyup":return rC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ga=!1;function sC(t,e){switch(t){case"compositionend":return Cw(e);case"keypress":return e.which!==32?null:(lv=!0,av);case"textInput":return t=e.data,t===av&&lv?null:t;default:return null}}function oC(t,e){if(ga)return t==="compositionend"||!Pm&&Aw(t,e)?(t=Iw(),Jc=Sm=gs=null,ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sw&&e.locale!=="ko"?null:e.data;default:return null}}var aC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aC[t.type]:e==="textarea"}function Pw(t,e,n,r){iw(r),e=Sh(e,"onChange"),0<e.length&&(n=new Am("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yl=null,fu=null;function lC(t){Fw(t,0)}function ld(t){var e=_a(t);if(X0(e))return t}function uC(t,e){if(t==="change")return e}var Rw=!1;if(Mi){var pf;if(Mi){var mf="oninput"in document;if(!mf){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),mf=typeof cv.oninput=="function"}pf=mf}else pf=!1;Rw=pf&&(!document.documentMode||9<document.documentMode)}function hv(){Yl&&(Yl.detachEvent("onpropertychange",kw),fu=Yl=null)}function kw(t){if(t.propertyName==="value"&&ld(fu)){var e=[];Pw(e,fu,t,_m(t)),lw(lC,e)}}function cC(t,e,n){t==="focusin"?(hv(),Yl=e,fu=n,Yl.attachEvent("onpropertychange",kw)):t==="focusout"&&hv()}function hC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ld(fu)}function dC(t,e){if(t==="click")return ld(e)}function fC(t,e){if(t==="input"||t==="change")return ld(e)}function pC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gr=typeof Object.is=="function"?Object.is:pC;function pu(t,e){if(Gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qf.call(e,i)||!Gr(t[i],e[i]))return!1}return!0}function dv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fv(t,e){var n=dv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dv(n)}}function bw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xw(){for(var t=window,e=yh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yh(t.document)}return e}function Rm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mC(t){var e=xw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bw(n.ownerDocument.documentElement,n)){if(r!==null&&Rm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=fv(n,s);var o=fv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gC=Mi&&"documentMode"in document&&11>=document.documentMode,ya=null,hp=null,Xl=null,dp=!1;function pv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dp||ya==null||ya!==yh(r)||(r=ya,"selectionStart"in r&&Rm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xl&&pu(Xl,r)||(Xl=r,r=Sh(hp,"onSelect"),0<r.length&&(e=new Am("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ya)))}function Lc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var va={animationend:Lc("Animation","AnimationEnd"),animationiteration:Lc("Animation","AnimationIteration"),animationstart:Lc("Animation","AnimationStart"),transitionend:Lc("Transition","TransitionEnd")},gf={},Nw={};Mi&&(Nw=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function ud(t){if(gf[t])return gf[t];if(!va[t])return t;var e=va[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Nw)return gf[t]=e[n];return t}var Dw=ud("animationend"),Ow=ud("animationiteration"),Lw=ud("animationstart"),Mw=ud("transitionend"),Vw=new Map,mv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vs(t,e){Vw.set(t,e),Bo(e,[t])}for(var yf=0;yf<mv.length;yf++){var vf=mv[yf],yC=vf.toLowerCase(),vC=vf[0].toUpperCase()+vf.slice(1);Vs(yC,"on"+vC)}Vs(Dw,"onAnimationEnd");Vs(Ow,"onAnimationIteration");Vs(Lw,"onAnimationStart");Vs("dblclick","onDoubleClick");Vs("focusin","onFocus");Vs("focusout","onBlur");Vs(Mw,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);Bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_C=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function gv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yA(r,e,void 0,t),t.currentTarget=null}function Fw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;gv(i,l,h),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;gv(i,l,h),s=c}}}if(_h)throw t=ap,_h=!1,ap=null,t}function It(t,e){var n=e[yp];n===void 0&&(n=e[yp]=new Set);var r=t+"__bubble";n.has(r)||(jw(e,t,2,!1),n.add(r))}function _f(t,e,n){var r=0;e&&(r|=4),jw(n,t,r,e)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function mu(t){if(!t[Mc]){t[Mc]=!0,q0.forEach(function(n){n!=="selectionchange"&&(_C.has(n)||_f(n,!1,t),_f(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mc]||(e[Mc]=!0,_f("selectionchange",!1,e))}}function jw(t,e,n,r){switch(Tw(e)){case 1:var i=DA;break;case 4:i=OA;break;default:i=Im}n=i.bind(null,e,n,t),i=void 0,!op||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=yo(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}lw(function(){var h=s,m=_m(n),g=[];e:{var v=Vw.get(t);if(v!==void 0){var k=Am,x=t;switch(t){case"keypress":if(Zc(n)===0)break e;case"keydown":case"keyup":k=QA;break;case"focusin":x="focus",k=ff;break;case"focusout":x="blur",k=ff;break;case"beforeblur":case"afterblur":k=ff;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=iv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=VA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=JA;break;case Dw:case Ow:case Lw:k=UA;break;case Mw:k=eC;break;case"scroll":k=LA;break;case"wheel":k=nC;break;case"copy":case"cut":case"paste":k=BA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=ov}var O=(e&4)!==0,M=!O&&t==="scroll",A=O?v!==null?v+"Capture":null:v;O=[];for(var T=h,C;T!==null;){C=T;var $=C.stateNode;if(C.tag===5&&$!==null&&(C=$,A!==null&&($=uu(T,A),$!=null&&O.push(gu(T,$,C)))),M)break;T=T.return}0<O.length&&(v=new k(v,x,null,n,m),g.push({event:v,listeners:O}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",v&&n!==ip&&(x=n.relatedTarget||n.fromElement)&&(yo(x)||x[Vi]))break e;if((k||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,k?(x=n.relatedTarget||n.toElement,k=h,x=x?yo(x):null,x!==null&&(M=$o(x),x!==M||x.tag!==5&&x.tag!==6)&&(x=null)):(k=null,x=h),k!==x)){if(O=iv,$="onMouseLeave",A="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(O=ov,$="onPointerLeave",A="onPointerEnter",T="pointer"),M=k==null?v:_a(k),C=x==null?v:_a(x),v=new O($,T+"leave",k,n,m),v.target=M,v.relatedTarget=C,$=null,yo(m)===h&&(O=new O(A,T+"enter",x,n,m),O.target=C,O.relatedTarget=M,$=O),M=$,k&&x)t:{for(O=k,A=x,T=0,C=O;C;C=ua(C))T++;for(C=0,$=A;$;$=ua($))C++;for(;0<T-C;)O=ua(O),T--;for(;0<C-T;)A=ua(A),C--;for(;T--;){if(O===A||A!==null&&O===A.alternate)break t;O=ua(O),A=ua(A)}O=null}else O=null;k!==null&&yv(g,v,k,O,!1),x!==null&&M!==null&&yv(g,M,x,O,!0)}}e:{if(v=h?_a(h):window,k=v.nodeName&&v.nodeName.toLowerCase(),k==="select"||k==="input"&&v.type==="file")var Y=uC;else if(uv(v))if(Rw)Y=fC;else{Y=hC;var D=cC}else(k=v.nodeName)&&k.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(Y=dC);if(Y&&(Y=Y(t,h))){Pw(g,Y,n,m);break e}D&&D(t,v,h),t==="focusout"&&(D=v._wrapperState)&&D.controlled&&v.type==="number"&&Zf(v,"number",v.value)}switch(D=h?_a(h):window,t){case"focusin":(uv(D)||D.contentEditable==="true")&&(ya=D,hp=h,Xl=null);break;case"focusout":Xl=hp=ya=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,pv(g,n,m);break;case"selectionchange":if(gC)break;case"keydown":case"keyup":pv(g,n,m)}var S;if(Pm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ga?Aw(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Sw&&n.locale!=="ko"&&(ga||E!=="onCompositionStart"?E==="onCompositionEnd"&&ga&&(S=Iw()):(gs=m,Sm="value"in gs?gs.value:gs.textContent,ga=!0)),D=Sh(h,E),0<D.length&&(E=new sv(E,t,null,n,m),g.push({event:E,listeners:D}),S?E.data=S:(S=Cw(n),S!==null&&(E.data=S)))),(S=iC?sC(t,n):oC(t,n))&&(h=Sh(h,"onBeforeInput"),0<h.length&&(m=new sv("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:h}),m.data=S))}Fw(g,e)})}function gu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=uu(t,n),s!=null&&r.unshift(gu(t,s,i)),s=uu(t,e),s!=null&&r.push(gu(t,s,i))),t=t.return}return r}function ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=uu(n,s),c!=null&&o.unshift(gu(n,c,l))):i||(c=uu(n,s),c!=null&&o.push(gu(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wC=/\r\n?/g,EC=/\u0000|\uFFFD/g;function vv(t){return(typeof t=="string"?t:""+t).replace(wC,`
`).replace(EC,"")}function Vc(t,e,n){if(e=vv(e),vv(t)!==e&&n)throw Error(Z(425))}function Ah(){}var fp=null,pp=null;function mp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gp=typeof setTimeout=="function"?setTimeout:void 0,TC=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,IC=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(t){return _v.resolve(null).then(t).catch(SC)}:gp;function SC(t){setTimeout(function(){throw t})}function Ef(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),du(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);du(e)}function Is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tl=Math.random().toString(36).slice(2),ai="__reactFiber$"+tl,yu="__reactProps$"+tl,Vi="__reactContainer$"+tl,yp="__reactEvents$"+tl,AC="__reactListeners$"+tl,CC="__reactHandles$"+tl;function yo(t){var e=t[ai];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vi]||n[ai]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wv(t);t!==null;){if(n=t[ai])return n;t=wv(t)}return e}t=n,n=t.parentNode}return null}function Bu(t){return t=t[ai]||t[Vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _a(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function cd(t){return t[yu]||null}var vp=[],wa=-1;function Fs(t){return{current:t}}function St(t){0>wa||(t.current=vp[wa],vp[wa]=null,wa--)}function _t(t,e){wa++,vp[wa]=t.current,t.current=e}var Ds={},Cn=Fs(Ds),Gn=Fs(!1),Po=Ds;function Fa(t,e){var n=t.type.contextTypes;if(!n)return Ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(t){return t=t.childContextTypes,t!=null}function Ch(){St(Gn),St(Cn)}function Ev(t,e,n){if(Cn.current!==Ds)throw Error(Z(168));_t(Cn,e),_t(Gn,n)}function Uw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,cA(t)||"Unknown",i));return kt({},n,r)}function Ph(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ds,Po=Cn.current,_t(Cn,t),_t(Gn,Gn.current),!0}function Tv(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=Uw(t,e,Po),r.__reactInternalMemoizedMergedChildContext=t,St(Gn),St(Cn),_t(Cn,t)):St(Gn),_t(Gn,n)}var Ci=null,hd=!1,Tf=!1;function zw(t){Ci===null?Ci=[t]:Ci.push(t)}function PC(t){hd=!0,zw(t)}function js(){if(!Tf&&Ci!==null){Tf=!0;var t=0,e=lt;try{var n=Ci;for(lt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ci=null,hd=!1}catch(i){throw Ci!==null&&(Ci=Ci.slice(t+1)),dw(wm,js),i}finally{lt=e,Tf=!1}}return null}var Ea=[],Ta=0,Rh=null,kh=0,Tr=[],Ir=0,Ro=null,Ri=1,ki="";function fo(t,e){Ea[Ta++]=kh,Ea[Ta++]=Rh,Rh=t,kh=e}function Bw(t,e,n){Tr[Ir++]=Ri,Tr[Ir++]=ki,Tr[Ir++]=Ro,Ro=t;var r=Ri;t=ki;var i=32-Wr(r)-1;r&=~(1<<i),n+=1;var s=32-Wr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ri=1<<32-Wr(e)+i|n<<i|r,ki=s+t}else Ri=1<<s|n<<i|r,ki=t}function km(t){t.return!==null&&(fo(t,1),Bw(t,1,0))}function bm(t){for(;t===Rh;)Rh=Ea[--Ta],Ea[Ta]=null,kh=Ea[--Ta],Ea[Ta]=null;for(;t===Ro;)Ro=Tr[--Ir],Tr[Ir]=null,ki=Tr[--Ir],Tr[Ir]=null,Ri=Tr[--Ir],Tr[Ir]=null}var or=null,ir=null,At=!1,$r=null;function $w(t,e){var n=Sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Iv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,or=t,ir=Is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,or=t,ir=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ro!==null?{id:Ri,overflow:ki}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,or=t,ir=null,!0):!1;default:return!1}}function _p(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wp(t){if(At){var e=ir;if(e){var n=e;if(!Iv(t,e)){if(_p(t))throw Error(Z(418));e=Is(n.nextSibling);var r=or;e&&Iv(t,e)?$w(r,n):(t.flags=t.flags&-4097|2,At=!1,or=t)}}else{if(_p(t))throw Error(Z(418));t.flags=t.flags&-4097|2,At=!1,or=t}}}function Sv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;or=t}function Fc(t){if(t!==or)return!1;if(!At)return Sv(t),At=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mp(t.type,t.memoizedProps)),e&&(e=ir)){if(_p(t))throw Hw(),Error(Z(418));for(;e;)$w(t,e),e=Is(e.nextSibling)}if(Sv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ir=Is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ir=null}}else ir=or?Is(t.stateNode.nextSibling):null;return!0}function Hw(){for(var t=ir;t;)t=Is(t.nextSibling)}function ja(){ir=or=null,At=!1}function xm(t){$r===null?$r=[t]:$r.push(t)}var RC=$i.ReactCurrentBatchConfig;function bl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function jc(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Av(t){var e=t._init;return e(t._payload)}function Ww(t){function e(A,T){if(t){var C=A.deletions;C===null?(A.deletions=[T],A.flags|=16):C.push(T)}}function n(A,T){if(!t)return null;for(;T!==null;)e(A,T),T=T.sibling;return null}function r(A,T){for(A=new Map;T!==null;)T.key!==null?A.set(T.key,T):A.set(T.index,T),T=T.sibling;return A}function i(A,T){return A=Ps(A,T),A.index=0,A.sibling=null,A}function s(A,T,C){return A.index=C,t?(C=A.alternate,C!==null?(C=C.index,C<T?(A.flags|=2,T):C):(A.flags|=2,T)):(A.flags|=1048576,T)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function l(A,T,C,$){return T===null||T.tag!==6?(T=kf(C,A.mode,$),T.return=A,T):(T=i(T,C),T.return=A,T)}function c(A,T,C,$){var Y=C.type;return Y===ma?m(A,T,C.props.children,$,C.key):T!==null&&(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===us&&Av(Y)===T.type)?($=i(T,C.props),$.ref=bl(A,T,C),$.return=A,$):($=oh(C.type,C.key,C.props,null,A.mode,$),$.ref=bl(A,T,C),$.return=A,$)}function h(A,T,C,$){return T===null||T.tag!==4||T.stateNode.containerInfo!==C.containerInfo||T.stateNode.implementation!==C.implementation?(T=bf(C,A.mode,$),T.return=A,T):(T=i(T,C.children||[]),T.return=A,T)}function m(A,T,C,$,Y){return T===null||T.tag!==7?(T=Ao(C,A.mode,$,Y),T.return=A,T):(T=i(T,C),T.return=A,T)}function g(A,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return T=kf(""+T,A.mode,C),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Rc:return C=oh(T.type,T.key,T.props,null,A.mode,C),C.ref=bl(A,null,T),C.return=A,C;case pa:return T=bf(T,A.mode,C),T.return=A,T;case us:var $=T._init;return g(A,$(T._payload),C)}if(Fl(T)||Al(T))return T=Ao(T,A.mode,C,null),T.return=A,T;jc(A,T)}return null}function v(A,T,C,$){var Y=T!==null?T.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return Y!==null?null:l(A,T,""+C,$);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Rc:return C.key===Y?c(A,T,C,$):null;case pa:return C.key===Y?h(A,T,C,$):null;case us:return Y=C._init,v(A,T,Y(C._payload),$)}if(Fl(C)||Al(C))return Y!==null?null:m(A,T,C,$,null);jc(A,C)}return null}function k(A,T,C,$,Y){if(typeof $=="string"&&$!==""||typeof $=="number")return A=A.get(C)||null,l(T,A,""+$,Y);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Rc:return A=A.get($.key===null?C:$.key)||null,c(T,A,$,Y);case pa:return A=A.get($.key===null?C:$.key)||null,h(T,A,$,Y);case us:var D=$._init;return k(A,T,C,D($._payload),Y)}if(Fl($)||Al($))return A=A.get(C)||null,m(T,A,$,Y,null);jc(T,$)}return null}function x(A,T,C,$){for(var Y=null,D=null,S=T,E=T=0,I=null;S!==null&&E<C.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var R=v(A,S,C[E],$);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(A,S),T=s(R,T,E),D===null?Y=R:D.sibling=R,D=R,S=I}if(E===C.length)return n(A,S),At&&fo(A,E),Y;if(S===null){for(;E<C.length;E++)S=g(A,C[E],$),S!==null&&(T=s(S,T,E),D===null?Y=S:D.sibling=S,D=S);return At&&fo(A,E),Y}for(S=r(A,S);E<C.length;E++)I=k(S,A,E,C[E],$),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),T=s(I,T,E),D===null?Y=I:D.sibling=I,D=I);return t&&S.forEach(function(b){return e(A,b)}),At&&fo(A,E),Y}function O(A,T,C,$){var Y=Al(C);if(typeof Y!="function")throw Error(Z(150));if(C=Y.call(C),C==null)throw Error(Z(151));for(var D=Y=null,S=T,E=T=0,I=null,R=C.next();S!==null&&!R.done;E++,R=C.next()){S.index>E?(I=S,S=null):I=S.sibling;var b=v(A,S,R.value,$);if(b===null){S===null&&(S=I);break}t&&S&&b.alternate===null&&e(A,S),T=s(b,T,E),D===null?Y=b:D.sibling=b,D=b,S=I}if(R.done)return n(A,S),At&&fo(A,E),Y;if(S===null){for(;!R.done;E++,R=C.next())R=g(A,R.value,$),R!==null&&(T=s(R,T,E),D===null?Y=R:D.sibling=R,D=R);return At&&fo(A,E),Y}for(S=r(A,S);!R.done;E++,R=C.next())R=k(S,A,E,R.value,$),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?E:R.key),T=s(R,T,E),D===null?Y=R:D.sibling=R,D=R);return t&&S.forEach(function(j){return e(A,j)}),At&&fo(A,E),Y}function M(A,T,C,$){if(typeof C=="object"&&C!==null&&C.type===ma&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Rc:e:{for(var Y=C.key,D=T;D!==null;){if(D.key===Y){if(Y=C.type,Y===ma){if(D.tag===7){n(A,D.sibling),T=i(D,C.props.children),T.return=A,A=T;break e}}else if(D.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===us&&Av(Y)===D.type){n(A,D.sibling),T=i(D,C.props),T.ref=bl(A,D,C),T.return=A,A=T;break e}n(A,D);break}else e(A,D);D=D.sibling}C.type===ma?(T=Ao(C.props.children,A.mode,$,C.key),T.return=A,A=T):($=oh(C.type,C.key,C.props,null,A.mode,$),$.ref=bl(A,T,C),$.return=A,A=$)}return o(A);case pa:e:{for(D=C.key;T!==null;){if(T.key===D)if(T.tag===4&&T.stateNode.containerInfo===C.containerInfo&&T.stateNode.implementation===C.implementation){n(A,T.sibling),T=i(T,C.children||[]),T.return=A,A=T;break e}else{n(A,T);break}else e(A,T);T=T.sibling}T=bf(C,A.mode,$),T.return=A,A=T}return o(A);case us:return D=C._init,M(A,T,D(C._payload),$)}if(Fl(C))return x(A,T,C,$);if(Al(C))return O(A,T,C,$);jc(A,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,T!==null&&T.tag===6?(n(A,T.sibling),T=i(T,C),T.return=A,A=T):(n(A,T),T=kf(C,A.mode,$),T.return=A,A=T),o(A)):n(A,T)}return M}var Ua=Ww(!0),qw=Ww(!1),bh=Fs(null),xh=null,Ia=null,Nm=null;function Dm(){Nm=Ia=xh=null}function Om(t){var e=bh.current;St(bh),t._currentValue=e}function Ep(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xa(t,e){xh=t,Nm=Ia=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kn=!0),t.firstContext=null)}function Cr(t){var e=t._currentValue;if(Nm!==t)if(t={context:t,memoizedValue:e,next:null},Ia===null){if(xh===null)throw Error(Z(308));Ia=t,xh.dependencies={lanes:0,firstContext:t}}else Ia=Ia.next=t;return e}var vo=null;function Lm(t){vo===null?vo=[t]:vo.push(t)}function Kw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Lm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fi(t,r)}function Fi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cs=!1;function Mm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fi(t,n)}return i=r.interleaved,i===null?(e.next=e,Lm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fi(t,n)}function eh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Em(t,n)}}function Cv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nh(t,e,n,r){var i=t.updateQueue;cs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var m=t.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=h:l.next=h,m.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;o=0,m=h=c=null,l=s;do{var v=l.lane,k=l.eventTime;if((r&v)===v){m!==null&&(m=m.next={eventTime:k,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,O=l;switch(v=e,k=n,O.tag){case 1:if(x=O.payload,typeof x=="function"){g=x.call(k,g,v);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=O.payload,v=typeof x=="function"?x.call(k,g,v):x,v==null)break e;g=kt({},g,v);break e;case 2:cs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[l]:v.push(l))}else k={eventTime:k,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(h=m=k,c=g):m=m.next=k,o|=v;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;v=l,l=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(m===null&&(c=g),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);bo|=o,t.lanes=o,t.memoizedState=g}}function Pv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var $u={},ui=Fs($u),vu=Fs($u),_u=Fs($u);function _o(t){if(t===$u)throw Error(Z(174));return t}function Vm(t,e){switch(_t(_u,e),_t(vu,t),_t(ui,$u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tp(e,t)}St(ui),_t(ui,e)}function za(){St(ui),St(vu),St(_u)}function Qw(t){_o(_u.current);var e=_o(ui.current),n=tp(e,t.type);e!==n&&(_t(vu,t),_t(ui,n))}function Fm(t){vu.current===t&&(St(ui),St(vu))}var Pt=Fs(0);function Dh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var If=[];function jm(){for(var t=0;t<If.length;t++)If[t]._workInProgressVersionPrimary=null;If.length=0}var th=$i.ReactCurrentDispatcher,Sf=$i.ReactCurrentBatchConfig,ko=0,Rt=null,Yt=null,nn=null,Oh=!1,Jl=!1,wu=0,kC=0;function wn(){throw Error(Z(321))}function Um(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gr(t[n],e[n]))return!1;return!0}function zm(t,e,n,r,i,s){if(ko=s,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,th.current=t===null||t.memoizedState===null?DC:OC,t=n(r,i),Jl){s=0;do{if(Jl=!1,wu=0,25<=s)throw Error(Z(301));s+=1,nn=Yt=null,e.updateQueue=null,th.current=LC,t=n(r,i)}while(Jl)}if(th.current=Lh,e=Yt!==null&&Yt.next!==null,ko=0,nn=Yt=Rt=null,Oh=!1,e)throw Error(Z(300));return t}function Bm(){var t=wu!==0;return wu=0,t}function oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Rt.memoizedState=nn=t:nn=nn.next=t,nn}function Pr(){if(Yt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=nn===null?Rt.memoizedState:nn.next;if(e!==null)nn=e,Yt=t;else{if(t===null)throw Error(Z(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},nn===null?Rt.memoizedState=nn=t:nn=nn.next=t}return nn}function Eu(t,e){return typeof e=="function"?e(t):e}function Af(t){var e=Pr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=Yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,h=s;do{var m=h.lane;if((ko&m)===m)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=g,o=r):c=c.next=g,Rt.lanes|=m,bo|=m}h=h.next}while(h!==null&&h!==s);c===null?o=r:c.next=l,Gr(r,e.memoizedState)||(Kn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Rt.lanes|=s,bo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cf(t){var e=Pr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gr(s,e.memoizedState)||(Kn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Yw(){}function Xw(t,e){var n=Rt,r=Pr(),i=e(),s=!Gr(r.memoizedState,i);if(s&&(r.memoizedState=i,Kn=!0),r=r.queue,$m(eE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nn!==null&&nn.memoizedState.tag&1){if(n.flags|=2048,Tu(9,Zw.bind(null,n,r,i,e),void 0,null),rn===null)throw Error(Z(349));ko&30||Jw(n,e,i)}return i}function Jw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Zw(t,e,n,r){e.value=n,e.getSnapshot=r,tE(e)&&nE(t)}function eE(t,e,n){return n(function(){tE(e)&&nE(t)})}function tE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gr(t,n)}catch{return!0}}function nE(t){var e=Fi(t,1);e!==null&&qr(e,t,1,-1)}function Rv(t){var e=oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:t},e.queue=t,t=t.dispatch=NC.bind(null,Rt,t),[e.memoizedState,t]}function Tu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rE(){return Pr().memoizedState}function nh(t,e,n,r){var i=oi();Rt.flags|=t,i.memoizedState=Tu(1|e,n,void 0,r===void 0?null:r)}function dd(t,e,n,r){var i=Pr();r=r===void 0?null:r;var s=void 0;if(Yt!==null){var o=Yt.memoizedState;if(s=o.destroy,r!==null&&Um(r,o.deps)){i.memoizedState=Tu(e,n,s,r);return}}Rt.flags|=t,i.memoizedState=Tu(1|e,n,s,r)}function kv(t,e){return nh(8390656,8,t,e)}function $m(t,e){return dd(2048,8,t,e)}function iE(t,e){return dd(4,2,t,e)}function sE(t,e){return dd(4,4,t,e)}function oE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aE(t,e,n){return n=n!=null?n.concat([t]):null,dd(4,4,oE.bind(null,e,t),n)}function Hm(){}function lE(t,e){var n=Pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Um(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uE(t,e){var n=Pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Um(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cE(t,e,n){return ko&21?(Gr(n,e)||(n=mw(),Rt.lanes|=n,bo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kn=!0),t.memoizedState=n)}function bC(t,e){var n=lt;lt=n!==0&&4>n?n:4,t(!0);var r=Sf.transition;Sf.transition={};try{t(!1),e()}finally{lt=n,Sf.transition=r}}function hE(){return Pr().memoizedState}function xC(t,e,n){var r=Cs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dE(t))fE(e,n);else if(n=Kw(t,e,n,r),n!==null){var i=Vn();qr(n,t,r,i),pE(n,e,r)}}function NC(t,e,n){var r=Cs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dE(t))fE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Gr(l,o)){var c=e.interleaved;c===null?(i.next=i,Lm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Kw(t,e,i,r),n!==null&&(i=Vn(),qr(n,t,r,i),pE(n,e,r))}}function dE(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function fE(t,e){Jl=Oh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Em(t,n)}}var Lh={readContext:Cr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},DC={readContext:Cr,useCallback:function(t,e){return oi().memoizedState=[t,e===void 0?null:e],t},useContext:Cr,useEffect:kv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nh(4194308,4,oE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nh(4194308,4,t,e)},useInsertionEffect:function(t,e){return nh(4,2,t,e)},useMemo:function(t,e){var n=oi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xC.bind(null,Rt,t),[r.memoizedState,t]},useRef:function(t){var e=oi();return t={current:t},e.memoizedState=t},useState:Rv,useDebugValue:Hm,useDeferredValue:function(t){return oi().memoizedState=t},useTransition:function(){var t=Rv(!1),e=t[0];return t=bC.bind(null,t[1]),oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rt,i=oi();if(At){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),rn===null)throw Error(Z(349));ko&30||Jw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,kv(eE.bind(null,r,s,t),[t]),r.flags|=2048,Tu(9,Zw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=oi(),e=rn.identifierPrefix;if(At){var n=ki,r=Ri;n=(r&~(1<<32-Wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OC={readContext:Cr,useCallback:lE,useContext:Cr,useEffect:$m,useImperativeHandle:aE,useInsertionEffect:iE,useLayoutEffect:sE,useMemo:uE,useReducer:Af,useRef:rE,useState:function(){return Af(Eu)},useDebugValue:Hm,useDeferredValue:function(t){var e=Pr();return cE(e,Yt.memoizedState,t)},useTransition:function(){var t=Af(Eu)[0],e=Pr().memoizedState;return[t,e]},useMutableSource:Yw,useSyncExternalStore:Xw,useId:hE,unstable_isNewReconciler:!1},LC={readContext:Cr,useCallback:lE,useContext:Cr,useEffect:$m,useImperativeHandle:aE,useInsertionEffect:iE,useLayoutEffect:sE,useMemo:uE,useReducer:Cf,useRef:rE,useState:function(){return Cf(Eu)},useDebugValue:Hm,useDeferredValue:function(t){var e=Pr();return Yt===null?e.memoizedState=t:cE(e,Yt.memoizedState,t)},useTransition:function(){var t=Cf(Eu)[0],e=Pr().memoizedState;return[t,e]},useMutableSource:Yw,useSyncExternalStore:Xw,useId:hE,unstable_isNewReconciler:!1};function Ur(t,e){if(t&&t.defaultProps){e=kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fd={isMounted:function(t){return(t=t._reactInternals)?$o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=Cs(t),s=Di(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ss(t,s,i),e!==null&&(qr(e,t,i,r),eh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=Cs(t),s=Di(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ss(t,s,i),e!==null&&(qr(e,t,i,r),eh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vn(),r=Cs(t),i=Di(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ss(t,i,r),e!==null&&(qr(e,t,r,n),eh(e,t,r))}};function bv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!pu(n,r)||!pu(i,s):!0}function mE(t,e,n){var r=!1,i=Ds,s=e.contextType;return typeof s=="object"&&s!==null?s=Cr(s):(i=Qn(e)?Po:Cn.current,r=e.contextTypes,s=(r=r!=null)?Fa(t,i):Ds),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fd.enqueueReplaceState(e,e.state,null)}function Ip(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Mm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Cr(s):(s=Qn(e)?Po:Cn.current,i.context=Fa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Tp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fd.enqueueReplaceState(i,i.state,null),Nh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ba(t,e){try{var n="",r=e;do n+=uA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var MC=typeof WeakMap=="function"?WeakMap:Map;function gE(t,e,n){n=Di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vh||(Vh=!0,Op=r),Sp(t,e)},n}function yE(t,e,n){n=Di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sp(t,e),typeof r!="function"&&(As===null?As=new Set([this]):As.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Nv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new MC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=YC.bind(null,t,e,n),e.then(t,t))}function Dv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ov(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Di(-1,1),e.tag=2,Ss(n,e,1))),n.lanes|=1),t)}var VC=$i.ReactCurrentOwner,Kn=!1;function Mn(t,e,n,r){e.child=t===null?qw(e,null,n,r):Ua(e,t.child,n,r)}function Lv(t,e,n,r,i){n=n.render;var s=e.ref;return xa(e,i),r=zm(t,e,n,r,s,i),n=Bm(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ji(t,e,i)):(At&&n&&km(e),e.flags|=1,Mn(t,e,r,i),e.child)}function Mv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Jm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vE(t,e,s,r,i)):(t=oh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:pu,n(o,r)&&t.ref===e.ref)return ji(t,e,i)}return e.flags|=1,t=Ps(s,r),t.ref=e.ref,t.return=e,e.child=t}function vE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(pu(s,r)&&t.ref===e.ref)if(Kn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Kn=!0);else return e.lanes=t.lanes,ji(t,e,i)}return Ap(t,e,n,r,i)}function _E(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Aa,nr),nr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_t(Aa,nr),nr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_t(Aa,nr),nr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_t(Aa,nr),nr|=r;return Mn(t,e,i,n),e.child}function wE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ap(t,e,n,r,i){var s=Qn(n)?Po:Cn.current;return s=Fa(e,s),xa(e,i),n=zm(t,e,n,r,s,i),r=Bm(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ji(t,e,i)):(At&&r&&km(e),e.flags|=1,Mn(t,e,n,i),e.child)}function Vv(t,e,n,r,i){if(Qn(n)){var s=!0;Ph(e)}else s=!1;if(xa(e,i),e.stateNode===null)rh(t,e),mE(e,n,r),Ip(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Cr(h):(h=Qn(n)?Po:Cn.current,h=Fa(e,h));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==h)&&xv(e,o,r,h),cs=!1;var v=e.memoizedState;o.state=v,Nh(e,r,o,i),c=e.memoizedState,l!==r||v!==c||Gn.current||cs?(typeof m=="function"&&(Tp(e,n,m,r),c=e.memoizedState),(l=cs||bv(e,n,l,r,v,c,h))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Gw(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Ur(e.type,l),o.props=h,g=e.pendingProps,v=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=Qn(n)?Po:Cn.current,c=Fa(e,c));var k=n.getDerivedStateFromProps;(m=typeof k=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||v!==c)&&xv(e,o,r,c),cs=!1,v=e.memoizedState,o.state=v,Nh(e,r,o,i);var x=e.memoizedState;l!==g||v!==x||Gn.current||cs?(typeof k=="function"&&(Tp(e,n,k,r),x=e.memoizedState),(h=cs||bv(e,n,h,r,v,x,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Cp(t,e,n,r,s,i)}function Cp(t,e,n,r,i,s){wE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Tv(e,n,!1),ji(t,e,s);r=e.stateNode,VC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ua(e,t.child,null,s),e.child=Ua(e,null,l,s)):Mn(t,e,l,s),e.memoizedState=r.state,i&&Tv(e,n,!0),e.child}function EE(t){var e=t.stateNode;e.pendingContext?Ev(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ev(t,e.context,!1),Vm(t,e.containerInfo)}function Fv(t,e,n,r,i){return ja(),xm(i),e.flags|=256,Mn(t,e,n,r),e.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function Rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function TE(t,e,n){var r=e.pendingProps,i=Pt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_t(Pt,i&1),t===null)return wp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=gd(o,r,0,null),t=Ao(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rp(n),e.memoizedState=Pp,t):Wm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return FC(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ps(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ps(l,s):(s=Ao(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Pp,r}return s=t.child,t=s.sibling,r=Ps(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wm(t,e){return e=gd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uc(t,e,n,r){return r!==null&&xm(r),Ua(e,t.child,null,n),t=Wm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Pf(Error(Z(422))),Uc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=gd({mode:"visible",children:r.children},i,0,null),s=Ao(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ua(e,t.child,null,o),e.child.memoizedState=Rp(o),e.memoizedState=Pp,s);if(!(e.mode&1))return Uc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(Z(419)),r=Pf(s,r,void 0),Uc(t,e,o,r)}if(l=(o&t.childLanes)!==0,Kn||l){if(r=rn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fi(t,i),qr(r,t,i,-1))}return Xm(),r=Pf(Error(Z(421))),Uc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ir=Is(i.nextSibling),or=e,At=!0,$r=null,t!==null&&(Tr[Ir++]=Ri,Tr[Ir++]=ki,Tr[Ir++]=Ro,Ri=t.id,ki=t.overflow,Ro=e),e=Wm(e,r.children),e.flags|=4096,e)}function jv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ep(t.return,e,n)}function Rf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function IE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Mn(t,e,r.children,n),r=Pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jv(t,n,e);else if(t.tag===19)jv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_t(Pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rf(e,!0,n,null,s);break;case"together":Rf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ji(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jC(t,e,n){switch(e.tag){case 3:EE(e),ja();break;case 5:Qw(e);break;case 1:Qn(e.type)&&Ph(e);break;case 4:Vm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_t(bh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_t(Pt,Pt.current&1),e.flags|=128,null):n&e.child.childLanes?TE(t,e,n):(_t(Pt,Pt.current&1),t=ji(t,e,n),t!==null?t.sibling:null);_t(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return IE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_t(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,_E(t,e,n)}return ji(t,e,n)}var SE,kp,AE,CE;SE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kp=function(){};AE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_o(ui.current);var s=null;switch(n){case"input":i=Xf(t,i),r=Xf(t,r),s=[];break;case"select":i=kt({},i,{value:void 0}),r=kt({},r,{value:void 0}),s=[];break;case"textarea":i=ep(t,i),r=ep(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ah)}np(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(au.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(au.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&It("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};CE=function(t,e,n,r){n!==r&&(e.flags|=4)};function xl(t,e){if(!At)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function En(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UC(t,e,n){var r=e.pendingProps;switch(bm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(e),null;case 1:return Qn(e.type)&&Ch(),En(e),null;case 3:return r=e.stateNode,za(),St(Gn),St(Cn),jm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r!==null&&(Vp($r),$r=null))),kp(t,e),En(e),null;case 5:Fm(e);var i=_o(_u.current);if(n=e.type,t!==null&&e.stateNode!=null)AE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return En(e),null}if(t=_o(ui.current),Fc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ai]=e,r[yu]=s,t=(e.mode&1)!==0,n){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(i=0;i<Ul.length;i++)It(Ul[i],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":Gy(r,s),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},It("invalid",r);break;case"textarea":Yy(r,s),It("invalid",r)}np(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Vc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Vc(r.textContent,l,t),i=["children",""+l]):au.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&It("scroll",r)}switch(n){case"input":kc(r),Qy(r,s,!0);break;case"textarea":kc(r),Xy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ah)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ew(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ai]=e,t[yu]=r,SE(t,e,!1,!1),e.stateNode=t;e:{switch(o=rp(n,r),n){case"dialog":It("cancel",t),It("close",t),i=r;break;case"iframe":case"object":case"embed":It("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ul.length;i++)It(Ul[i],t);i=r;break;case"source":It("error",t),i=r;break;case"img":case"image":case"link":It("error",t),It("load",t),i=r;break;case"details":It("toggle",t),i=r;break;case"input":Gy(t,r),i=Xf(t,r),It("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=kt({},r,{value:void 0}),It("invalid",t);break;case"textarea":Yy(t,r),i=ep(t,r),It("invalid",t);break;default:i=r}np(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?rw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tw(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&lu(t,c):typeof c=="number"&&lu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(au.hasOwnProperty(s)?c!=null&&s==="onScroll"&&It("scroll",t):c!=null&&mm(t,s,c,o))}switch(n){case"input":kc(t),Qy(t,r,!1);break;case"textarea":kc(t),Xy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ns(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Pa(t,!!r.multiple,s,!1):r.defaultValue!=null&&Pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ah)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return En(e),null;case 6:if(t&&e.stateNode!=null)CE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=_o(_u.current),_o(ui.current),Fc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ai]=e,(s=r.nodeValue!==n)&&(t=or,t!==null))switch(t.tag){case 3:Vc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ai]=e,e.stateNode=r}return En(e),null;case 13:if(St(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(At&&ir!==null&&e.mode&1&&!(e.flags&128))Hw(),ja(),e.flags|=98560,s=!1;else if(s=Fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[ai]=e}else ja(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;En(e),s=!1}else $r!==null&&(Vp($r),$r=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?Jt===0&&(Jt=3):Xm())),e.updateQueue!==null&&(e.flags|=4),En(e),null);case 4:return za(),kp(t,e),t===null&&mu(e.stateNode.containerInfo),En(e),null;case 10:return Om(e.type._context),En(e),null;case 17:return Qn(e.type)&&Ch(),En(e),null;case 19:if(St(Pt),s=e.memoizedState,s===null)return En(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xl(s,!1);else{if(Jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dh(t),o!==null){for(e.flags|=128,xl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _t(Pt,Pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Mt()>$a&&(e.flags|=128,r=!0,xl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!At)return En(e),null}else 2*Mt()-s.renderingStartTime>$a&&n!==1073741824&&(e.flags|=128,r=!0,xl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mt(),e.sibling=null,n=Pt.current,_t(Pt,r?n&1|2:n&1),e):(En(e),null);case 22:case 23:return Ym(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nr&1073741824&&(En(e),e.subtreeFlags&6&&(e.flags|=8192)):En(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function zC(t,e){switch(bm(e),e.tag){case 1:return Qn(e.type)&&Ch(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return za(),St(Gn),St(Cn),jm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fm(e),null;case 13:if(St(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(Pt),null;case 4:return za(),null;case 10:return Om(e.type._context),null;case 22:case 23:return Ym(),null;case 24:return null;default:return null}}var zc=!1,Sn=!1,BC=typeof WeakSet=="function"?WeakSet:Set,le=null;function Sa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dt(t,e,r)}else n.current=null}function bp(t,e,n){try{n()}catch(r){Dt(t,e,r)}}var Uv=!1;function $C(t,e){if(fp=Th,t=xw(),Rm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,h=0,m=0,g=t,v=null;t:for(;;){for(var k;g!==n||i!==0&&g.nodeType!==3||(l=o+i),g!==s||r!==0&&g.nodeType!==3||(c=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(k=g.firstChild)!==null;)v=g,g=k;for(;;){if(g===t)break t;if(v===n&&++h===i&&(l=o),v===s&&++m===r&&(c=o),(k=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=k}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pp={focusedElem:t,selectionRange:n},Th=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var O=x.memoizedProps,M=x.memoizedState,A=e.stateNode,T=A.getSnapshotBeforeUpdate(e.elementType===e.type?O:Ur(e.type,O),M);A.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch($){Dt(e,e.return,$)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return x=Uv,Uv=!1,x}function Zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bp(e,n,s)}i=i.next}while(i!==r)}}function pd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PE(t){var e=t.alternate;e!==null&&(t.alternate=null,PE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ai],delete e[yu],delete e[yp],delete e[AC],delete e[CC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RE(t){return t.tag===5||t.tag===3||t.tag===4}function zv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Np(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ah));else if(r!==4&&(t=t.child,t!==null))for(Np(t,e,n),t=t.sibling;t!==null;)Np(t,e,n),t=t.sibling}function Dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dp(t,e,n),t=t.sibling;t!==null;)Dp(t,e,n),t=t.sibling}var an=null,zr=!1;function os(t,e,n){for(n=n.child;n!==null;)kE(t,e,n),n=n.sibling}function kE(t,e,n){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(od,n)}catch{}switch(n.tag){case 5:Sn||Sa(n,e);case 6:var r=an,i=zr;an=null,os(t,e,n),an=r,zr=i,an!==null&&(zr?(t=an,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):an.removeChild(n.stateNode));break;case 18:an!==null&&(zr?(t=an,n=n.stateNode,t.nodeType===8?Ef(t.parentNode,n):t.nodeType===1&&Ef(t,n),du(t)):Ef(an,n.stateNode));break;case 4:r=an,i=zr,an=n.stateNode.containerInfo,zr=!0,os(t,e,n),an=r,zr=i;break;case 0:case 11:case 14:case 15:if(!Sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bp(n,e,o),i=i.next}while(i!==r)}os(t,e,n);break;case 1:if(!Sn&&(Sa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Dt(n,e,l)}os(t,e,n);break;case 21:os(t,e,n);break;case 22:n.mode&1?(Sn=(r=Sn)||n.memoizedState!==null,os(t,e,n),Sn=r):os(t,e,n);break;default:os(t,e,n)}}function Bv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BC),e.forEach(function(r){var i=JC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:an=l.stateNode,zr=!1;break e;case 3:an=l.stateNode.containerInfo,zr=!0;break e;case 4:an=l.stateNode.containerInfo,zr=!0;break e}l=l.return}if(an===null)throw Error(Z(160));kE(s,o,i),an=null,zr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){Dt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bE(e,t),e=e.sibling}function bE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jr(e,t),si(t),r&4){try{Zl(3,t,t.return),pd(3,t)}catch(O){Dt(t,t.return,O)}try{Zl(5,t,t.return)}catch(O){Dt(t,t.return,O)}}break;case 1:jr(e,t),si(t),r&512&&n!==null&&Sa(n,n.return);break;case 5:if(jr(e,t),si(t),r&512&&n!==null&&Sa(n,n.return),t.flags&32){var i=t.stateNode;try{lu(i,"")}catch(O){Dt(t,t.return,O)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&J0(i,s),rp(l,o);var h=rp(l,s);for(o=0;o<c.length;o+=2){var m=c[o],g=c[o+1];m==="style"?rw(i,g):m==="dangerouslySetInnerHTML"?tw(i,g):m==="children"?lu(i,g):mm(i,m,g,h)}switch(l){case"input":Jf(i,s);break;case"textarea":Z0(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var k=s.value;k!=null?Pa(i,!!s.multiple,k,!1):v!==!!s.multiple&&(s.defaultValue!=null?Pa(i,!!s.multiple,s.defaultValue,!0):Pa(i,!!s.multiple,s.multiple?[]:"",!1))}i[yu]=s}catch(O){Dt(t,t.return,O)}}break;case 6:if(jr(e,t),si(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(O){Dt(t,t.return,O)}}break;case 3:if(jr(e,t),si(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{du(e.containerInfo)}catch(O){Dt(t,t.return,O)}break;case 4:jr(e,t),si(t);break;case 13:jr(e,t),si(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gm=Mt())),r&4&&Bv(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(Sn=(h=Sn)||m,jr(e,t),Sn=h):jr(e,t),si(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!m&&t.mode&1)for(le=t,m=t.child;m!==null;){for(g=le=m;le!==null;){switch(v=le,k=v.child,v.tag){case 0:case 11:case 14:case 15:Zl(4,v,v.return);break;case 1:Sa(v,v.return);var x=v.stateNode;if(typeof x.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(O){Dt(r,n,O)}}break;case 5:Sa(v,v.return);break;case 22:if(v.memoizedState!==null){Hv(g);continue}}k!==null?(k.return=v,le=k):Hv(g)}m=m.sibling}e:for(m=null,g=t;;){if(g.tag===5){if(m===null){m=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nw("display",o))}catch(O){Dt(t,t.return,O)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(O){Dt(t,t.return,O)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:jr(e,t),si(t),r&4&&Bv(t);break;case 21:break;default:jr(e,t),si(t)}}function si(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RE(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lu(i,""),r.flags&=-33);var s=zv(t);Dp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=zv(t);Np(t,l,o);break;default:throw Error(Z(161))}}catch(c){Dt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HC(t,e,n){le=t,xE(t)}function xE(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Sn;l=zc;var h=Sn;if(zc=o,(Sn=c)&&!h)for(le=i;le!==null;)o=le,c=o.child,o.tag===22&&o.memoizedState!==null?Wv(i):c!==null?(c.return=o,le=c):Wv(i);for(;s!==null;)le=s,xE(s),s=s.sibling;le=i,zc=l,Sn=h}$v(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,le=s):$v(t)}}function $v(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sn||pd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ur(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Pv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Pv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&du(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Sn||e.flags&512&&xp(e)}catch(v){Dt(e,e.return,v)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function Hv(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function Wv(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{pd(4,e)}catch(c){Dt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Dt(e,i,c)}}var s=e.return;try{xp(e)}catch(c){Dt(e,s,c)}break;case 5:var o=e.return;try{xp(e)}catch(c){Dt(e,o,c)}}}catch(c){Dt(e,e.return,c)}if(e===t){le=null;break}var l=e.sibling;if(l!==null){l.return=e.return,le=l;break}le=e.return}}var WC=Math.ceil,Mh=$i.ReactCurrentDispatcher,qm=$i.ReactCurrentOwner,Ar=$i.ReactCurrentBatchConfig,Ye=0,rn=null,Ht=null,cn=0,nr=0,Aa=Fs(0),Jt=0,Iu=null,bo=0,md=0,Km=0,eu=null,Wn=null,Gm=0,$a=1/0,Ai=null,Vh=!1,Op=null,As=null,Bc=!1,ys=null,Fh=0,tu=0,Lp=null,ih=-1,sh=0;function Vn(){return Ye&6?Mt():ih!==-1?ih:ih=Mt()}function Cs(t){return t.mode&1?Ye&2&&cn!==0?cn&-cn:RC.transition!==null?(sh===0&&(sh=mw()),sh):(t=lt,t!==0||(t=window.event,t=t===void 0?16:Tw(t.type)),t):1}function qr(t,e,n,r){if(50<tu)throw tu=0,Lp=null,Error(Z(185));Uu(t,n,r),(!(Ye&2)||t!==rn)&&(t===rn&&(!(Ye&2)&&(md|=n),Jt===4&&ds(t,cn)),Yn(t,r),n===1&&Ye===0&&!(e.mode&1)&&($a=Mt()+500,hd&&js()))}function Yn(t,e){var n=t.callbackNode;RA(t,e);var r=Eh(t,t===rn?cn:0);if(r===0)n!==null&&ev(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ev(n),e===1)t.tag===0?PC(qv.bind(null,t)):zw(qv.bind(null,t)),IC(function(){!(Ye&6)&&js()}),n=null;else{switch(gw(r)){case 1:n=wm;break;case 4:n=fw;break;case 16:n=wh;break;case 536870912:n=pw;break;default:n=wh}n=jE(n,NE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NE(t,e){if(ih=-1,sh=0,Ye&6)throw Error(Z(327));var n=t.callbackNode;if(Na()&&t.callbackNode!==n)return null;var r=Eh(t,t===rn?cn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jh(t,r);else{e=r;var i=Ye;Ye|=2;var s=OE();(rn!==t||cn!==e)&&(Ai=null,$a=Mt()+500,So(t,e));do try{GC();break}catch(l){DE(t,l)}while(!0);Dm(),Mh.current=s,Ye=i,Ht!==null?e=0:(rn=null,cn=0,e=Jt)}if(e!==0){if(e===2&&(i=lp(t),i!==0&&(r=i,e=Mp(t,i))),e===1)throw n=Iu,So(t,0),ds(t,r),Yn(t,Mt()),n;if(e===6)ds(t,r);else{if(i=t.current.alternate,!(r&30)&&!qC(i)&&(e=jh(t,r),e===2&&(s=lp(t),s!==0&&(r=s,e=Mp(t,s))),e===1))throw n=Iu,So(t,0),ds(t,r),Yn(t,Mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:po(t,Wn,Ai);break;case 3:if(ds(t,r),(r&130023424)===r&&(e=Gm+500-Mt(),10<e)){if(Eh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gp(po.bind(null,t,Wn,Ai),e);break}po(t,Wn,Ai);break;case 4:if(ds(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Wr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WC(r/1960))-r,10<r){t.timeoutHandle=gp(po.bind(null,t,Wn,Ai),r);break}po(t,Wn,Ai);break;case 5:po(t,Wn,Ai);break;default:throw Error(Z(329))}}}return Yn(t,Mt()),t.callbackNode===n?NE.bind(null,t):null}function Mp(t,e){var n=eu;return t.current.memoizedState.isDehydrated&&(So(t,e).flags|=256),t=jh(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&Vp(e)),t}function Vp(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function qC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ds(t,e){for(e&=~Km,e&=~md,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wr(e),r=1<<n;t[n]=-1,e&=~r}}function qv(t){if(Ye&6)throw Error(Z(327));Na();var e=Eh(t,0);if(!(e&1))return Yn(t,Mt()),null;var n=jh(t,e);if(t.tag!==0&&n===2){var r=lp(t);r!==0&&(e=r,n=Mp(t,r))}if(n===1)throw n=Iu,So(t,0),ds(t,e),Yn(t,Mt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,po(t,Wn,Ai),Yn(t,Mt()),null}function Qm(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&($a=Mt()+500,hd&&js())}}function xo(t){ys!==null&&ys.tag===0&&!(Ye&6)&&Na();var e=Ye;Ye|=1;var n=Ar.transition,r=lt;try{if(Ar.transition=null,lt=1,t)return t()}finally{lt=r,Ar.transition=n,Ye=e,!(Ye&6)&&js()}}function Ym(){nr=Aa.current,St(Aa)}function So(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TC(n)),Ht!==null)for(n=Ht.return;n!==null;){var r=n;switch(bm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ch();break;case 3:za(),St(Gn),St(Cn),jm();break;case 5:Fm(r);break;case 4:za();break;case 13:St(Pt);break;case 19:St(Pt);break;case 10:Om(r.type._context);break;case 22:case 23:Ym()}n=n.return}if(rn=t,Ht=t=Ps(t.current,null),cn=nr=e,Jt=0,Iu=null,Km=md=bo=0,Wn=eu=null,vo!==null){for(e=0;e<vo.length;e++)if(n=vo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vo=null}return t}function DE(t,e){do{var n=Ht;try{if(Dm(),th.current=Lh,Oh){for(var r=Rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Oh=!1}if(ko=0,nn=Yt=Rt=null,Jl=!1,wu=0,qm.current=null,n===null||n.return===null){Jt=1,Iu=e,Ht=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=cn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,m=l,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var k=Dv(o);if(k!==null){k.flags&=-257,Ov(k,o,l,s,e),k.mode&1&&Nv(s,h,e),e=k,c=h;var x=e.updateQueue;if(x===null){var O=new Set;O.add(c),e.updateQueue=O}else x.add(c);break e}else{if(!(e&1)){Nv(s,h,e),Xm();break e}c=Error(Z(426))}}else if(At&&l.mode&1){var M=Dv(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Ov(M,o,l,s,e),xm(Ba(c,l));break e}}s=c=Ba(c,l),Jt!==4&&(Jt=2),eu===null?eu=[s]:eu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=gE(s,c,e);Cv(s,A);break e;case 1:l=c;var T=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(As===null||!As.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var $=yE(s,l,e);Cv(s,$);break e}}s=s.return}while(s!==null)}ME(n)}catch(Y){e=Y,Ht===n&&n!==null&&(Ht=n=n.return);continue}break}while(!0)}function OE(){var t=Mh.current;return Mh.current=Lh,t===null?Lh:t}function Xm(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),rn===null||!(bo&268435455)&&!(md&268435455)||ds(rn,cn)}function jh(t,e){var n=Ye;Ye|=2;var r=OE();(rn!==t||cn!==e)&&(Ai=null,So(t,e));do try{KC();break}catch(i){DE(t,i)}while(!0);if(Dm(),Ye=n,Mh.current=r,Ht!==null)throw Error(Z(261));return rn=null,cn=0,Jt}function KC(){for(;Ht!==null;)LE(Ht)}function GC(){for(;Ht!==null&&!_A();)LE(Ht)}function LE(t){var e=FE(t.alternate,t,nr);t.memoizedProps=t.pendingProps,e===null?ME(t):Ht=e,qm.current=null}function ME(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zC(n,e),n!==null){n.flags&=32767,Ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Jt=6,Ht=null;return}}else if(n=UC(n,e,nr),n!==null){Ht=n;return}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=t}while(e!==null);Jt===0&&(Jt=5)}function po(t,e,n){var r=lt,i=Ar.transition;try{Ar.transition=null,lt=1,QC(t,e,n,r)}finally{Ar.transition=i,lt=r}return null}function QC(t,e,n,r){do Na();while(ys!==null);if(Ye&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(kA(t,s),t===rn&&(Ht=rn=null,cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bc||(Bc=!0,jE(wh,function(){return Na(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ar.transition,Ar.transition=null;var o=lt;lt=1;var l=Ye;Ye|=4,qm.current=null,$C(t,n),bE(n,t),mC(pp),Th=!!fp,pp=fp=null,t.current=n,HC(n),wA(),Ye=l,lt=o,Ar.transition=s}else t.current=n;if(Bc&&(Bc=!1,ys=t,Fh=i),s=t.pendingLanes,s===0&&(As=null),IA(n.stateNode),Yn(t,Mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vh)throw Vh=!1,t=Op,Op=null,t;return Fh&1&&t.tag!==0&&Na(),s=t.pendingLanes,s&1?t===Lp?tu++:(tu=0,Lp=t):tu=0,js(),null}function Na(){if(ys!==null){var t=gw(Fh),e=Ar.transition,n=lt;try{if(Ar.transition=null,lt=16>t?16:t,ys===null)var r=!1;else{if(t=ys,ys=null,Fh=0,Ye&6)throw Error(Z(331));var i=Ye;for(Ye|=4,le=t.current;le!==null;){var s=le,o=s.child;if(le.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(le=h;le!==null;){var m=le;switch(m.tag){case 0:case 11:case 15:Zl(8,m,s)}var g=m.child;if(g!==null)g.return=m,le=g;else for(;le!==null;){m=le;var v=m.sibling,k=m.return;if(PE(m),m===h){le=null;break}if(v!==null){v.return=k,le=v;break}le=k}}}var x=s.alternate;if(x!==null){var O=x.child;if(O!==null){x.child=null;do{var M=O.sibling;O.sibling=null,O=M}while(O!==null)}}le=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,le=o;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zl(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,le=A;break e}le=s.return}}var T=t.current;for(le=T;le!==null;){o=le;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,le=C;else e:for(o=T;le!==null;){if(l=le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:pd(9,l)}}catch(Y){Dt(l,l.return,Y)}if(l===o){le=null;break e}var $=l.sibling;if($!==null){$.return=l.return,le=$;break e}le=l.return}}if(Ye=i,js(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(od,t)}catch{}r=!0}return r}finally{lt=n,Ar.transition=e}}return!1}function Kv(t,e,n){e=Ba(n,e),e=gE(t,e,1),t=Ss(t,e,1),e=Vn(),t!==null&&(Uu(t,1,e),Yn(t,e))}function Dt(t,e,n){if(t.tag===3)Kv(t,t,n);else for(;e!==null;){if(e.tag===3){Kv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){t=Ba(n,t),t=yE(e,t,1),e=Ss(e,t,1),t=Vn(),e!==null&&(Uu(e,1,t),Yn(e,t));break}}e=e.return}}function YC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vn(),t.pingedLanes|=t.suspendedLanes&n,rn===t&&(cn&n)===n&&(Jt===4||Jt===3&&(cn&130023424)===cn&&500>Mt()-Gm?So(t,0):Km|=n),Yn(t,e)}function VE(t,e){e===0&&(t.mode&1?(e=Nc,Nc<<=1,!(Nc&130023424)&&(Nc=4194304)):e=1);var n=Vn();t=Fi(t,e),t!==null&&(Uu(t,e,n),Yn(t,n))}function XC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VE(t,n)}function JC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),VE(t,n)}var FE;FE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)Kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kn=!1,jC(t,e,n);Kn=!!(t.flags&131072)}else Kn=!1,At&&e.flags&1048576&&Bw(e,kh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rh(t,e),t=e.pendingProps;var i=Fa(e,Cn.current);xa(e,n),i=zm(null,e,r,t,i,n);var s=Bm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(r)?(s=!0,Ph(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mm(e),i.updater=fd,e.stateNode=i,i._reactInternals=e,Ip(e,r,t,n),e=Cp(null,e,r,!0,s,n)):(e.tag=0,At&&s&&km(e),Mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=eP(r),t=Ur(r,t),i){case 0:e=Ap(null,e,r,t,n);break e;case 1:e=Vv(null,e,r,t,n);break e;case 11:e=Lv(null,e,r,t,n);break e;case 14:e=Mv(null,e,r,Ur(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ur(r,i),Ap(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ur(r,i),Vv(t,e,r,i,n);case 3:e:{if(EE(e),t===null)throw Error(Z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Gw(t,e),Nh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ba(Error(Z(423)),e),e=Fv(t,e,r,n,i);break e}else if(r!==i){i=Ba(Error(Z(424)),e),e=Fv(t,e,r,n,i);break e}else for(ir=Is(e.stateNode.containerInfo.firstChild),or=e,At=!0,$r=null,n=qw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ja(),r===i){e=ji(t,e,n);break e}Mn(t,e,r,n)}e=e.child}return e;case 5:return Qw(e),t===null&&wp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,mp(r,i)?o=null:s!==null&&mp(r,s)&&(e.flags|=32),wE(t,e),Mn(t,e,o,n),e.child;case 6:return t===null&&wp(e),null;case 13:return TE(t,e,n);case 4:return Vm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ua(e,null,r,n):Mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ur(r,i),Lv(t,e,r,i,n);case 7:return Mn(t,e,e.pendingProps,n),e.child;case 8:return Mn(t,e,e.pendingProps.children,n),e.child;case 12:return Mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_t(bh,r._currentValue),r._currentValue=o,s!==null)if(Gr(s.value,o)){if(s.children===i.children&&!Gn.current){e=ji(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Di(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?c.next=c:(c.next=m.next,m.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Ep(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Z(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ep(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xa(e,n),i=Cr(i),r=r(i),e.flags|=1,Mn(t,e,r,n),e.child;case 14:return r=e.type,i=Ur(r,e.pendingProps),i=Ur(r.type,i),Mv(t,e,r,i,n);case 15:return vE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ur(r,i),rh(t,e),e.tag=1,Qn(r)?(t=!0,Ph(e)):t=!1,xa(e,n),mE(e,r,i),Ip(e,r,i,n),Cp(null,e,r,!0,t,n);case 19:return IE(t,e,n);case 22:return _E(t,e,n)}throw Error(Z(156,e.tag))};function jE(t,e){return dw(t,e)}function ZC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(t,e,n,r){return new ZC(t,e,n,r)}function Jm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eP(t){if(typeof t=="function")return Jm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ym)return 11;if(t===vm)return 14}return 2}function Ps(t,e){var n=t.alternate;return n===null?(n=Sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Jm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ma:return Ao(n.children,i,s,e);case gm:o=8,i|=8;break;case Kf:return t=Sr(12,n,e,i|2),t.elementType=Kf,t.lanes=s,t;case Gf:return t=Sr(13,n,e,i),t.elementType=Gf,t.lanes=s,t;case Qf:return t=Sr(19,n,e,i),t.elementType=Qf,t.lanes=s,t;case Q0:return gd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K0:o=10;break e;case G0:o=9;break e;case ym:o=11;break e;case vm:o=14;break e;case us:o=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Sr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ao(t,e,n,r){return t=Sr(7,t,r,e),t.lanes=n,t}function gd(t,e,n,r){return t=Sr(22,t,r,e),t.elementType=Q0,t.lanes=n,t.stateNode={isHidden:!1},t}function kf(t,e,n){return t=Sr(6,t,null,e),t.lanes=n,t}function bf(t,e,n){return e=Sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cf(0),this.expirationTimes=cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zm(t,e,n,r,i,s,o,l,c){return t=new tP(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mm(s),t}function nP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function UE(t){if(!t)return Ds;t=t._reactInternals;e:{if($o(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Qn(n))return Uw(t,n,e)}return e}function zE(t,e,n,r,i,s,o,l,c){return t=Zm(n,r,!0,t,i,s,o,l,c),t.context=UE(null),n=t.current,r=Vn(),i=Cs(n),s=Di(r,i),s.callback=e??null,Ss(n,s,i),t.current.lanes=i,Uu(t,i,r),Yn(t,r),t}function yd(t,e,n,r){var i=e.current,s=Vn(),o=Cs(i);return n=UE(n),e.context===null?e.context=n:e.pendingContext=n,e=Di(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ss(i,e,o),t!==null&&(qr(t,i,o,s),eh(t,i,o)),o}function Uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function eg(t,e){Gv(t,e),(t=t.alternate)&&Gv(t,e)}function rP(){return null}var BE=typeof reportError=="function"?reportError:function(t){console.error(t)};function tg(t){this._internalRoot=t}vd.prototype.render=tg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));yd(t,e,null,null)};vd.prototype.unmount=tg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xo(function(){yd(null,t,null,null)}),e[Vi]=null}};function vd(t){this._internalRoot=t}vd.prototype.unstable_scheduleHydration=function(t){if(t){var e=_w();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hs.length&&e!==0&&e<hs[n].priority;n++);hs.splice(n,0,t),n===0&&Ew(t)}};function ng(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qv(){}function iP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Uh(o);s.call(h)}}var o=zE(e,r,t,0,null,!1,!1,"",Qv);return t._reactRootContainer=o,t[Vi]=o.current,mu(t.nodeType===8?t.parentNode:t),xo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Uh(c);l.call(h)}}var c=Zm(t,0,!1,null,null,!1,!1,"",Qv);return t._reactRootContainer=c,t[Vi]=c.current,mu(t.nodeType===8?t.parentNode:t),xo(function(){yd(e,c,n,r)}),c}function wd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Uh(o);l.call(c)}}yd(e,o,t,i)}else o=iP(n,e,t,i,r);return Uh(o)}yw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jl(e.pendingLanes);n!==0&&(Em(e,n|1),Yn(e,Mt()),!(Ye&6)&&($a=Mt()+500,js()))}break;case 13:xo(function(){var r=Fi(t,1);if(r!==null){var i=Vn();qr(r,t,1,i)}}),eg(t,1)}};Tm=function(t){if(t.tag===13){var e=Fi(t,134217728);if(e!==null){var n=Vn();qr(e,t,134217728,n)}eg(t,134217728)}};vw=function(t){if(t.tag===13){var e=Cs(t),n=Fi(t,e);if(n!==null){var r=Vn();qr(n,t,e,r)}eg(t,e)}};_w=function(){return lt};ww=function(t,e){var n=lt;try{return lt=t,e()}finally{lt=n}};sp=function(t,e,n){switch(e){case"input":if(Jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=cd(r);if(!i)throw Error(Z(90));X0(r),Jf(r,i)}}}break;case"textarea":Z0(t,n);break;case"select":e=n.value,e!=null&&Pa(t,!!n.multiple,e,!1)}};ow=Qm;aw=xo;var sP={usingClientEntryPoint:!1,Events:[Bu,_a,cd,iw,sw,Qm]},Nl={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oP={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cw(t),t===null?null:t.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||rP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{od=$c.inject(oP),li=$c}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sP;ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ng(e))throw Error(Z(200));return nP(t,e,null,n)};ur.createRoot=function(t,e){if(!ng(t))throw Error(Z(299));var n=!1,r="",i=BE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zm(t,1,!1,null,null,n,!1,r,i),t[Vi]=e.current,mu(t.nodeType===8?t.parentNode:t),new tg(e)};ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=cw(e),t=t===null?null:t.stateNode,t};ur.flushSync=function(t){return xo(t)};ur.hydrate=function(t,e,n){if(!_d(e))throw Error(Z(200));return wd(null,t,e,!0,n)};ur.hydrateRoot=function(t,e,n){if(!ng(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=BE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zE(e,null,t,1,n??null,i,!1,s,o),t[Vi]=e.current,mu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vd(e)};ur.render=function(t,e,n){if(!_d(e))throw Error(Z(200));return wd(null,t,e,!1,n)};ur.unmountComponentAtNode=function(t){if(!_d(t))throw Error(Z(40));return t._reactRootContainer?(xo(function(){wd(null,null,t,!1,function(){t._reactRootContainer=null,t[Vi]=null})}),!0):!1};ur.unstable_batchedUpdates=Qm;ur.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_d(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return wd(t,e,n,!1,r)};ur.version="18.3.1-next-f1338f8080-20240426";function $E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($E)}catch(t){console.error(t)}}$E(),$0.exports=ur;var rg=$0.exports;const aP=b0(rg),lP=k0({__proto__:null,default:aP},[rg]);var Yv=rg;Wf.createRoot=Yv.createRoot,Wf.hydrateRoot=Yv.hydrateRoot;const uP=({children:t})=>L.jsx("div",{className:"h1 text-center fw-bold text-body mt-2",children:t}),cP=({children:t})=>L.jsx("div",{className:"h3 text-center text-secondary",children:t}),hP=({onClick:t})=>L.jsx("button",{type:"button",className:"btn btn-success",onClick:t,children:"Generate Quote Now!"}),dP=({children:t})=>L.jsx("div",{className:"lead text-center text-body mt-4 mx-5 display-4",children:t}),fP=({children:t})=>L.jsxs("div",{className:"lead text-center text-secondary mt-5 fw-bold",children:["- ",t]}),pP=({children:t})=>L.jsx("button",{type:"button",className:"btn btn-secondary m-3",children:t});/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ct(){return Ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ct.apply(this,arguments)}var Bt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bt||(Bt={}));const Xv="popstate";function mP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Su("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:No(i)}return yP(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ha(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gP(){return Math.random().toString(36).substr(2,8)}function Jv(t,e){return{usr:t.state,key:t.key,idx:e}}function Su(t,e,n,r){return n===void 0&&(n=null),Ct({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Us(e):e,{state:n,key:e&&e.key||r||gP()})}function No(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Us(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Bt.Pop,c=null,h=m();h==null&&(h=0,o.replaceState(Ct({},o.state,{idx:h}),""));function m(){return(o.state||{idx:null}).idx}function g(){l=Bt.Pop;let M=m(),A=M==null?null:M-h;h=M,c&&c({action:l,location:O.location,delta:A})}function v(M,A){l=Bt.Push;let T=Su(O.location,M,A);h=m()+1;let C=Jv(T,h),$=O.createHref(T);try{o.pushState(C,"",$)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign($)}s&&c&&c({action:l,location:O.location,delta:1})}function k(M,A){l=Bt.Replace;let T=Su(O.location,M,A);h=m();let C=Jv(T,h),$=O.createHref(T);o.replaceState(C,"",$),s&&c&&c({action:l,location:O.location,delta:0})}function x(M){let A=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof M=="string"?M:No(M);return T=T.replace(/ $/,"%20"),Ue(A,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,A)}let O={get action(){return l},get location(){return t(i,o)},listen(M){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Xv,g),c=M,()=>{i.removeEventListener(Xv,g),c=null}},createHref(M){return e(i,M)},createURL:x,encodeLocation(M){let A=x(M);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:k,go(M){return o.go(M)}};return O}var vt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vt||(vt={}));const vP=new Set(["lazy","caseSensitive","path","id","index","children"]);function _P(t){return t.index===!0}function Au(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(Ue(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ue(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),_P(i)){let c=Ct({},i,e(i),{id:l});return r[l]=c,c}else{let c=Ct({},i,e(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=Au(i.children,e,o,r)),c}})}function go(t,e,n){return n===void 0&&(n="/"),ah(t,e,n,!1)}function ah(t,e,n,r){let i=typeof e=="string"?Us(e):e,s=nl(i.pathname||"/",n);if(s==null)return null;let o=HE(t);EP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=NP(s);l=bP(o[c],h,r)}return l}function wP(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function HE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ue(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Oi([r,c.relativePath]),m=n.concat(c);s.children&&s.children.length>0&&(Ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),HE(s.children,e,m,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:RP(h,s.index),routesMeta:m})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of WE(s.path))i(s,o,c)}),e}function WE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=WE(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function EP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TP=/^:[\w-]+$/,IP=3,SP=2,AP=1,CP=10,PP=-2,Zv=t=>t==="*";function RP(t,e){let n=t.split("/"),r=n.length;return n.some(Zv)&&(r+=PP),e&&(r+=SP),n.filter(i=>!Zv(i)).reduce((i,s)=>i+(TP.test(s)?IP:s===""?AP:CP),r)}function kP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bP(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=e_({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},m),v=c.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=e_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:Oi([s,g.pathname]),pathnameBase:LP(Oi([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=Oi([s,g.pathnameBase]))}return o}function e_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,m,g)=>{let{paramName:v,isOptional:k}=m;if(v==="*"){let O=l[g]||"";o=s.slice(0,s.length-O.length).replace(/(.)\/+$/,"$1")}const x=l[g];return k&&!x?h[v]=void 0:h[v]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function xP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ha(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ha(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Us(t):t;return{pathname:n?n.startsWith("/")?n:OP(n,e):e,search:MP(r),hash:VP(i)}}function OP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ig(t,e){let n=qE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Us(t):(i=Ct({},t),Ue(!i.pathname||!i.pathname.includes("?"),xf("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),xf("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),xf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}l=g>=0?e[g]:"/"}let c=DP(i,l),h=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||m)&&(c.pathname+="/"),c}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),LP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class og{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ed(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KE=["post","put","patch","delete"],FP=new Set(KE),jP=["get",...KE],UP=new Set(jP),zP=new Set([301,302,303,307,308]),BP=new Set([307,308]),Nf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$P={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Dl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ag=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HP=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),GE="remix-router-transitions";function WP(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ue(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=F=>({hasErrorBoundary:N(F)})}else i=HP;let s={},o=Au(t.routes,i,void 0,s),l,c=t.basename||"/",h=t.unstable_dataStrategy||YP,m=t.unstable_patchRoutesOnMiss,g=Ct({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),v=null,k=new Set,x=null,O=null,M=null,A=t.hydrationData!=null,T=go(o,t.history.location,c),C=null;if(T==null&&!m){let N=Ln(404,{pathname:t.history.location.pathname}),{matches:F,route:H}=c_(o);T=F,C={[H.id]:N}}T&&m&&!t.hydrationData&&kn(T,o,t.history.location.pathname).active&&(T=null);let $;if(!T)$=!1,T=[];else if(T.some(N=>N.route.lazy))$=!1;else if(!T.some(N=>N.route.loader))$=!0;else if(g.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,H=K=>K.route.loader?typeof K.route.loader=="function"&&K.route.loader.hydrate===!0?!1:N&&N[K.route.id]!==void 0||F&&F[K.route.id]!==void 0:!0;if(F){let K=T.findIndex(ie=>F[ie.route.id]!==void 0);$=T.slice(0,K+1).every(H)}else $=T.every(H)}else $=t.hydrationData!=null;let Y,D={historyAction:t.history.action,location:t.history.location,matches:T,initialized:$,navigation:Nf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},S=Bt.Pop,E=!1,I,R=!1,b=new Map,j=null,P=!1,Be=!1,Vt=[],pn=[],$e=new Map,re=0,me=-1,B=new Map,Le=new Set,Me=new Map,Qe=new Map,Je=new Set,Et=new Map,Ze=new Map,sn=new Map,de=!1;function Qr(){if(v=t.history.listen(N=>{let{action:F,location:H,delta:K}=N;if(de){de=!1;return}Ha(Ze.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Jr({currentLocation:D.location,nextLocation:H,historyAction:F});if(ie&&K!=null){de=!0,t.history.go(K*-1),Xr(ie,{state:"blocked",location:H,proceed(){Xr(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),t.history.go(K)},reset(){let fe=new Map(D.blockers);fe.set(ie,Dl),pe({blockers:fe})}});return}return Ft(F,H)}),n){uR(e,b);let N=()=>cR(e,b);e.addEventListener("pagehide",N),j=()=>e.removeEventListener("pagehide",N)}return D.initialized||Ft(Bt.Pop,D.location,{initialHydration:!0}),Y}function kr(){v&&v(),j&&j(),k.clear(),I&&I.abort(),D.fetchers.forEach((N,F)=>qi(F)),D.blockers.forEach((N,F)=>Gi(F))}function Ve(N){return k.add(N),()=>k.delete(N)}function pe(N,F){F===void 0&&(F={}),D=Ct({},D,N);let H=[],K=[];g.v7_fetcherPersist&&D.fetchers.forEach((ie,fe)=>{ie.state==="idle"&&(Je.has(fe)?K.push(fe):H.push(fe))}),[...k].forEach(ie=>ie(D,{deletedFetchers:K,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),g.v7_fetcherPersist&&(H.forEach(ie=>D.fetchers.delete(ie)),K.forEach(ie=>qi(ie)))}function De(N,F,H){var K,ie;let{flushSync:fe}=H===void 0?{}:H,ge=D.actionData!=null&&D.navigation.formMethod!=null&&Br(D.navigation.formMethod)&&D.navigation.state==="loading"&&((K=N.state)==null?void 0:K._isRedirect)!==!0,ee;F.actionData?Object.keys(F.actionData).length>0?ee=F.actionData:ee=null:ge?ee=D.actionData:ee=null;let Te=F.loaderData?l_(D.loaderData,F.loaderData,F.matches||[],F.errors):D.loaderData,ce=D.blockers;ce.size>0&&(ce=new Map(ce),ce.forEach((Ie,Se)=>ce.set(Se,Dl)));let se=E===!0||D.navigation.formMethod!=null&&Br(D.navigation.formMethod)&&((ie=N.state)==null?void 0:ie._isRedirect)!==!0;l&&(o=l,l=void 0),P||S===Bt.Pop||(S===Bt.Push?t.history.push(N,N.state):S===Bt.Replace&&t.history.replace(N,N.state));let ye;if(S===Bt.Pop){let Ie=b.get(D.location.pathname);Ie&&Ie.has(N.pathname)?ye={currentLocation:D.location,nextLocation:N}:b.has(N.pathname)&&(ye={currentLocation:N,nextLocation:D.location})}else if(R){let Ie=b.get(D.location.pathname);Ie?Ie.add(N.pathname):(Ie=new Set([N.pathname]),b.set(D.location.pathname,Ie)),ye={currentLocation:D.location,nextLocation:N}}pe(Ct({},F,{actionData:ee,loaderData:Te,historyAction:S,location:N,initialized:!0,navigation:Nf,revalidation:"idle",restoreScrollPosition:dr(N,F.matches||D.matches),preventScrollReset:se,blockers:ce}),{viewTransitionOpts:ye,flushSync:fe===!0}),S=Bt.Pop,E=!1,R=!1,P=!1,Be=!1,Vt=[],pn=[]}async function et(N,F){if(typeof N=="number"){t.history.go(N);return}let H=Fp(D.location,D.matches,c,g.v7_prependBasename,N,g.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:K,submission:ie,error:fe}=t_(g.v7_normalizeFormMethod,!1,H,F),ge=D.location,ee=Su(D.location,K,F&&F.state);ee=Ct({},ee,t.history.encodeLocation(ee));let Te=F&&F.replace!=null?F.replace:void 0,ce=Bt.Push;Te===!0?ce=Bt.Replace:Te===!1||ie!=null&&Br(ie.formMethod)&&ie.formAction===D.location.pathname+D.location.search&&(ce=Bt.Replace);let se=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,ye=(F&&F.unstable_flushSync)===!0,Ie=Jr({currentLocation:ge,nextLocation:ee,historyAction:ce});if(Ie){Xr(Ie,{state:"blocked",location:ee,proceed(){Xr(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),et(N,F)},reset(){let Se=new Map(D.blockers);Se.set(Ie,Dl),pe({blockers:Se})}});return}return await Ft(ce,ee,{submission:ie,pendingError:fe,preventScrollReset:se,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:ye})}function pt(){if(Tt(),pe({revalidation:"loading"}),D.navigation.state!=="submitting"){if(D.navigation.state==="idle"){Ft(D.historyAction,D.location,{startUninterruptedRevalidation:!0});return}Ft(S||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation})}}async function Ft(N,F,H){I&&I.abort(),I=null,S=N,P=(H&&H.startUninterruptedRevalidation)===!0,Qi(D.location,D.matches),E=(H&&H.preventScrollReset)===!0,R=(H&&H.enableViewTransition)===!0;let K=l||o,ie=H&&H.overrideNavigation,fe=go(K,F,c),ge=(H&&H.flushSync)===!0,ee=kn(fe,K,F.pathname);if(ee.active&&ee.matches&&(fe=ee.matches),!fe){let{error:Fe,notFoundMatches:ut,route:tt}=hr(F.pathname);De(F,{matches:ut,loaderData:{},errors:{[tt.id]:Fe}},{flushSync:ge});return}if(D.initialized&&!Be&&nR(D.location,F)&&!(H&&H.submission&&Br(H.submission.formMethod))){De(F,{matches:fe},{flushSync:ge});return}I=new AbortController;let Te=ca(t.history,F,I.signal,H&&H.submission),ce;if(H&&H.pendingError)ce=[Ca(fe).route.id,{type:vt.error,error:H.pendingError}];else if(H&&H.submission&&Br(H.submission.formMethod)){let Fe=await Wi(Te,F,H.submission,fe,ee.active,{replace:H.replace,flushSync:ge});if(Fe.shortCircuited)return;if(Fe.pendingActionResult){let[ut,tt]=Fe.pendingActionResult;if(rr(tt)&&Ed(tt.error)&&tt.error.status===404){I=null,De(F,{matches:Fe.matches,loaderData:{},errors:{[ut]:tt.error}});return}}fe=Fe.matches||fe,ce=Fe.pendingActionResult,ie=Df(F,H.submission),ge=!1,ee.active=!1,Te=ca(t.history,Te.url,Te.signal)}let{shortCircuited:se,matches:ye,loaderData:Ie,errors:Se}=await ll(Te,F,fe,ee.active,ie,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,H&&H.initialHydration===!0,ge,ce);se||(I=null,De(F,Ct({matches:ye||fe},u_(ce),{loaderData:Ie,errors:Se})))}async function Wi(N,F,H,K,ie,fe){fe===void 0&&(fe={}),Tt();let ge=aR(F,H);if(pe({navigation:ge},{flushSync:fe.flushSync===!0}),ie){let ce=await yi(K,F.pathname,N.signal);if(ce.type==="aborted")return{shortCircuited:!0};if(ce.type==="error"){let{boundaryId:se,error:ye}=xr(F.pathname,ce);return{matches:ce.partialMatches,pendingActionResult:[se,{type:vt.error,error:ye}]}}else if(ce.matches)K=ce.matches;else{let{notFoundMatches:se,error:ye,route:Ie}=hr(F.pathname);return{matches:se,pendingActionResult:[Ie.id,{type:vt.error,error:ye}]}}}let ee,Te=zl(K,F);if(!Te.route.action&&!Te.route.lazy)ee={type:vt.error,error:Ln(405,{method:N.method,pathname:F.pathname,routeId:Te.route.id})};else if(ee=(await on("action",N,[Te],K))[0],N.signal.aborted)return{shortCircuited:!0};if(Eo(ee)){let ce;return fe&&fe.replace!=null?ce=fe.replace:ce=s_(ee.response.headers.get("Location"),new URL(N.url),c)===D.location.pathname+D.location.search,await Un(N,ee,{submission:H,replace:ce}),{shortCircuited:!0}}if(wo(ee))throw Ln(400,{type:"defer-action"});if(rr(ee)){let ce=Ca(K,Te.route.id);return(fe&&fe.replace)!==!0&&(S=Bt.Push),{matches:K,pendingActionResult:[ce.route.id,ee]}}return{matches:K,pendingActionResult:[Te.route.id,ee]}}async function ll(N,F,H,K,ie,fe,ge,ee,Te,ce,se){let ye=ie||Df(F,fe),Ie=fe||ge||f_(ye),Se=!P&&(!g.v7_partialHydration||!Te);if(K){if(Se){let ct=Ws(se);pe(Ct({navigation:ye},ct!==void 0?{actionData:ct}:{}),{flushSync:ce})}let Ae=await yi(H,F.pathname,N.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let{boundaryId:ct,error:Kt}=xr(F.pathname,Ae);return{matches:Ae.partialMatches,loaderData:{},errors:{[ct]:Kt}}}else if(Ae.matches)H=Ae.matches;else{let{error:ct,notFoundMatches:Kt,route:nt}=hr(F.pathname);return{matches:Kt,loaderData:{},errors:{[nt.id]:ct}}}}let Fe=l||o,[ut,tt]=n_(t.history,D,H,Ie,F,g.v7_partialHydration&&Te===!0,g.v7_skipActionErrorRevalidation,Be,Vt,pn,Je,Me,Le,Fe,c,se);if(gi(Ae=>!(H&&H.some(ct=>ct.route.id===Ae))||ut&&ut.some(ct=>ct.route.id===Ae)),me=++re,ut.length===0&&tt.length===0){let Ae=Ki();return De(F,Ct({matches:H,loaderData:{},errors:se&&rr(se[1])?{[se[0]]:se[1].error}:null},u_(se),Ae?{fetchers:new Map(D.fetchers)}:{}),{flushSync:ce}),{shortCircuited:!0}}if(Se){let Ae={};if(!K){Ae.navigation=ye;let ct=Ws(se);ct!==void 0&&(Ae.actionData=ct)}tt.length>0&&(Ae.fetchers=qs(tt)),pe(Ae,{flushSync:ce})}tt.forEach(Ae=>{$e.has(Ae.key)&&Xn(Ae.key),Ae.controller&&$e.set(Ae.key,Ae.controller)});let bn=()=>tt.forEach(Ae=>Xn(Ae.key));I&&I.signal.addEventListener("abort",bn);let{loaderResults:Jn,fetcherResults:xn}=await xt(D.matches,H,ut,tt,N);if(N.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",bn),tt.forEach(Ae=>$e.delete(Ae.key));let mn=h_([...Jn,...xn]);if(mn){if(mn.idx>=ut.length){let Ae=tt[mn.idx-ut.length].key;Le.add(Ae)}return await Un(N,mn.result,{replace:ee}),{shortCircuited:!0}}let{loaderData:Zn,errors:Ut}=a_(D,H,ut,Jn,se,tt,xn,Et);Et.forEach((Ae,ct)=>{Ae.subscribe(Kt=>{(Kt||Ae.done)&&Et.delete(ct)})}),g.v7_partialHydration&&Te&&D.errors&&Object.entries(D.errors).filter(Ae=>{let[ct]=Ae;return!ut.some(Kt=>Kt.route.id===ct)}).forEach(Ae=>{let[ct,Kt]=Ae;Ut=Object.assign(Ut||{},{[ct]:Kt})});let gn=Ki(),Dr=Qo(me),vi=gn||Dr||tt.length>0;return Ct({matches:H,loaderData:Zn,errors:Ut},vi?{fetchers:new Map(D.fetchers)}:{})}function Ws(N){if(N&&!rr(N[1]))return{[N[0]]:N[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function qs(N){return N.forEach(F=>{let H=D.fetchers.get(F.key),K=Ol(void 0,H?H.data:void 0);D.fetchers.set(F.key,K)}),new Map(D.fetchers)}function Go(N,F,H,K){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$e.has(N)&&Xn(N);let ie=(K&&K.unstable_flushSync)===!0,fe=l||o,ge=Fp(D.location,D.matches,c,g.v7_prependBasename,H,g.v7_relativeSplatPath,F,K==null?void 0:K.relative),ee=go(fe,ge,c),Te=kn(ee,fe,ge);if(Te.active&&Te.matches&&(ee=Te.matches),!ee){Wt(N,F,Ln(404,{pathname:ge}),{flushSync:ie});return}let{path:ce,submission:se,error:ye}=t_(g.v7_normalizeFormMethod,!0,ge,K);if(ye){Wt(N,F,ye,{flushSync:ie});return}let Ie=zl(ee,ce);if(E=(K&&K.preventScrollReset)===!0,se&&Br(se.formMethod)){ul(N,F,ce,Ie,ee,Te.active,ie,se);return}Me.set(N,{routeId:F,path:ce}),Ks(N,F,ce,Ie,ee,Te.active,ie,se)}async function ul(N,F,H,K,ie,fe,ge,ee){Tt(),Me.delete(N);function Te(nt){if(!nt.route.action&&!nt.route.lazy){let yn=Ln(405,{method:ee.formMethod,pathname:H,routeId:F});return Wt(N,F,yn,{flushSync:ge}),!0}return!1}if(!fe&&Te(K))return;let ce=D.fetchers.get(N);jt(N,lR(ee,ce),{flushSync:ge});let se=new AbortController,ye=ca(t.history,H,se.signal,ee);if(fe){let nt=await yi(ie,H,ye.signal);if(nt.type==="aborted")return;if(nt.type==="error"){let{error:yn}=xr(H,nt);Wt(N,F,yn,{flushSync:ge});return}else if(nt.matches){if(ie=nt.matches,K=zl(ie,H),Te(K))return}else{Wt(N,F,Ln(404,{pathname:H}),{flushSync:ge});return}}$e.set(N,se);let Ie=re,Fe=(await on("action",ye,[K],ie))[0];if(ye.signal.aborted){$e.get(N)===se&&$e.delete(N);return}if(g.v7_fetcherPersist&&Je.has(N)){if(Eo(Fe)||rr(Fe)){jt(N,ls(void 0));return}}else{if(Eo(Fe))if($e.delete(N),me>Ie){jt(N,ls(void 0));return}else return Le.add(N),jt(N,Ol(ee)),Un(ye,Fe,{fetcherSubmission:ee});if(rr(Fe)){Wt(N,F,Fe.error);return}}if(wo(Fe))throw Ln(400,{type:"defer-action"});let ut=D.navigation.location||D.location,tt=ca(t.history,ut,se.signal),bn=l||o,Jn=D.navigation.state!=="idle"?go(bn,D.navigation.location,c):D.matches;Ue(Jn,"Didn't find any matches after fetcher action");let xn=++re;B.set(N,xn);let mn=Ol(ee,Fe.data);D.fetchers.set(N,mn);let[Zn,Ut]=n_(t.history,D,Jn,ee,ut,!1,g.v7_skipActionErrorRevalidation,Be,Vt,pn,Je,Me,Le,bn,c,[K.route.id,Fe]);Ut.filter(nt=>nt.key!==N).forEach(nt=>{let yn=nt.key,Yi=D.fetchers.get(yn),Ys=Ol(void 0,Yi?Yi.data:void 0);D.fetchers.set(yn,Ys),$e.has(yn)&&Xn(yn),nt.controller&&$e.set(yn,nt.controller)}),pe({fetchers:new Map(D.fetchers)});let gn=()=>Ut.forEach(nt=>Xn(nt.key));se.signal.addEventListener("abort",gn);let{loaderResults:Dr,fetcherResults:vi}=await xt(D.matches,Jn,Zn,Ut,tt);if(se.signal.aborted)return;se.signal.removeEventListener("abort",gn),B.delete(N),$e.delete(N),Ut.forEach(nt=>$e.delete(nt.key));let Ae=h_([...Dr,...vi]);if(Ae){if(Ae.idx>=Zn.length){let nt=Ut[Ae.idx-Zn.length].key;Le.add(nt)}return Un(tt,Ae.result)}let{loaderData:ct,errors:Kt}=a_(D,D.matches,Zn,Dr,void 0,Ut,vi,Et);if(D.fetchers.has(N)){let nt=ls(Fe.data);D.fetchers.set(N,nt)}Qo(xn),D.navigation.state==="loading"&&xn>me?(Ue(S,"Expected pending action"),I&&I.abort(),De(D.navigation.location,{matches:Jn,loaderData:ct,errors:Kt,fetchers:new Map(D.fetchers)})):(pe({errors:Kt,loaderData:l_(D.loaderData,ct,Jn,Kt),fetchers:new Map(D.fetchers)}),Be=!1)}async function Ks(N,F,H,K,ie,fe,ge,ee){let Te=D.fetchers.get(N);jt(N,Ol(ee,Te?Te.data:void 0),{flushSync:ge});let ce=new AbortController,se=ca(t.history,H,ce.signal);if(fe){let Fe=await yi(ie,H,se.signal);if(Fe.type==="aborted")return;if(Fe.type==="error"){let{error:ut}=xr(H,Fe);Wt(N,F,ut,{flushSync:ge});return}else if(Fe.matches)ie=Fe.matches,K=zl(ie,H);else{Wt(N,F,Ln(404,{pathname:H}),{flushSync:ge});return}}$e.set(N,ce);let ye=re,Se=(await on("loader",se,[K],ie))[0];if(wo(Se)&&(Se=await ZE(Se,se.signal,!0)||Se),$e.get(N)===ce&&$e.delete(N),!se.signal.aborted){if(Je.has(N)){jt(N,ls(void 0));return}if(Eo(Se))if(me>ye){jt(N,ls(void 0));return}else{Le.add(N),await Un(se,Se);return}if(rr(Se)){Wt(N,F,Se.error);return}Ue(!wo(Se),"Unhandled fetcher deferred data"),jt(N,ls(Se.data))}}async function Un(N,F,H){let{submission:K,fetcherSubmission:ie,replace:fe}=H===void 0?{}:H;F.response.headers.has("X-Remix-Revalidate")&&(Be=!0);let ge=F.response.headers.get("Location");Ue(ge,"Expected a Location header on the redirect Response"),ge=s_(ge,new URL(N.url),c);let ee=Su(D.location,ge,{_isRedirect:!0});if(n){let Se=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Se=!0;else if(ag.test(ge)){const Fe=t.history.createURL(ge);Se=Fe.origin!==e.location.origin||nl(Fe.pathname,c)==null}if(Se){fe?e.location.replace(ge):e.location.assign(ge);return}}I=null;let Te=fe===!0?Bt.Replace:Bt.Push,{formMethod:ce,formAction:se,formEncType:ye}=D.navigation;!K&&!ie&&ce&&se&&ye&&(K=f_(D.navigation));let Ie=K||ie;if(BP.has(F.response.status)&&Ie&&Br(Ie.formMethod))await Ft(Te,ee,{submission:Ct({},Ie,{formAction:ge}),preventScrollReset:E});else{let Se=Df(ee,K);await Ft(Te,ee,{overrideNavigation:Se,fetcherSubmission:ie,preventScrollReset:E})}}async function on(N,F,H,K){try{let ie=await XP(h,N,F,H,K,s,i);return await Promise.all(ie.map((fe,ge)=>{if(iR(fe)){let ee=fe.result;return{type:vt.redirect,response:eR(ee,F,H[ge].route.id,K,c,g.v7_relativeSplatPath)}}return ZP(fe)}))}catch(ie){return H.map(()=>({type:vt.error,error:ie}))}}async function xt(N,F,H,K,ie){let[fe,...ge]=await Promise.all([H.length?on("loader",ie,H,F):[],...K.map(ee=>{if(ee.matches&&ee.match&&ee.controller){let Te=ca(t.history,ee.path,ee.controller.signal);return on("loader",Te,[ee.match],ee.matches).then(ce=>ce[0])}else return Promise.resolve({type:vt.error,error:Ln(404,{pathname:ee.path})})})]);return await Promise.all([d_(N,H,fe,fe.map(()=>ie.signal),!1,D.loaderData),d_(N,K.map(ee=>ee.match),ge,K.map(ee=>ee.controller?ee.controller.signal:null),!0)]),{loaderResults:fe,fetcherResults:ge}}function Tt(){Be=!0,Vt.push(...gi()),Me.forEach((N,F)=>{$e.has(F)&&(pn.push(F),Xn(F))})}function jt(N,F,H){H===void 0&&(H={}),D.fetchers.set(N,F),pe({fetchers:new Map(D.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Wt(N,F,H,K){K===void 0&&(K={});let ie=Ca(D.matches,F);qi(N),pe({errors:{[ie.route.id]:H},fetchers:new Map(D.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Yr(N){return g.v7_fetcherPersist&&(Qe.set(N,(Qe.get(N)||0)+1),Je.has(N)&&Je.delete(N)),D.fetchers.get(N)||$P}function qi(N){let F=D.fetchers.get(N);$e.has(N)&&!(F&&F.state==="loading"&&B.has(N))&&Xn(N),Me.delete(N),B.delete(N),Le.delete(N),Je.delete(N),D.fetchers.delete(N)}function br(N){if(g.v7_fetcherPersist){let F=(Qe.get(N)||0)-1;F<=0?(Qe.delete(N),Je.add(N)):Qe.set(N,F)}else qi(N);pe({fetchers:new Map(D.fetchers)})}function Xn(N){let F=$e.get(N);Ue(F,"Expected fetch controller: "+N),F.abort(),$e.delete(N)}function Gs(N){for(let F of N){let H=Yr(F),K=ls(H.data);D.fetchers.set(F,K)}}function Ki(){let N=[],F=!1;for(let H of Le){let K=D.fetchers.get(H);Ue(K,"Expected fetcher: "+H),K.state==="loading"&&(Le.delete(H),N.push(H),F=!0)}return Gs(N),F}function Qo(N){let F=[];for(let[H,K]of B)if(K<N){let ie=D.fetchers.get(H);Ue(ie,"Expected fetcher: "+H),ie.state==="loading"&&(Xn(H),B.delete(H),F.push(H))}return Gs(F),F.length>0}function cl(N,F){let H=D.blockers.get(N)||Dl;return Ze.get(N)!==F&&Ze.set(N,F),H}function Gi(N){D.blockers.delete(N),Ze.delete(N)}function Xr(N,F){let H=D.blockers.get(N)||Dl;Ue(H.state==="unblocked"&&F.state==="blocked"||H.state==="blocked"&&F.state==="blocked"||H.state==="blocked"&&F.state==="proceeding"||H.state==="blocked"&&F.state==="unblocked"||H.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+F.state);let K=new Map(D.blockers);K.set(N,F),pe({blockers:K})}function Jr(N){let{currentLocation:F,nextLocation:H,historyAction:K}=N;if(Ze.size===0)return;Ze.size>1&&Ha(!1,"A router only supports one blocker at a time");let ie=Array.from(Ze.entries()),[fe,ge]=ie[ie.length-1],ee=D.blockers.get(fe);if(!(ee&&ee.state==="proceeding")&&ge({currentLocation:F,nextLocation:H,historyAction:K}))return fe}function hr(N){let F=Ln(404,{pathname:N}),H=l||o,{matches:K,route:ie}=c_(H);return gi(),{notFoundMatches:K,route:ie,error:F}}function xr(N,F){return{boundaryId:Ca(F.partialMatches).route.id,error:Ln(400,{type:"route-discovery",pathname:N,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function gi(N){let F=[];return Et.forEach((H,K)=>{(!N||N(K))&&(H.cancel(),F.push(K),Et.delete(K))}),F}function Nr(N,F,H){if(x=N,M=F,O=H||null,!A&&D.navigation===Nf){A=!0;let K=dr(D.location,D.matches);K!=null&&pe({restoreScrollPosition:K})}return()=>{x=null,M=null,O=null}}function Qs(N,F){return O&&O(N,F.map(K=>wP(K,D.loaderData)))||N.key}function Qi(N,F){if(x&&M){let H=Qs(N,F);x[H]=M()}}function dr(N,F){if(x){let H=Qs(N,F),K=x[H];if(typeof K=="number")return K}return null}function kn(N,F,H){if(m)if(N){let K=N[N.length-1].route;if(K.path&&(K.path==="*"||K.path.endsWith("/*")))return{active:!0,matches:ah(F,H,c,!0)}}else return{active:!0,matches:ah(F,H,c,!0)||[]};return{active:!1,matches:null}}async function yi(N,F,H){let K=N,ie=K.length>0?K[K.length-1].route:null;for(;;){let fe=l==null,ge=l||o;try{await QP(m,F,K,ge,s,i,sn,H)}catch(se){return{type:"error",error:se,partialMatches:K}}finally{fe&&(o=[...o])}if(H.aborted)return{type:"aborted"};let ee=go(ge,F,c),Te=!1;if(ee){let se=ee[ee.length-1].route;if(se.index)return{type:"success",matches:ee};if(se.path&&se.path.length>0)if(se.path==="*")Te=!0;else return{type:"success",matches:ee}}let ce=ah(ge,F,c,!0);if(!ce||K.map(se=>se.route.id).join("-")===ce.map(se=>se.route.id).join("-"))return{type:"success",matches:Te?ee:null};if(K=ce,ie=K[K.length-1].route,ie.path==="*")return{type:"success",matches:K}}}function qt(N){s={},l=Au(N,i,void 0,s)}function Yo(N,F){let H=l==null;YE(N,F,l||o,s,i),H&&(o=[...o],pe({}))}return Y={get basename(){return c},get future(){return g},get state(){return D},get routes(){return o},get window(){return e},initialize:Qr,subscribe:Ve,enableScrollRestoration:Nr,navigate:et,fetch:Go,revalidate:pt,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:Yr,deleteFetcher:br,dispose:kr,getBlocker:cl,deleteBlocker:Gi,patchRoutes:Yo,_internalFetchControllers:$e,_internalActiveDeferreds:Et,_internalSetRoutes:qt},Y}function qP(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Fp(t,e,n,r,i,s,o,l){let c,h;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){h=g;break}}else c=e,h=e[e.length-1];let m=sg(i||".",ig(c,s),nl(t.pathname,n)||t.pathname,l==="path");return i==null&&(m.search=t.search,m.hash=t.hash),(i==null||i===""||i===".")&&h&&h.route.index&&!lg(m.search)&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(m.pathname=m.pathname==="/"?n:Oi([n,m.pathname])),No(m)}function t_(t,e,n,r){if(!r||!qP(r))return{path:n};if(r.formMethod&&!oR(r.formMethod))return{path:n,error:Ln(405,{method:r.formMethod})};let i=()=>({path:n,error:Ln(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=XE(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Br(o))return i();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((k,x)=>{let[O,M]=x;return""+k+O+"="+M+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!Br(o))return i();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return i()}}}Ue(typeof FormData=="function","FormData is not available in this environment");let c,h;if(r.formData)c=jp(r.formData),h=r.formData;else if(r.body instanceof FormData)c=jp(r.body),h=r.body;else if(r.body instanceof URLSearchParams)c=r.body,h=o_(c);else if(r.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(r.body),h=o_(c)}catch{return i()}let m={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Br(m.formMethod))return{path:n,submission:m};let g=Us(n);return e&&g.search&&lg(g.search)&&c.append("index",""),g.search="?"+c,{path:No(g),submission:m}}function KP(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function n_(t,e,n,r,i,s,o,l,c,h,m,g,v,k,x,O){let M=O?rr(O[1])?O[1].error:O[1].data:void 0,A=t.createURL(e.location),T=t.createURL(i),C=O&&rr(O[1])?O[0]:void 0,$=C?KP(n,C):n,Y=O?O[1].statusCode:void 0,D=o&&Y&&Y>=400,S=$.filter((I,R)=>{let{route:b}=I;if(b.lazy)return!0;if(b.loader==null)return!1;if(s)return typeof b.loader!="function"||b.loader.hydrate?!0:e.loaderData[b.id]===void 0&&(!e.errors||e.errors[b.id]===void 0);if(GP(e.loaderData,e.matches[R],I)||c.some(Be=>Be===I.route.id))return!0;let j=e.matches[R],P=I;return r_(I,Ct({currentUrl:A,currentParams:j.params,nextUrl:T,nextParams:P.params},r,{actionResult:M,actionStatus:Y,defaultShouldRevalidate:D?!1:l||A.pathname+A.search===T.pathname+T.search||A.search!==T.search||QE(j,P)}))}),E=[];return g.forEach((I,R)=>{if(s||!n.some(Vt=>Vt.route.id===I.routeId)||m.has(R))return;let b=go(k,I.path,x);if(!b){E.push({key:R,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let j=e.fetchers.get(R),P=zl(b,I.path),Be=!1;v.has(R)?Be=!1:h.includes(R)?Be=!0:j&&j.state!=="idle"&&j.data===void 0?Be=l:Be=r_(P,Ct({currentUrl:A,currentParams:e.matches[e.matches.length-1].params,nextUrl:T,nextParams:n[n.length-1].params},r,{actionResult:M,actionStatus:Y,defaultShouldRevalidate:D?!1:l})),Be&&E.push({key:R,routeId:I.routeId,path:I.path,matches:b,match:P,controller:new AbortController})}),[S,E]}function GP(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function QE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function r_(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function QP(t,e,n,r,i,s,o,l){let c=[e,...n.map(h=>h.route.id)].join("-");try{let h=o.get(c);h||(h=t({path:e,matches:n,patch:(m,g)=>{l.aborted||YE(m,g,r,i,s)}}),o.set(c,h)),h&&rR(h)&&await h}finally{o.delete(c)}}function YE(t,e,n,r,i){if(t){var s;let o=r[t];Ue(o,"No route found to patch children into: routeId = "+t);let l=Au(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...l):o.children=l}else{let o=Au(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function i_(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ue(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";Ha(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!vP.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ct({},e(i),{lazy:void 0}))}function YP(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function XP(t,e,n,r,i,s,o,l){let c=r.reduce((g,v)=>g.add(v.route.id),new Set),h=new Set,m=await t({matches:i.map(g=>{let v=c.has(g.route.id);return Ct({},g,{shouldLoad:v,resolve:x=>(h.add(g.route.id),v?JP(e,n,g,s,o,x,l):Promise.resolve({type:vt.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(g=>Ue(h.has(g.route.id),'`match.resolve()` was not called for route id "'+g.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),m.filter((g,v)=>c.has(i[v].route.id))}async function JP(t,e,n,r,i,s,o){let l,c,h=m=>{let g,v=new Promise((O,M)=>g=M);c=()=>g(),e.signal.addEventListener("abort",c);let k=O=>typeof m!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):m({request:e,params:n.params,context:o},...O!==void 0?[O]:[]),x;return s?x=s(O=>k(O)):x=(async()=>{try{return{type:"data",result:await k()}}catch(O){return{type:"error",result:O}}})(),Promise.race([x,v])};try{let m=n.route[t];if(n.route.lazy)if(m){let g,[v]=await Promise.all([h(m).catch(k=>{g=k}),i_(n.route,i,r)]);if(g!==void 0)throw g;l=v}else if(await i_(n.route,i,r),m=n.route[t],m)l=await h(m);else if(t==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw Ln(405,{method:e.method,pathname:v,routeId:n.route.id})}else return{type:vt.data,result:void 0};else if(m)l=await h(m);else{let g=new URL(e.url),v=g.pathname+g.search;throw Ln(404,{pathname:v})}Ue(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){return{type:vt.error,result:m}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function ZP(t){let{result:e,type:n,status:r}=t;if(JE(e)){let o;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(l){return{type:vt.error,error:l}}return n===vt.error?{type:vt.error,error:new og(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:vt.data,data:o,statusCode:e.status,headers:e.headers}}if(n===vt.error)return{type:vt.error,error:e,statusCode:Ed(e)?e.status:r};if(sR(e)){var i,s;return{type:vt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:vt.data,data:e,statusCode:r}}function eR(t,e,n,r,i,s){let o=t.headers.get("Location");if(Ue(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ag.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=Fp(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function s_(t,e,n){if(ag.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=nl(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function ca(t,e,n,r){let i=t.createURL(XE(e)).toString(),s={signal:n};if(r&&Br(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=jp(r.formData):s.body=r.formData}return new Request(i,s)}function jp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function o_(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function tR(t,e,n,r,i,s){let o={},l=null,c,h=!1,m={},g=r&&rr(r[1])?r[1].error:void 0;return n.forEach((v,k)=>{let x=e[k].route.id;if(Ue(!Eo(v),"Cannot handle redirect results in processLoaderData"),rr(v)){let O=v.error;g!==void 0&&(O=g,g=void 0),l=l||{};{let M=Ca(t,x);l[M.route.id]==null&&(l[M.route.id]=O)}o[x]=void 0,h||(h=!0,c=Ed(v.error)?v.error.status:500),v.headers&&(m[x]=v.headers)}else wo(v)?(i.set(x,v.deferredData),o[x]=v.deferredData.data,v.statusCode!=null&&v.statusCode!==200&&!h&&(c=v.statusCode),v.headers&&(m[x]=v.headers)):(o[x]=v.data,v.statusCode&&v.statusCode!==200&&!h&&(c=v.statusCode),v.headers&&(m[x]=v.headers))}),g!==void 0&&r&&(l={[r[0]]:g},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:m}}function a_(t,e,n,r,i,s,o,l){let{loaderData:c,errors:h}=tR(e,n,r,i,l);for(let m=0;m<s.length;m++){let{key:g,match:v,controller:k}=s[m];Ue(o!==void 0&&o[m]!==void 0,"Did not find corresponding fetcher result");let x=o[m];if(!(k&&k.signal.aborted))if(rr(x)){let O=Ca(t.matches,v==null?void 0:v.route.id);h&&h[O.route.id]||(h=Ct({},h,{[O.route.id]:x.error})),t.fetchers.delete(g)}else if(Eo(x))Ue(!1,"Unhandled fetcher revalidation redirect");else if(wo(x))Ue(!1,"Unhandled fetcher deferred data");else{let O=ls(x.data);t.fetchers.set(g,O)}}return{loaderData:c,errors:h}}function l_(t,e,n,r){let i=Ct({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function u_(t){return t?rr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ca(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function c_(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ln(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",s==="route-discovery"?c='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):i&&n&&r?c="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",c='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?c="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new og(t||500,l,new Error(c),!0)}function h_(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Eo(n))return{result:n,idx:e}}}function XE(t){let e=typeof t=="string"?Us(t):t;return No(Ct({},e,{hash:""}))}function nR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function rR(t){return typeof t=="object"&&t!=null&&"then"in t}function iR(t){return JE(t.result)&&zP.has(t.result.status)}function wo(t){return t.type===vt.deferred}function rr(t){return t.type===vt.error}function Eo(t){return(t&&t.type)===vt.redirect}function sR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function JE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function oR(t){return UP.has(t.toLowerCase())}function Br(t){return FP.has(t.toLowerCase())}async function d_(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],c=e[o];if(!c)continue;let h=t.find(g=>g.route.id===c.route.id),m=h!=null&&!QE(h,c)&&(s&&s[c.route.id])!==void 0;if(wo(l)&&(i||m)){let g=r[o];Ue(g,"Expected an AbortSignal for revalidating fetcher deferred result"),await ZE(l,g,i).then(v=>{v&&(n[o]=v||n[o])})}}}async function ZE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:vt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:vt.error,error:i}}return{type:vt.data,data:t.deferredData.data}}}function lg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function zl(t,e){let n=typeof e=="string"?Us(e).search:e.search;if(t[t.length-1].route.index&&lg(n||""))return t[t.length-1];let r=qE(t);return r[r.length-1]}function f_(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Df(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function aR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ol(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ls(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function uR(t,e){try{let n=t.sessionStorage.getItem(GE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function cR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(GE,JSON.stringify(n))}catch(r){Ha(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.25.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zh.apply(this,arguments)}const Td=G.createContext(null),eT=G.createContext(null),Ho=G.createContext(null),ug=G.createContext(null),Wo=G.createContext({outlet:null,matches:[],isDataRoute:!1}),tT=G.createContext(null);function hR(t,e){let{relative:n}=e===void 0?{}:e;Hu()||Ue(!1);let{basename:r,navigator:i}=G.useContext(Ho),{hash:s,pathname:o,search:l}=rT(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Oi([r,o])),i.createHref({pathname:c,search:l,hash:s})}function Hu(){return G.useContext(ug)!=null}function Id(){return Hu()||Ue(!1),G.useContext(ug).location}function nT(t){G.useContext(Ho).static||G.useLayoutEffect(t)}function cg(){let{isDataRoute:t}=G.useContext(Wo);return t?IR():dR()}function dR(){Hu()||Ue(!1);let t=G.useContext(Td),{basename:e,future:n,navigator:r}=G.useContext(Ho),{matches:i}=G.useContext(Wo),{pathname:s}=Id(),o=JSON.stringify(ig(i,n.v7_relativeSplatPath)),l=G.useRef(!1);return nT(()=>{l.current=!0}),G.useCallback(function(h,m){if(m===void 0&&(m={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let g=sg(h,JSON.parse(o),s,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Oi([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,o,s,t])}function rT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=G.useContext(Ho),{matches:i}=G.useContext(Wo),{pathname:s}=Id(),o=JSON.stringify(ig(i,r.v7_relativeSplatPath));return G.useMemo(()=>sg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function fR(t,e,n,r){Hu()||Ue(!1);let{navigator:i}=G.useContext(Ho),{matches:s}=G.useContext(Wo),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=Id(),m;m=h;let g=m.pathname||"/",v=g;if(c!=="/"){let O=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(O.length).join("/")}let k=go(t,{pathname:v});return vR(k&&k.map(O=>Object.assign({},O,{params:Object.assign({},l,O.params),pathname:Oi([c,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?c:Oi([c,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),s,n,r)}function pR(){let t=TR(),e=Ed(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:i},n):null,null)}const mR=G.createElement(pR,null);class gR extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?G.createElement(Wo.Provider,{value:this.props.routeContext},G.createElement(tT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yR(t){let{routeContext:e,match:n,children:r}=t,i=G.useContext(Td);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),G.createElement(Wo.Provider,{value:e},r)}function vR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let m=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);m>=0||Ue(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:v,errors:k}=n,x=g.route.loader&&v[g.route.id]===void 0&&(!k||k[g.route.id]===void 0);if(g.route.lazy||x){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let k,x=!1,O=null,M=null;n&&(k=l&&g.route.id?l[g.route.id]:void 0,O=g.route.errorElement||mR,c&&(h<0&&v===0?(SR("route-fallback"),x=!0,M=null):h===v&&(x=!0,M=g.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,v+1)),T=()=>{let C;return k?C=O:x?C=M:g.route.Component?C=G.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=m,G.createElement(yR,{match:g,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:C})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?G.createElement(gR,{location:n.location,revalidation:n.revalidation,component:O,error:k,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}var iT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iT||{}),Bh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bh||{});function _R(t){let e=G.useContext(Td);return e||Ue(!1),e}function wR(t){let e=G.useContext(eT);return e||Ue(!1),e}function ER(t){let e=G.useContext(Wo);return e||Ue(!1),e}function sT(t){let e=ER(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function TR(){var t;let e=G.useContext(tT),n=wR(Bh.UseRouteError),r=sT(Bh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function IR(){let{router:t}=_R(iT.UseNavigateStable),e=sT(Bh.UseNavigateStable),n=G.useRef(!1);return nT(()=>{n.current=!0}),G.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zh({fromRouteId:e},s)))},[t,e])}const p_={};function SR(t,e,n){p_[t]||(p_[t]=!0)}function AR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bt.Pop,navigator:s,static:o=!1,future:l}=t;Hu()&&Ue(!1);let c=e.replace(/^\/*/,"/"),h=G.useMemo(()=>({basename:c,navigator:s,static:o,future:zh({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Us(r));let{pathname:m="/",search:g="",hash:v="",state:k=null,key:x="default"}=r,O=G.useMemo(()=>{let M=nl(m,c);return M==null?null:{location:{pathname:M,search:g,hash:v,state:k,key:x},navigationType:i}},[c,m,g,v,k,x,i]);return O==null?null:G.createElement(Ho.Provider,{value:h},G.createElement(ug.Provider,{children:n,value:O}))}new Promise(()=>{});function CR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:G.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:G.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:G.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.25.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}function PR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function RR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kR(t,e){return t.button===0&&(!e||e==="_self")&&!RR(t)}const bR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],xR="6";try{window.__reactRouterVersion=xR}catch{}function NR(t,e){return WP({basename:void 0,future:Cu({},void 0,{v7_prependBasename:!0}),history:mP({window:void 0}),hydrationData:DR(),routes:t,mapRouteProperties:CR,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function DR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Cu({},e,{errors:OR(e.errors)})),e}function OR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new og(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const LR=G.createContext({isTransitioning:!1}),MR=G.createContext(new Map),VR="startTransition",m_=YS[VR],FR="flushSync",g_=lP[FR];function jR(t){m_?m_(t):t()}function Ll(t){g_?g_(t):t()}let UR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function zR(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=G.useState(n.state),[o,l]=G.useState(),[c,h]=G.useState({isTransitioning:!1}),[m,g]=G.useState(),[v,k]=G.useState(),[x,O]=G.useState(),M=G.useRef(new Map),{v7_startTransition:A}=r||{},T=G.useCallback(S=>{A?jR(S):S()},[A]),C=G.useCallback((S,E)=>{let{deletedFetchers:I,unstable_flushSync:R,unstable_viewTransitionOpts:b}=E;I.forEach(P=>M.current.delete(P)),S.fetchers.forEach((P,Be)=>{P.data!==void 0&&M.current.set(Be,P.data)});let j=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!b||j){R?Ll(()=>s(S)):T(()=>s(S));return}if(R){Ll(()=>{v&&(m&&m.resolve(),v.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:b.currentLocation,nextLocation:b.nextLocation})});let P=n.window.document.startViewTransition(()=>{Ll(()=>s(S))});P.finished.finally(()=>{Ll(()=>{g(void 0),k(void 0),l(void 0),h({isTransitioning:!1})})}),Ll(()=>k(P));return}v?(m&&m.resolve(),v.skipTransition(),O({state:S,currentLocation:b.currentLocation,nextLocation:b.nextLocation})):(l(S),h({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}))},[n.window,v,m,M,T]);G.useLayoutEffect(()=>n.subscribe(C),[n,C]),G.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new UR)},[c]),G.useEffect(()=>{if(m&&o&&n.window){let S=o,E=m.promise,I=n.window.document.startViewTransition(async()=>{T(()=>s(S)),await E});I.finished.finally(()=>{g(void 0),k(void 0),l(void 0),h({isTransitioning:!1})}),k(I)}},[T,o,m,n.window]),G.useEffect(()=>{m&&o&&i.location.key===o.location.key&&m.resolve()},[m,v,i.location,o]),G.useEffect(()=>{!c.isTransitioning&&x&&(l(x.state),h({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),O(void 0))},[c.isTransitioning,x]),G.useEffect(()=>{},[]);let $=G.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,E,I)=>n.navigate(S,{state:E,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(S,E,I)=>n.navigate(S,{replace:!0,state:E,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),Y=n.basename||"/",D=G.useMemo(()=>({router:n,navigator:$,static:!1,basename:Y}),[n,$,Y]);return G.createElement(G.Fragment,null,G.createElement(Td.Provider,{value:D},G.createElement(eT.Provider,{value:i},G.createElement(MR.Provider,{value:M.current},G.createElement(LR.Provider,{value:c},G.createElement(AR,{basename:Y,location:i.location,navigationType:i.historyAction,navigator:$,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?G.createElement(BR,{routes:n.routes,future:n.future,state:i}):e))))),null)}function BR(t){let{routes:e,future:n,state:r}=t;return fR(e,void 0,r,n)}const $R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Do=G.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:h,preventScrollReset:m,unstable_viewTransition:g}=e,v=PR(e,bR),{basename:k}=G.useContext(Ho),x,O=!1;if(typeof h=="string"&&HR.test(h)&&(x=h,$R))try{let C=new URL(window.location.href),$=h.startsWith("//")?new URL(C.protocol+h):new URL(h),Y=nl($.pathname,k);$.origin===C.origin&&Y!=null?h=Y+$.search+$.hash:O=!0}catch{}let M=hR(h,{relative:i}),A=WR(h,{replace:o,state:l,target:c,preventScrollReset:m,relative:i,unstable_viewTransition:g});function T(C){r&&r(C),C.defaultPrevented||A(C)}return G.createElement("a",Cu({},v,{href:x||M,onClick:O||s?r:T,ref:n,target:c}))});var y_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(y_||(y_={}));var v_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(v_||(v_={}));function WR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=cg(),h=Id(),m=rT(t,{relative:o});return G.useCallback(g=>{if(kR(g,n)){g.preventDefault();let v=r!==void 0?r:No(h)===No(m);c(t,{replace:v,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[h,c,m,r,i,n,t,s,o,l])}const qR=({quotes:t,authors:e,onRemoveButtonClick:n,isLoggedIn:r})=>{const i=t.map((o,l)=>L.jsxs("div",{className:"card my-2",children:[L.jsx("div",{className:"card-body text-center",children:o}),L.jsxs("div",{className:"card-body fw-bold text-center",style:{marginTop:"-25px"},children:[L.jsx("span",{className:"float-end",children:L.jsx("div",{"data-bs-toggle":"modal","data-bs-target":"#trashModal-"+l,children:L.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",style:{fillOpacity:.5,cursor:"pointer"},children:[L.jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),L.jsx("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"})]})})}),"- ",e[l]]})]},o)),s=t.map((o,l)=>L.jsx("div",{className:"modal fade",id:"trashModal-"+l,tabIndex:-1,"aria-labelledby":"trashModalLabel-"+l,"aria-hidden":"true",children:L.jsx("div",{className:"modal-dialog",children:L.jsxs("div",{className:"modal-content",children:[L.jsxs("div",{className:"modal-header",children:[L.jsx("h1",{className:"modal-title fs-5",id:"trashModalLabel-"+l,children:"Are you sure?"}),L.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),L.jsxs("div",{className:"modal-body",children:["You are about to remove a quote from your favorite list. This has"," ",L.jsx("strong",{children:"permanent"})," effect. Are you sure about this?",L.jsxs("div",{className:"card my-2",children:[L.jsx("div",{className:"card-body text-center",children:o}),L.jsxs("div",{className:"card-body fw-bold text-center",style:{marginTop:"-25px"},children:["- ",e[l]]})]})]}),L.jsxs("div",{className:"modal-footer",children:[L.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancel"}),L.jsx("button",{type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",onClick:()=>n(o),children:"Remove quote"})]})]})})}));return L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"offcanvas offcanvas-start",tabIndex:-1,id:"SaveList","aria-labelledby":"SaveListLabel",children:[L.jsxs("div",{className:"offcanvas-header",children:[L.jsx("h5",{className:"offcanvas-title",id:"SaveListLabel",children:"Your favorite quotes"}),L.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),L.jsxs("div",{className:"offcanvas-body",children:["Click the"," ",L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",fill:"currentColor",className:"bi bi-heart mx-1",viewBox:"0 0 16 16",children:L.jsx("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"})})," ","to save your favorite quotes!",L.jsx("br",{}),!r&&L.jsxs("span",{"data-bs-dismiss":"offcanvas",children:[L.jsx(Do,{to:"/Motivational-Quotes-Generator/login",children:L.jsx("u",{children:L.jsx("strong",{children:"Log in"})})})," ","to keep your favorite list permanently!"]}),i]})]}),s]})},KR=({children:t})=>L.jsx("button",{type:"button",className:"btn btn-primary m-3","data-bs-toggle":"offcanvas","data-bs-target":"#SaveList","aria-controls":"SaveList",children:t}),GR=({onClick:t,liked:e})=>L.jsx("div",{className:"d-inline-flex mt-1 align-middle",onClick:t,children:e?L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"red",className:"bi bi-heart-fill",viewBox:"0 0 16 16",style:{cursor:"pointer"},children:L.jsx("path",{"fill-rule":"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314"})}):L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-heart",viewBox:"0 0 16 16",style:{cursor:"pointer"},children:L.jsx("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"})})}),QR=()=>L.jsx(Do,{to:"/Motivational-Quotes-Generator/login",children:L.jsx("button",{type:"button",className:"btn btn-secondary m-3",children:"Login"})});var __={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},aT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,m=s>>2,g=(s&3)<<4|l>>4;let v=(l&15)<<2|h>>6,k=h&63;c||(k=64,o||(v=64)),r.push(n[m],n[g],n[v],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||g==null)throw new XR;const v=s<<2|l>>4;if(r.push(v),h!==64){const k=l<<4&240|h>>2;if(r.push(k),g!==64){const x=h<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JR=function(t){const e=oT(t);return aT.encodeByteArray(e,!0)},$h=function(t){return JR(t).replace(/\./g,"")},lT=function(t){try{return aT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=()=>ZR().__FIREBASE_DEFAULTS__,tk=()=>{if(typeof process>"u"||typeof __>"u")return;const t=__.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lT(t[1]);return e&&JSON.parse(e)},Sd=()=>{try{return ek()||tk()||nk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uT=t=>{var e,n;return(n=(e=Sd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rk=t=>{const e=uT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cT=()=>{var t;return(t=Sd())===null||t===void 0?void 0:t.config},hT=t=>{var e;return(e=Sd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$h(JSON.stringify(n)),$h(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ok(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function ak(){var t;const e=(t=Sd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ck(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hk(){return!ak()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dk(){try{return typeof indexedDB=="object"}catch{return!1}}function fk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="FirebaseError";class Hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pk,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wu.prototype.create)}}class Wu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mk(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Hi(i,l,r)}}function mk(t,e){return t.replace(gk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gk=/\{\$([^}]+)}/g;function yk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(w_(s)&&w_(o)){if(!Hh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function w_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $l(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vk(t,e){const n=new _k(t,e);return n.subscribe.bind(n)}class _k{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Of),i.error===void 0&&(i.error=Of),i.complete===void 0&&(i.complete=Of);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){return t&&t._delegate?t._delegate:t}class Oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ik;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ik(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Tk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tk(t){return t===mo?void 0:t}function Ik(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ek(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const Ak={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Ck=qe.INFO,Pk={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Rk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Pk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=Ck,this._logHandler=Rk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const kk=(t,e)=>e.some(n=>t instanceof n);let E_,T_;function bk(){return E_||(E_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xk(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dT=new WeakMap,Up=new WeakMap,fT=new WeakMap,Lf=new WeakMap,dg=new WeakMap;function Nk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Rs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dT.set(n,t)}).catch(()=>{}),dg.set(e,t),e}function Dk(t){if(Up.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Up.set(t,e)}let zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Up.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ok(t){zp=t(zp)}function Lk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mf(this),e,...n);return fT.set(r,e.sort?e.sort():[e]),Rs(r)}:xk().includes(t)?function(...e){return t.apply(Mf(this),e),Rs(dT.get(this))}:function(...e){return Rs(t.apply(Mf(this),e))}}function Mk(t){return typeof t=="function"?Lk(t):(t instanceof IDBTransaction&&Dk(t),kk(t,bk())?new Proxy(t,zp):t)}function Rs(t){if(t instanceof IDBRequest)return Nk(t);if(Lf.has(t))return Lf.get(t);const e=Mk(t);return e!==t&&(Lf.set(t,e),dg.set(e,t)),e}const Mf=t=>dg.get(t);function Vk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Rs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Rs(o.result),c.oldVersion,c.newVersion,Rs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Fk=["get","getKey","getAll","getAllKeys","count"],jk=["put","add","delete","clear"],Vf=new Map;function I_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Fk.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return Vf.set(e,s),s}Ok(t=>({...t,get:(e,n,r)=>I_(e,n)||t.get(e,n,r),has:(e,n)=>!!I_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bp="@firebase/app",S_="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new hg("@firebase/app"),Bk="@firebase/app-compat",$k="@firebase/analytics-compat",Hk="@firebase/analytics",Wk="@firebase/app-check-compat",qk="@firebase/app-check",Kk="@firebase/auth",Gk="@firebase/auth-compat",Qk="@firebase/database",Yk="@firebase/database-compat",Xk="@firebase/functions",Jk="@firebase/functions-compat",Zk="@firebase/installations",eb="@firebase/installations-compat",tb="@firebase/messaging",nb="@firebase/messaging-compat",rb="@firebase/performance",ib="@firebase/performance-compat",sb="@firebase/remote-config",ob="@firebase/remote-config-compat",ab="@firebase/storage",lb="@firebase/storage-compat",ub="@firebase/firestore",cb="@firebase/vertexai-preview",hb="@firebase/firestore-compat",db="firebase",fb="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",pb={[Bp]:"fire-core",[Bk]:"fire-core-compat",[Hk]:"fire-analytics",[$k]:"fire-analytics-compat",[qk]:"fire-app-check",[Wk]:"fire-app-check-compat",[Kk]:"fire-auth",[Gk]:"fire-auth-compat",[Qk]:"fire-rtdb",[Yk]:"fire-rtdb-compat",[Xk]:"fire-fn",[Jk]:"fire-fn-compat",[Zk]:"fire-iid",[eb]:"fire-iid-compat",[tb]:"fire-fcm",[nb]:"fire-fcm-compat",[rb]:"fire-perf",[ib]:"fire-perf-compat",[sb]:"fire-rc",[ob]:"fire-rc-compat",[ab]:"fire-gcs",[lb]:"fire-gcs-compat",[ub]:"fire-fst",[hb]:"fire-fst-compat",[cb]:"fire-vertex","fire-js":"fire-js",[db]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Map,mb=new Map,Hp=new Map;function A_(t,e){try{t.container.addComponent(e)}catch(n){Lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wa(t){const e=t.name;if(Hp.has(e))return Lo.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,t);for(const n of Wh.values())A_(n,t);for(const n of mb.values())A_(n,t);return!0}function fg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new Wu("app","Firebase",gb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=fb;function pT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$p,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ks.create("bad-app-name",{appName:String(i)});if(n||(n=cT()),!n)throw ks.create("no-options");const s=Wh.get(i);if(s){if(Hh(n,s.options)&&Hh(r,s.config))return s;throw ks.create("duplicate-app",{appName:i})}const o=new Sk(i);for(const c of Hp.values())o.addComponent(c);const l=new yb(n,r,o);return Wh.set(i,l),l}function mT(t=$p){const e=Wh.get(t);if(!e&&t===$p&&cT())return pT();if(!e)throw ks.create("no-app",{appName:t});return e}function bs(t,e,n){var r;let i=(r=pb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lo.warn(l.join(" "));return}Wa(new Oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="firebase-heartbeat-database",_b=1,Pu="firebase-heartbeat-store";let Ff=null;function gT(){return Ff||(Ff=Vk(vb,_b,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ks.create("idb-open",{originalErrorMessage:t.message})})),Ff}async function wb(t){try{const n=(await gT()).transaction(Pu),r=await n.objectStore(Pu).get(yT(t));return await n.done,r}catch(e){if(e instanceof Hi)Lo.warn(e.message);else{const n=ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lo.warn(n.message)}}}async function C_(t,e){try{const r=(await gT()).transaction(Pu,"readwrite");await r.objectStore(Pu).put(e,yT(t)),await r.done}catch(n){if(n instanceof Hi)Lo.warn(n.message);else{const r=ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lo.warn(r.message)}}}function yT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=1024,Tb=30*24*60*60*1e3;class Ib{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ab(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Tb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P_(),{heartbeatsToSend:r,unsentEntries:i}=Sb(this._heartbeatsCache.heartbeats),s=$h(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function P_(){return new Date().toISOString().substring(0,10)}function Sb(t,e=Eb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),R_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),R_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ab{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dk()?fk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return C_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return C_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function R_(t){return $h(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){Wa(new Oo("platform-logger",e=>new Uk(e),"PRIVATE")),Wa(new Oo("heartbeat",e=>new Ib(e),"PRIVATE")),bs(Bp,S_,t),bs(Bp,S_,"esm2017"),bs("fire-js","")}Cb("");function pg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pb=vT,_T=new Wu("auth","Firebase",vT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new hg("@firebase/auth");function Rb(t,...e){qh.logLevel<=qe.WARN&&qh.warn(`Auth (${rl}): ${t}`,...e)}function lh(t,...e){qh.logLevel<=qe.ERROR&&qh.error(`Auth (${rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,...e){throw gg(t,...e)}function Kr(t,...e){return gg(t,...e)}function mg(t,e,n){const r=Object.assign(Object.assign({},Pb()),{[e]:n});return new Wu("auth","Firebase",r).create(e,{appName:t.name})}function Li(t){return mg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rr(t,"argument-error"),mg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _T.create(t,...e)}function Ee(t,e,...n){if(!t)throw gg(e,...n)}function bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lh(e),new Error(e)}function Ui(t,e){t||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bb(){return k_()==="http:"||k_()==="https:"}function k_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bb()||lk()||"connection"in navigator)?navigator.onLine:!0}function Nb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=ok()||uk()}get(){return xb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Ku(3e4,6e4);function zs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bs(t,e,n,r,i={}){return ET(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=qu(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),wT.fetch()(TT(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function ET(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Db),e);try{const i=new Mb(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Hc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Hc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Hc(t,"user-disabled",o);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw mg(t,m,h);Rr(t,m)}}catch(i){if(i instanceof Hi)throw i;Rr(t,"network-request-failed",{message:String(i)})}}async function Gu(t,e,n,r,i={}){const s=await Bs(t,e,n,r,i);return"mfaPendingCredential"in s&&Rr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function TT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yg(t.config,i):`${t.config.apiScheme}://${i}`}function Lb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),Ob.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kr(t,e,r);return i.customData._tokenResponse=n,i}function b_(t){return t!==void 0&&t.enterprise!==void 0}class Vb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Lb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Fb(t,e){return Bs(t,"GET","/v2/recaptchaConfig",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t,e){return Bs(t,"POST","/v1/accounts:delete",e)}async function IT(t,e){return Bs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ub(t,e=!1){const n=Pn(t),r=await n.getIdToken(e),i=vg(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nu(jf(i.auth_time)),issuedAtTime:nu(jf(i.iat)),expirationTime:nu(jf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jf(t){return Number(t)*1e3}function vg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const i=lT(n);return i?JSON.parse(i):(lh("Failed to decode base64 JWT payload"),null)}catch(i){return lh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function x_(t){const e=vg(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hi&&zb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ru(t,IT(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ST(s.providerUserInfo):[],l=Hb(t.providerData,o),c=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),m=c?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new qp(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function $b(t){const e=Pn(t);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hb(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ST(t){return t.map(e=>{var{providerId:n}=e,r=pg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(t,e){const n=await ET(t,{},async()=>{const r=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=TT(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",wT.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qb(t,e){return Bs(t,"POST","/v2/accounts:revokeToken",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=x_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Wb(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Da;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ub(this,e)}reload(){return $b(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hr(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await Ru(this,jb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,h,m;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,k=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(l=n.tenantId)!==null&&l!==void 0?l:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:C,emailVerified:$,isAnonymous:Y,providerData:D,stsTokenManager:S}=n;Ee(C&&S,e,"internal-error");const E=Da.fromJSON(this.name,S);Ee(typeof C=="string",e,"internal-error"),as(g,e.name),as(v,e.name),Ee(typeof $=="boolean",e,"internal-error"),Ee(typeof Y=="boolean",e,"internal-error"),as(k,e.name),as(x,e.name),as(O,e.name),as(M,e.name),as(A,e.name),as(T,e.name);const I=new xi({uid:C,auth:e,email:v,emailVerified:$,displayName:g,isAnonymous:Y,photoURL:x,phoneNumber:k,tenantId:O,stsTokenManager:E,createdAt:A,lastLoginAt:T});return D&&Array.isArray(D)&&(I.providerData=D.map(R=>Object.assign({},R))),M&&(I._redirectEventId=M),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Da;i.updateFromServerResponse(n);const s=new xi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ST(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Da;l.updateFromIdToken(r);const c=new xi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=new Map;function Ni(t){Ui(t instanceof Function,"Expected a class definition");let e=N_.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AT.type="NONE";const D_=AT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t,e,n){return`firebase:${t}:${e}:${n}`}class Oa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=uh(this.userKey,i.apiKey,s),this.fullPersistenceKey=uh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oa(Ni(D_),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ni(D_);const o=uh(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const m=await h._get(o);if(m){const g=xi._fromJSON(e,m);h!==s&&(l=g),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Oa(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Oa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bT(e))return"Blackberry";if(xT(e))return"Webos";if(_g(e))return"Safari";if((e.includes("chrome/")||PT(e))&&!e.includes("edge/"))return"Chrome";if(kT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CT(t=fn()){return/firefox\//i.test(t)}function _g(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PT(t=fn()){return/crios\//i.test(t)}function RT(t=fn()){return/iemobile/i.test(t)}function kT(t=fn()){return/android/i.test(t)}function bT(t=fn()){return/blackberry/i.test(t)}function xT(t=fn()){return/webos/i.test(t)}function Ad(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Kb(t=fn()){var e;return Ad(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Gb(){return ck()&&document.documentMode===10}function NT(t=fn()){return Ad(t)||kT(t)||xT(t)||bT(t)||/windows phone/i.test(t)||RT(t)}function Qb(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t,e=[]){let n;switch(t){case"Browser":n=O_(fn());break;case"Worker":n=`${O_(fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(t,e={}){return Bs(t,"GET","/v2/passwordPolicy",zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=6;class Zb{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Jb,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L_(this),this.idTokenSubscription=new L_(this),this.beforeStateQueue=new Yb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await IT(this,{idToken:e}),r=await xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hr(this.app))return Promise.reject(Li(this));const n=e?Pn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hr(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hr(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xb(this),n=new Zb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ni(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Rb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $s(t){return Pn(t)}class L_{constructor(e){this.auth=e,this.observer=null,this.addObserver=vk(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tx(t){Cd=t}function OT(t){return Cd.loadJS(t)}function nx(){return Cd.recaptchaEnterpriseScript}function rx(){return Cd.gapiScript}function ix(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sx="recaptcha-enterprise",ox="NO_RECAPTCHA";class ax{constructor(e){this.type=sx,this.auth=$s(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Fb(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new Vb(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;b_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(ox)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&b_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=nx();c.length!==0&&(c+=l),OT(c).then(()=>{i(l,s,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function M_(t,e,n,r=!1){const i=new ax(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Kp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await M_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await M_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t,e){const n=fg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Hh(s,e??{}))return i;Rr(i,"already-initialized")}return n.initialize({options:e})}function ux(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cx(t,e,n){const r=$s(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=LT(e),{host:o,port:l}=hx(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),dx()}function LT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hx(t){const e=LT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:V_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:V_(o)}}}function V_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,n){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}async function fx(t,e){return Bs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(t,e){return Gu(t,"POST","/v1/accounts:signInWithPassword",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(t,e){return Gu(t,"POST","/v1/accounts:signInWithEmailLink",zs(t,e))}async function gx(t,e){return Gu(t,"POST","/v1/accounts:signInWithEmailLink",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends wg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ku(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ku(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kp(e,n,"signInWithPassword",px);case"emailLink":return mx(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kp(e,r,"signUpPassword",fx);case"emailLink":return gx(e,{idToken:n,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t,e){return Gu(t,"POST","/v1/accounts:signInWithIdp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="http://localhost";class Mo extends wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=pg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Mo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return La(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,La(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,La(e,n)}buildRequest(){const e={requestUri:yx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _x(t){const e=Bl($l(t)).link,n=e?Bl($l(e)).deep_link_id:null,r=Bl($l(t)).deep_link_id;return(r?Bl($l(r)).link:null)||r||n||e||t}class Eg{constructor(e){var n,r,i,s,o,l;const c=Bl($l(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,m=(r=c.oobCode)!==null&&r!==void 0?r:null,g=vx((i=c.mode)!==null&&i!==void 0?i:null);Ee(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=_x(e);try{return new Eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,n){return ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Eg.parseLink(n);return Ee(r,"argument-error"),ku._fromEmailAndCode(e,r.code,r.tenantId)}}il.PROVIDER_ID="password";il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends Tg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Qu{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mo._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pi.credential(n,r)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Qu{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Qu{constructor(){super("twitter.com")}static credential(e,n){return Mo._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(t,e){return Gu(t,"POST","/v1/accounts:signUp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await xi._fromIdTokenResponse(e,r,i),o=F_(r);return new Vo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=F_(r);return new Vo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function F_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends Hi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gh(e,n,r,i)}}function MT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(t,s,e,r):s})}async function Ex(t,e,n=!1){const r=await Ru(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(t,e,n=!1){const{auth:r}=t;if(Hr(r.app))return Promise.reject(Li(r));const i="reauthenticate";try{const s=await Ru(t,MT(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const o=vg(s.idToken);Ee(o,r,"internal-error");const{sub:l}=o;return Ee(t.uid===l,r,"user-mismatch"),Vo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(t,e,n=!1){if(Hr(t.app))return Promise.reject(Li(t));const r="signIn",i=await MT(t,r,e),s=await Vo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Ix(t,e){return VT($s(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(t){const e=$s(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Sx(t,e,n){if(Hr(t.app))return Promise.reject(Li(t));const r=$s(t),o=await Kp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wx).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&FT(t),c}),l=await Vo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function Ax(t,e,n){return Hr(t.app)?Promise.reject(Li(t)):Ix(Pn(t),il.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FT(t),r})}function Cx(t,e,n,r){return Pn(t).onIdTokenChanged(e,n,r)}function Px(t,e,n){return Pn(t).beforeAuthStateChanged(e,n)}function Rx(t,e,n,r){return Pn(t).onAuthStateChanged(e,n,r)}function kx(t){return Pn(t).signOut()}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){const t=fn();return _g(t)||Ad(t)}const xx=1e3,Nx=10;class UT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=bx()&&Qb(),this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Gb()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Nx):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UT.type="LOCAL";const Dx=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zT.type="SESSION";const BT=zT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Pd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async h=>h(n.origin,s)),c=await Ox(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const h=Ig("",20);i.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(v.data.response);break;default:clearTimeout(m),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function Mx(t){ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function Vx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Fx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jx(){return $T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firebaseLocalStorageDb",Ux=1,Yh="firebaseLocalStorage",WT="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(t,e){return t.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function zx(){const t=indexedDB.deleteDatabase(HT);return new Yu(t).toPromise()}function Gp(){const t=indexedDB.open(HT,Ux);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yh,{keyPath:WT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yh)?e(r):(r.close(),await zx(),e(await Gp()))})})}async function j_(t,e,n){const r=Rd(t,!0).put({[WT]:e,value:n});return new Yu(r).toPromise()}async function Bx(t,e){const n=Rd(t,!1).get(e),r=await new Yu(n).toPromise();return r===void 0?null:r.value}function U_(t,e){const n=Rd(t,!0).delete(e);return new Yu(n).toPromise()}const $x=800,Hx=3;class qT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Hx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(jx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Vx(),!this.activeServiceWorker)return;this.sender=new Lx(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Fx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gp();return await j_(e,Qh,"1"),await U_(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Bx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rd(i,!1).getAll();return new Yu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$x)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qT.type="LOCAL";const Wx=qT;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t,e){return e?Ni(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends wg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,n){return La(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qx(t){return VT(t.auth,new Sg(t),t.bypassAuthState)}function Kx(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),Tx(n,new Sg(t),t.bypassAuthState)}async function Gx(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),Ex(n,new Sg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qx;case"linkViaPopup":case"linkViaRedirect":return Gx;case"reauthViaPopup":case"reauthViaRedirect":return Kx;default:Rr(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new Ku(2e3,1e4);async function Yx(t,e,n){if(Hr(t.app))return Promise.reject(Kr(t,"operation-not-supported-in-this-environment"));const r=$s(t);kb(t,e,Tg);const i=KT(r,n);return new To(r,"signInViaPopup",e,i).executeNotNull()}class To extends GT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=Ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Qx.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="pendingRedirect",ch=new Map;class Jx extends GT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await Zx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zx(t,e){const n=nN(e),r=tN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function eN(t,e){ch.set(t._key(),e)}function tN(t){return Ni(t._redirectPersistence)}function nN(t){return uh(Xx,t.config.apiKey,t.name)}async function rN(t,e,n=!1){if(Hr(t.app))return Promise.reject(Li(t));const r=$s(t),i=KT(r,e),o=await new Jx(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=10*60*1e3;class sN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iN&&this.cachedEventUids.clear(),this.cachedEventUids.has(z_(e))}saveEventToCache(e){this.cachedEventUids.add(z_(e)),this.lastProcessedEventTime=Date.now()}}function z_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(t,e={}){return Bs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uN=/^https?/;async function cN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aN(t);for(const n of e)try{if(hN(n))return}catch{}Rr(t,"unauthorized-domain")}function hN(t){const e=Wp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uN.test(n))return!1;if(lN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Ku(3e4,6e4);function B_(){const t=ci().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fN(t){return new Promise((e,n)=>{var r,i,s;function o(){B_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B_(),n(Kr(t,"network-request-failed"))},timeout:dN.get()})}if(!((i=(r=ci().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ci().gapi)===null||s===void 0)&&s.load)o();else{const l=ix("iframefcb");return ci()[l]=()=>{gapi.load?o():n(Kr(t,"network-request-failed"))},OT(`${rx()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw hh=null,e})}let hh=null;function pN(t){return hh=hh||fN(t),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Ku(5e3,15e3),gN="__/auth/iframe",yN="emulator/auth/iframe",vN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wN(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yg(e,yN):`https://${t.config.authDomain}/${gN}`,r={apiKey:e.apiKey,appName:t.name,v:rl},i=_N.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qu(r).slice(1)}`}async function EN(t){const e=await pN(t),n=ci().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:wN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vN,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Kr(t,"network-request-failed"),l=ci().setTimeout(()=>{s(o)},mN.get());function c(){ci().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IN=500,SN=600,AN="_blank",CN="http://localhost";class $_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PN(t,e,n,r=IN,i=SN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},TN),{width:r.toString(),height:i.toString(),top:s,left:o}),h=fn().toLowerCase();n&&(l=PT(h)?AN:n),CT(h)&&(e=e||CN,c.scrollbars="yes");const m=Object.entries(c).reduce((v,[k,x])=>`${v}${k}=${x},`,"");if(Kb(h)&&l!=="_self")return RN(e||"",l),new $_(null);const g=window.open(e||"",l,m);Ee(g,t,"popup-blocked");try{g.focus()}catch{}return new $_(g)}function RN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="__/auth/handler",bN="emulator/auth/handler",xN=encodeURIComponent("fac");async function H_(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rl,eventId:i};if(e instanceof Tg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))o[m]=g}if(e instanceof Qu){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const c=await t._getAppCheckToken(),h=c?`#${xN}=${encodeURIComponent(c)}`:"";return`${NN(t)}?${qu(l).slice(1)}${h}`}function NN({config:t}){return t.emulator?yg(t,bN):`https://${t.authDomain}/${kN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="webStorageSupport";class DN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BT,this._completeRedirectFn=rN,this._overrideRedirectResult=eN}async _openPopup(e,n,r,i){var s;Ui((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await H_(e,n,r,Wp(),i);return PN(e,o,Ig())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await H_(e,n,r,Wp(),i);return Mx(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ui(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EN(e),r=new sN(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uf,{type:Uf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Uf];o!==void 0&&n(!!o),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NT()||_g()||Ad()}}const ON=DN;var W_="@firebase/auth",q_="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VN(t){Wa(new Oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(t)},h=new ex(r,i,s,c);return ux(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wa(new Oo("auth-internal",e=>{const n=$s(e.getProvider("auth").getImmediate());return(r=>new LN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(W_,q_,MN(t)),bs(W_,q_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=5*60,jN=hT("authIdTokenMaxAge")||FN;let K_=null;const UN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jN)return;const i=n==null?void 0:n.token;K_!==i&&(K_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zN(t=mT()){const e=fg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lx(t,{popupRedirectResolver:ON,persistence:[Wx,Dx,BT]}),r=hT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=UN(s.toString());Px(n,o,()=>o(n.currentUser)),Cx(n,l=>o(l))}}const i=uT("auth");return i&&cx(n,`http://${i}`),n}function BN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tx({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Kr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",BN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VN("Browser");var $N="firebase",HN="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs($N,HN,"app");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Co,YT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function I(){}I.prototype=E.prototype,S.D=E.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(R,b,j){for(var P=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)P[Be-2]=arguments[Be];return E.prototype[b].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,I){I||(I=0);var R=Array(16);if(typeof E=="string")for(var b=0;16>b;++b)R[b]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(b=0;16>b;++b)R[b]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=S.g[0],I=S.g[1],b=S.g[2];var j=S.g[3],P=E+(j^I&(b^j))+R[0]+3614090360&4294967295;E=I+(P<<7&4294967295|P>>>25),P=j+(b^E&(I^b))+R[1]+3905402710&4294967295,j=E+(P<<12&4294967295|P>>>20),P=b+(I^j&(E^I))+R[2]+606105819&4294967295,b=j+(P<<17&4294967295|P>>>15),P=I+(E^b&(j^E))+R[3]+3250441966&4294967295,I=b+(P<<22&4294967295|P>>>10),P=E+(j^I&(b^j))+R[4]+4118548399&4294967295,E=I+(P<<7&4294967295|P>>>25),P=j+(b^E&(I^b))+R[5]+1200080426&4294967295,j=E+(P<<12&4294967295|P>>>20),P=b+(I^j&(E^I))+R[6]+2821735955&4294967295,b=j+(P<<17&4294967295|P>>>15),P=I+(E^b&(j^E))+R[7]+4249261313&4294967295,I=b+(P<<22&4294967295|P>>>10),P=E+(j^I&(b^j))+R[8]+1770035416&4294967295,E=I+(P<<7&4294967295|P>>>25),P=j+(b^E&(I^b))+R[9]+2336552879&4294967295,j=E+(P<<12&4294967295|P>>>20),P=b+(I^j&(E^I))+R[10]+4294925233&4294967295,b=j+(P<<17&4294967295|P>>>15),P=I+(E^b&(j^E))+R[11]+2304563134&4294967295,I=b+(P<<22&4294967295|P>>>10),P=E+(j^I&(b^j))+R[12]+1804603682&4294967295,E=I+(P<<7&4294967295|P>>>25),P=j+(b^E&(I^b))+R[13]+4254626195&4294967295,j=E+(P<<12&4294967295|P>>>20),P=b+(I^j&(E^I))+R[14]+2792965006&4294967295,b=j+(P<<17&4294967295|P>>>15),P=I+(E^b&(j^E))+R[15]+1236535329&4294967295,I=b+(P<<22&4294967295|P>>>10),P=E+(b^j&(I^b))+R[1]+4129170786&4294967295,E=I+(P<<5&4294967295|P>>>27),P=j+(I^b&(E^I))+R[6]+3225465664&4294967295,j=E+(P<<9&4294967295|P>>>23),P=b+(E^I&(j^E))+R[11]+643717713&4294967295,b=j+(P<<14&4294967295|P>>>18),P=I+(j^E&(b^j))+R[0]+3921069994&4294967295,I=b+(P<<20&4294967295|P>>>12),P=E+(b^j&(I^b))+R[5]+3593408605&4294967295,E=I+(P<<5&4294967295|P>>>27),P=j+(I^b&(E^I))+R[10]+38016083&4294967295,j=E+(P<<9&4294967295|P>>>23),P=b+(E^I&(j^E))+R[15]+3634488961&4294967295,b=j+(P<<14&4294967295|P>>>18),P=I+(j^E&(b^j))+R[4]+3889429448&4294967295,I=b+(P<<20&4294967295|P>>>12),P=E+(b^j&(I^b))+R[9]+568446438&4294967295,E=I+(P<<5&4294967295|P>>>27),P=j+(I^b&(E^I))+R[14]+3275163606&4294967295,j=E+(P<<9&4294967295|P>>>23),P=b+(E^I&(j^E))+R[3]+4107603335&4294967295,b=j+(P<<14&4294967295|P>>>18),P=I+(j^E&(b^j))+R[8]+1163531501&4294967295,I=b+(P<<20&4294967295|P>>>12),P=E+(b^j&(I^b))+R[13]+2850285829&4294967295,E=I+(P<<5&4294967295|P>>>27),P=j+(I^b&(E^I))+R[2]+4243563512&4294967295,j=E+(P<<9&4294967295|P>>>23),P=b+(E^I&(j^E))+R[7]+1735328473&4294967295,b=j+(P<<14&4294967295|P>>>18),P=I+(j^E&(b^j))+R[12]+2368359562&4294967295,I=b+(P<<20&4294967295|P>>>12),P=E+(I^b^j)+R[5]+4294588738&4294967295,E=I+(P<<4&4294967295|P>>>28),P=j+(E^I^b)+R[8]+2272392833&4294967295,j=E+(P<<11&4294967295|P>>>21),P=b+(j^E^I)+R[11]+1839030562&4294967295,b=j+(P<<16&4294967295|P>>>16),P=I+(b^j^E)+R[14]+4259657740&4294967295,I=b+(P<<23&4294967295|P>>>9),P=E+(I^b^j)+R[1]+2763975236&4294967295,E=I+(P<<4&4294967295|P>>>28),P=j+(E^I^b)+R[4]+1272893353&4294967295,j=E+(P<<11&4294967295|P>>>21),P=b+(j^E^I)+R[7]+4139469664&4294967295,b=j+(P<<16&4294967295|P>>>16),P=I+(b^j^E)+R[10]+3200236656&4294967295,I=b+(P<<23&4294967295|P>>>9),P=E+(I^b^j)+R[13]+681279174&4294967295,E=I+(P<<4&4294967295|P>>>28),P=j+(E^I^b)+R[0]+3936430074&4294967295,j=E+(P<<11&4294967295|P>>>21),P=b+(j^E^I)+R[3]+3572445317&4294967295,b=j+(P<<16&4294967295|P>>>16),P=I+(b^j^E)+R[6]+76029189&4294967295,I=b+(P<<23&4294967295|P>>>9),P=E+(I^b^j)+R[9]+3654602809&4294967295,E=I+(P<<4&4294967295|P>>>28),P=j+(E^I^b)+R[12]+3873151461&4294967295,j=E+(P<<11&4294967295|P>>>21),P=b+(j^E^I)+R[15]+530742520&4294967295,b=j+(P<<16&4294967295|P>>>16),P=I+(b^j^E)+R[2]+3299628645&4294967295,I=b+(P<<23&4294967295|P>>>9),P=E+(b^(I|~j))+R[0]+4096336452&4294967295,E=I+(P<<6&4294967295|P>>>26),P=j+(I^(E|~b))+R[7]+1126891415&4294967295,j=E+(P<<10&4294967295|P>>>22),P=b+(E^(j|~I))+R[14]+2878612391&4294967295,b=j+(P<<15&4294967295|P>>>17),P=I+(j^(b|~E))+R[5]+4237533241&4294967295,I=b+(P<<21&4294967295|P>>>11),P=E+(b^(I|~j))+R[12]+1700485571&4294967295,E=I+(P<<6&4294967295|P>>>26),P=j+(I^(E|~b))+R[3]+2399980690&4294967295,j=E+(P<<10&4294967295|P>>>22),P=b+(E^(j|~I))+R[10]+4293915773&4294967295,b=j+(P<<15&4294967295|P>>>17),P=I+(j^(b|~E))+R[1]+2240044497&4294967295,I=b+(P<<21&4294967295|P>>>11),P=E+(b^(I|~j))+R[8]+1873313359&4294967295,E=I+(P<<6&4294967295|P>>>26),P=j+(I^(E|~b))+R[15]+4264355552&4294967295,j=E+(P<<10&4294967295|P>>>22),P=b+(E^(j|~I))+R[6]+2734768916&4294967295,b=j+(P<<15&4294967295|P>>>17),P=I+(j^(b|~E))+R[13]+1309151649&4294967295,I=b+(P<<21&4294967295|P>>>11),P=E+(b^(I|~j))+R[4]+4149444226&4294967295,E=I+(P<<6&4294967295|P>>>26),P=j+(I^(E|~b))+R[11]+3174756917&4294967295,j=E+(P<<10&4294967295|P>>>22),P=b+(E^(j|~I))+R[2]+718787259&4294967295,b=j+(P<<15&4294967295|P>>>17),P=I+(j^(b|~E))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(b+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+b&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var I=E-this.blockSize,R=this.B,b=this.h,j=0;j<E;){if(b==0)for(;j<=I;)i(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<E;)if(R[b++]=S.charCodeAt(j++),b==this.blockSize){i(this,R),b=0;break}}else for(;j<E;)if(R[b++]=S[j++],b==this.blockSize){i(this,R),b=0;break}}this.h=b,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var I=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=I&255,I/=256;for(this.u(S),S=Array(16),E=I=0;4>E;++E)for(var R=0;32>R;R+=8)S[I++]=this.g[E]>>>R&255;return S};function s(S,E){var I=l;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=E(S)}function o(S,E){this.h=E;for(var I=[],R=!0,b=S.length-1;0<=b;b--){var j=S[b]|0;R&&j==E||(I[b]=j,R=!1)}this.g=I}var l={};function c(S){return-128<=S&&128>S?s(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return g;if(0>S)return M(h(-S));for(var E=[],I=1,R=0;S>=I;R++)E[R]=S/I|0,I*=4294967296;return new o(E,0)}function m(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return M(m(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=h(Math.pow(E,8)),R=g,b=0;b<S.length;b+=8){var j=Math.min(8,S.length-b),P=parseInt(S.substring(b,b+j),E);8>j?(j=h(Math.pow(E,j)),R=R.j(j).add(h(P))):(R=R.j(I),R=R.add(h(P)))}return R}var g=c(0),v=c(1),k=c(16777216);t=o.prototype,t.m=function(){if(O(this))return-M(this).m();for(var S=0,E=1,I=0;I<this.g.length;I++){var R=this.i(I);S+=(0<=R?R:4294967296+R)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(O(this))return"-"+M(this).toString(S);for(var E=h(Math.pow(S,6)),I=this,R="";;){var b=$(I,E).g;I=A(I,b.j(E));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=b,x(I))return j+R;for(;6>j.length;)j="0"+j;R=j+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function O(S){return S.h==-1}t.l=function(S){return S=A(this,S),O(S)?-1:x(S)?0:1};function M(S){for(var E=S.g.length,I=[],R=0;R<E;R++)I[R]=~S.g[R];return new o(I,~S.h).add(v)}t.abs=function(){return O(this)?M(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],R=0,b=0;b<=E;b++){var j=R+(this.i(b)&65535)+(S.i(b)&65535),P=(j>>>16)+(this.i(b)>>>16)+(S.i(b)>>>16);R=P>>>16,j&=65535,P&=65535,I[b]=P<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function A(S,E){return S.add(M(E))}t.j=function(S){if(x(this)||x(S))return g;if(O(this))return O(S)?M(this).j(M(S)):M(M(this).j(S));if(O(S))return M(this.j(M(S)));if(0>this.l(k)&&0>S.l(k))return h(this.m()*S.m());for(var E=this.g.length+S.g.length,I=[],R=0;R<2*E;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var b=0;b<S.g.length;b++){var j=this.i(R)>>>16,P=this.i(R)&65535,Be=S.i(b)>>>16,Vt=S.i(b)&65535;I[2*R+2*b]+=P*Vt,T(I,2*R+2*b),I[2*R+2*b+1]+=j*Vt,T(I,2*R+2*b+1),I[2*R+2*b+1]+=P*Be,T(I,2*R+2*b+1),I[2*R+2*b+2]+=j*Be,T(I,2*R+2*b+2)}for(R=0;R<E;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=E;R<2*E;R++)I[R]=0;return new o(I,0)};function T(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function C(S,E){this.g=S,this.h=E}function $(S,E){if(x(E))throw Error("division by zero");if(x(S))return new C(g,g);if(O(S))return E=$(M(S),E),new C(M(E.g),M(E.h));if(O(E))return E=$(S,M(E)),new C(M(E.g),E.h);if(30<S.g.length){if(O(S)||O(E))throw Error("slowDivide_ only works with positive integers.");for(var I=v,R=E;0>=R.l(S);)I=Y(I),R=Y(R);var b=D(I,1),j=D(R,1);for(R=D(R,2),I=D(I,2);!x(R);){var P=j.add(R);0>=P.l(S)&&(b=b.add(I),j=P),R=D(R,1),I=D(I,1)}return E=A(S,b.j(E)),new C(b,E)}for(b=g;0<=S.l(E);){for(I=Math.max(1,Math.floor(S.m()/E.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),j=h(I),P=j.j(E);O(P)||0<P.l(S);)I-=R,j=h(I),P=j.j(E);x(j)&&(j=v),b=b.add(j),S=A(S,P)}return new C(b,S)}t.A=function(S){return $(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)&S.i(R);return new o(I,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)|S.i(R);return new o(I,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)^S.i(R);return new o(I,this.h^S.h)};function Y(S){for(var E=S.g.length+1,I=[],R=0;R<E;R++)I[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(I,S.h)}function D(S,E){var I=E>>5;E%=32;for(var R=S.g.length-I,b=[],j=0;j<R;j++)b[j]=0<E?S.i(j+I)>>>E|S.i(j+I+1)<<32-E:S.i(j+I);return new o(b,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=m,Co=o}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XT,JT,Hl,ZT,dh,Qp,eI,tI,nI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,p){return a==Array.prototype||a==Object.prototype||(a[d]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var d=0;d<a.length;++d){var p=a[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var p=r;a=a.split(".");for(var w=0;w<a.length-1;w++){var z=a[w];if(!(z in p))break e;p=p[z]}a=a[a.length-1],w=p[a],d=d(w),d!=w&&d!=null&&e(p,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var p=0,w=!1,z={next:function(){if(!w&&p<a.length){var W=p++;return{value:d(W,a[W]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function m(a,d,p){return a.call.apply(a.bind,arguments)}function g(a,d,p){if(!a)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),a.apply(d,z)}}return function(){return a.apply(d,arguments)}}function v(a,d,p){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,v.apply(null,arguments)}function k(a,d){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function x(a,d){function p(){}p.prototype=d.prototype,a.aa=d.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(w,z,W){for(var te=Array(arguments.length-2),st=2;st<arguments.length;st++)te[st-2]=arguments[st];return d.prototype[z].apply(w,te)}}function O(a){const d=a.length;if(0<d){const p=Array(d);for(let w=0;w<d;w++)p[w]=a[w];return p}return[]}function M(a,d){for(let p=1;p<arguments.length;p++){const w=arguments[p];if(c(w)){const z=a.length||0,W=w.length||0;a.length=z+W;for(let te=0;te<W;te++)a[z+te]=w[te]}else a.push(w)}}class A{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function T(a){return/^[\s\xa0]*$/.test(a)}function C(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function $(a){return $[" "](a),a}$[" "]=function(){};var Y=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function D(a,d,p){for(const w in a)d.call(p,a[w],w,a)}function S(a,d){for(const p in a)d.call(void 0,a[p],p,a)}function E(a){const d={};for(const p in a)d[p]=a[p];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,d){let p,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(p in w)a[p]=w[p];for(let W=0;W<I.length;W++)p=I[W],Object.prototype.hasOwnProperty.call(w,p)&&(a[p]=w[p])}}function b(a){var d=1;a=a.split(":");const p=[];for(;0<d&&a.length;)p.push(a.shift()),d--;return a.length&&p.push(a.join(":")),p}function j(a){l.setTimeout(()=>{throw a},0)}function P(){var a=me;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Be{constructor(){this.h=this.g=null}add(d,p){const w=Vt.get();w.set(d,p),this.h?this.h.next=w:this.g=w,this.h=w}}var Vt=new A(()=>new pn,a=>a.reset());class pn{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,re=!1,me=new Be,B=()=>{const a=l.Promise.resolve(void 0);$e=()=>{a.then(Le)}};var Le=()=>{for(var a;a=P();){try{a.h.call(a.g)}catch(p){j(p)}var d=Vt;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}re=!1};function Me(){this.s=this.s,this.C=this.C}Me.prototype.s=!1,Me.prototype.ma=function(){this.s||(this.s=!0,this.N())},Me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,d),l.removeEventListener("test",p,d)}catch{}return a}();function Et(a,d){if(Qe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Y){e:{try{$(d.nodeName);var z=!0;break e}catch{}z=!1}z||(d=null)}}else p=="mouseover"?d=a.fromElement:p=="mouseout"&&(d=a.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ze[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Et.aa.h.call(this)}}x(Et,Qe);var Ze={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var sn="closure_listenable_"+(1e6*Math.random()|0),de=0;function Qr(a,d,p,w,z){this.listener=a,this.proxy=null,this.src=d,this.type=p,this.capture=!!w,this.ha=z,this.key=++de,this.da=this.fa=!1}function kr(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ve(a){this.src=a,this.g={},this.h=0}Ve.prototype.add=function(a,d,p,w,z){var W=a.toString();a=this.g[W],a||(a=this.g[W]=[],this.h++);var te=De(a,d,w,z);return-1<te?(d=a[te],p||(d.fa=!1)):(d=new Qr(d,this.src,W,!!w,z),d.fa=p,a.push(d)),d};function pe(a,d){var p=d.type;if(p in a.g){var w=a.g[p],z=Array.prototype.indexOf.call(w,d,void 0),W;(W=0<=z)&&Array.prototype.splice.call(w,z,1),W&&(kr(d),a.g[p].length==0&&(delete a.g[p],a.h--))}}function De(a,d,p,w){for(var z=0;z<a.length;++z){var W=a[z];if(!W.da&&W.listener==d&&W.capture==!!p&&W.ha==w)return z}return-1}var et="closure_lm_"+(1e6*Math.random()|0),pt={};function Ft(a,d,p,w,z){if(Array.isArray(d)){for(var W=0;W<d.length;W++)Ft(a,d[W],p,w,z);return null}return p=on(p),a&&a[sn]?a.K(d,p,h(w)?!!w.capture:!!w,z):Wi(a,d,p,!1,w,z)}function Wi(a,d,p,w,z,W){if(!d)throw Error("Invalid event type");var te=h(z)?!!z.capture:!!z,st=Ks(a);if(st||(a[et]=st=new Ve(a)),p=st.add(d,p,w,te,W),p.proxy)return p;if(w=ll(),p.proxy=w,w.src=a,w.listener=p,a.addEventListener)Je||(z=te),z===void 0&&(z=!1),a.addEventListener(d.toString(),w,z);else if(a.attachEvent)a.attachEvent(Go(d.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ll(){function a(p){return d.call(a.src,a.listener,p)}const d=ul;return a}function Ws(a,d,p,w,z){if(Array.isArray(d))for(var W=0;W<d.length;W++)Ws(a,d[W],p,w,z);else w=h(w)?!!w.capture:!!w,p=on(p),a&&a[sn]?(a=a.i,d=String(d).toString(),d in a.g&&(W=a.g[d],p=De(W,p,w,z),-1<p&&(kr(W[p]),Array.prototype.splice.call(W,p,1),W.length==0&&(delete a.g[d],a.h--)))):a&&(a=Ks(a))&&(d=a.g[d.toString()],a=-1,d&&(a=De(d,p,w,z)),(p=-1<a?d[a]:null)&&qs(p))}function qs(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[sn])pe(d.i,a);else{var p=a.type,w=a.proxy;d.removeEventListener?d.removeEventListener(p,w,a.capture):d.detachEvent?d.detachEvent(Go(p),w):d.addListener&&d.removeListener&&d.removeListener(w),(p=Ks(d))?(pe(p,a),p.h==0&&(p.src=null,d[et]=null)):kr(a)}}}function Go(a){return a in pt?pt[a]:pt[a]="on"+a}function ul(a,d){if(a.da)a=!0;else{d=new Et(d,this);var p=a.listener,w=a.ha||a.src;a.fa&&qs(a),a=p.call(w,d)}return a}function Ks(a){return a=a[et],a instanceof Ve?a:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(a){return typeof a=="function"?a:(a[Un]||(a[Un]=function(d){return a.handleEvent(d)}),a[Un])}function xt(){Me.call(this),this.i=new Ve(this),this.M=this,this.F=null}x(xt,Me),xt.prototype[sn]=!0,xt.prototype.removeEventListener=function(a,d,p,w){Ws(this,a,d,p,w)};function Tt(a,d){var p,w=a.F;if(w)for(p=[];w;w=w.F)p.push(w);if(a=a.M,w=d.type||d,typeof d=="string")d=new Qe(d,a);else if(d instanceof Qe)d.target=d.target||a;else{var z=d;d=new Qe(w,a),R(d,z)}if(z=!0,p)for(var W=p.length-1;0<=W;W--){var te=d.g=p[W];z=jt(te,w,!0,d)&&z}if(te=d.g=a,z=jt(te,w,!0,d)&&z,z=jt(te,w,!1,d)&&z,p)for(W=0;W<p.length;W++)te=d.g=p[W],z=jt(te,w,!1,d)&&z}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var p=a.g[d],w=0;w<p.length;w++)kr(p[w]);delete a.g[d],a.h--}}this.F=null},xt.prototype.K=function(a,d,p,w){return this.i.add(String(a),d,!1,p,w)},xt.prototype.L=function(a,d,p,w){return this.i.add(String(a),d,!0,p,w)};function jt(a,d,p,w){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var z=!0,W=0;W<d.length;++W){var te=d[W];if(te&&!te.da&&te.capture==p){var st=te.listener,Gt=te.ha||te.src;te.fa&&pe(a.i,te),z=st.call(Gt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Wt(a,d,p){if(typeof a=="function")p&&(a=v(a,p));else if(a&&typeof a.handleEvent=="function")a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Yr(a){a.g=Wt(()=>{a.g=null,a.i&&(a.i=!1,Yr(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class qi extends Me{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Yr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(a){Me.call(this),this.h=a,this.g={}}x(br,Me);var Xn=[];function Gs(a){D(a.g,function(d,p){this.g.hasOwnProperty(p)&&qs(d)},a),a.g={}}br.prototype.N=function(){br.aa.N.call(this),Gs(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ki=l.JSON.stringify,Qo=l.JSON.parse,cl=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Gi(){}Gi.prototype.h=null;function Xr(a){return a.h||(a.h=a.i())}function Jr(){}var hr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){Qe.call(this,"d")}x(xr,Qe);function gi(){Qe.call(this,"c")}x(gi,Qe);var Nr={},Qs=null;function Qi(){return Qs=Qs||new xt}Nr.La="serverreachability";function dr(a){Qe.call(this,Nr.La,a)}x(dr,Qe);function kn(a){const d=Qi();Tt(d,new dr(d))}Nr.STAT_EVENT="statevent";function yi(a,d){Qe.call(this,Nr.STAT_EVENT,a),this.stat=d}x(yi,Qe);function qt(a){const d=Qi();Tt(d,new yi(d,a))}Nr.Ma="timingevent";function Yo(a,d){Qe.call(this,Nr.Ma,a),this.size=d}x(Yo,Qe);function N(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function F(){this.g=!0}F.prototype.xa=function(){this.g=!1};function H(a,d,p,w,z,W){a.info(function(){if(a.g)if(W)for(var te="",st=W.split("&"),Gt=0;Gt<st.length;Gt++){var Ke=st[Gt].split("=");if(1<Ke.length){var ht=Ke[0];Ke=Ke[1];var Qt=ht.split("_");te=2<=Qt.length&&Qt[1]=="type"?te+(ht+"="+Ke+"&"):te+(ht+"=redacted&")}}else te=null;else te=W;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+d+`
`+p+`
`+te})}function K(a,d,p,w,z,W,te){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+d+`
`+p+`
`+W+" "+te})}function ie(a,d,p,w){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+ge(a,p)+(w?" "+w:"")})}function fe(a,d){a.info(function(){return"TIMEOUT: "+d})}F.prototype.info=function(){};function ge(a,d){if(!a.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var w=p[a];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var W=z[0];if(W!="noop"&&W!="stop"&&W!="close")for(var te=1;te<z.length;te++)z[te]=""}}}}return Ki(p)}catch{return d}}var ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ce;function se(){}x(se,Gi),se.prototype.g=function(){return new XMLHttpRequest},se.prototype.i=function(){return{}},ce=new se;function ye(a,d,p,w){this.j=a,this.i=d,this.l=p,this.R=w||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var Se={},Fe={};function ut(a,d,p){a.L=1,a.v=Xi(er(d)),a.m=p,a.P=!0,tt(a,null)}function tt(a,d){a.F=Date.now(),xn(a),a.A=er(a.v);var p=a.A,w=a.R;Array.isArray(w)||(w=[String(w)]),fl(p.i,"t",w),a.C=0,p=a.j.J,a.h=new Ie,a.g=mc(a.j,p?d:null,!a.m),0<a.O&&(a.M=new qi(v(a.Y,a,a.g),a.O)),d=a.U,p=a.g,w=a.ca;var z="readystatechange";Array.isArray(z)||(z&&(Xn[0]=z.toString()),z=Xn);for(var W=0;W<z.length;W++){var te=Ft(p,z[W],w||d.handleEvent,!1,d.h||d);if(!te)break;d.g[te.key]=te}d=a.H?E(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),kn(),H(a.i,a.u,a.A,a.l,a.R,a.m)}ye.prototype.ca=function(a){a=a.target;const d=this.M;d&&gr(a)==3?d.j():this.Y(a)},ye.prototype.Y=function(a){try{if(a==this.g)e:{const Qt=gr(this.g);var d=this.g.Ba();const Ti=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||yl(this.g)))){this.J||Qt!=4||d==7||(d==8||0>=Ti?kn(3):kn(2)),Zn(this);var p=this.g.Z();this.X=p;t:if(bn(this)){var w=yl(this.g);a="";var z=w.length,W=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Ut(this);var te="";break t}this.h.i=new l.TextDecoder}for(d=0;d<z;d++)this.h.h=!0,a+=this.h.i.decode(w[d],{stream:!(W&&d==z-1)});w.length=0,this.h.g+=a,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=p==200,K(this.i,this.u,this.A,this.l,this.R,Qt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var st,Gt=this.g;if((st=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(st)){var Ke=st;break t}}Ke=null}if(p=Ke)ie(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dr(this,p);else{this.o=!1,this.s=3,qt(12),gn(this),Ut(this);break e}}if(this.P){p=!0;let Hn;for(;!this.J&&this.C<te.length;)if(Hn=Jn(this,te),Hn==Fe){Qt==4&&(this.s=4,qt(14),p=!1),ie(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==Se){this.s=4,qt(15),ie(this.i,this.l,te,"[Invalid Chunk]"),p=!1;break}else ie(this.i,this.l,Hn,null),Dr(this,Hn);if(bn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||te.length!=0||this.h.h||(this.s=1,qt(16),p=!1),this.o=this.o&&p,!p)ie(this.i,this.l,te,"[Invalid Chunked Response]"),gn(this),Ut(this);else if(0<te.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),ia(ht),ht.M=!0,qt(11))}}else ie(this.i,this.l,te,null),Dr(this,te);Qt==4&&gn(this),this.o&&!this.J&&(Qt==4?sa(this.j,this):(this.o=!1,xn(this)))}else ac(this.g),p==400&&0<te.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),gn(this),Ut(this)}}}catch{}finally{}};function bn(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Jn(a,d){var p=a.C,w=d.indexOf(`
`,p);return w==-1?Fe:(p=Number(d.substring(p,w)),isNaN(p)?Se:(w+=1,w+p>d.length?Fe:(d=d.slice(w,w+p),a.C=w+p,d)))}ye.prototype.cancel=function(){this.J=!0,gn(this)};function xn(a){a.S=Date.now()+a.I,mn(a,a.I)}function mn(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=N(v(a.ba,a),d)}function Zn(a){a.B&&(l.clearTimeout(a.B),a.B=null)}ye.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(fe(this.i,this.A),this.L!=2&&(kn(),qt(17)),gn(this),this.s=2,Ut(this)):mn(this,this.S-a)};function Ut(a){a.j.G==0||a.J||sa(a.j,a)}function gn(a){Zn(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Gs(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Dr(a,d){try{var p=a.j;if(p.G!=0&&(p.g==a||nt(p.h,a))){if(!a.K&&nt(p.h,a)&&p.G==3){try{var w=p.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)yr(p),ro(p);else break e;io(p),qt(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=N(v(p.Za,p),6e3));if(1>=Kt(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else ni(p,11)}else if((a.K||p.g==a)&&yr(p),!T(d))for(z=p.Da.g.parse(d),d=0;d<z.length;d++){let Ke=z[d];if(p.T=Ke[0],Ke=Ke[1],p.G==2)if(Ke[0]=="c"){p.K=Ke[1],p.ia=Ke[2];const ht=Ke[3];ht!=null&&(p.la=ht,p.j.info("VER="+p.la));const Qt=Ke[4];Qt!=null&&(p.Aa=Qt,p.j.info("SVER="+p.Aa));const Ti=Ke[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(w=1.5*Ti,p.L=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const Hn=a.g;if(Hn){const oa=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var W=w.h;W.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(yn(W,W.h),W.h=null))}if(w.D){const El=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(w.ya=El,Xe(w.I,w.D,El))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),w=p;var te=a;if(w.qa=pc(w,w.J?w.ia:null,w.W),te.K){Yi(w.h,te);var st=te,Gt=w.L;Gt&&(st.I=Gt),st.B&&(Zn(st),xn(st)),w.g=te}else hc(w);0<p.i.length&&ra(p)}else Ke[0]!="stop"&&Ke[0]!="close"||ni(p,7);else p.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?ni(p,7):no(p):Ke[0]!="noop"&&p.l&&p.l.ta(Ke),p.v=0)}}kn(4)}catch{}}var vi=class{constructor(a,d){this.g=a,this.map=d}};function Ae(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ct(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Kt(a){return a.h?1:a.g?a.g.size:0}function nt(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function yn(a,d){a.g?a.g.add(d):a.h=d}function Yi(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Ae.prototype.cancel=function(){if(this.i=Ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ys(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const p of a.g.values())d=d.concat(p.D);return d}return O(a.i)}function rc(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],p=a.length,w=0;w<p;w++)d.push(a[w]);return d}d=[],p=0;for(w in a)d[p++]=a[w];return d}function fr(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var p=0;p<a;p++)d.push(p);return d}d=[],p=0;for(const w in a)d[p++]=w;return d}}}function vn(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var p=fr(a),w=rc(a),z=w.length,W=0;W<z;W++)d.call(void 0,w[W],p&&p[W],a)}var Zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zn(a,d){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var w=a[p].indexOf("="),z=null;if(0<=w){var W=a[p].substring(0,w);z=a[p].substring(w+1)}else W=a[p];d(W,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Or(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Or){this.h=a.h,Nn(this,a.j),this.o=a.o,this.g=a.g,pr(this,a.s),this.l=a.l;var d=a.i,p=new Zi;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Xs(this,p),this.m=a.m}else a&&(d=String(a).match(Zr))?(this.h=!1,Nn(this,d[1]||"",!0),this.o=Ji(d[2]||""),this.g=Ji(d[3]||"",!0),pr(this,d[4]),this.l=Ji(d[5]||"",!0),Xs(this,d[6]||"",!0),this.m=Ji(d[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}Or.prototype.toString=function(){var a=[],d=this.j;d&&a.push(mr(d,dl,!0),":");var p=this.g;return(p||d=="file")&&(a.push("//"),(d=this.o)&&a.push(mr(d,dl,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(mr(p,p.charAt(0)=="/"?$d:Lr,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",mr(p,Xo)),a.join("")};function er(a){return new Or(a)}function Nn(a,d,p){a.j=p?Ji(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function pr(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Xs(a,d,p){d instanceof Zi?(a.i=d,ic(a.i,a.h)):(p||(d=mr(d,ei)),a.i=new Zi(d,a.h))}function Xe(a,d,p){a.i.set(d,p)}function Xi(a){return Xe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ji(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function mr(a,d,p){return typeof a=="string"?(a=encodeURI(a).replace(d,hl),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function hl(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var dl=/[#\/\?@]/g,Lr=/[#\?:]/g,$d=/[#\?]/g,ei=/[#\?@]/g,Xo=/#/g;function Zi(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Bn(a){a.g||(a.g=new Map,a.h=0,a.i&&zn(a.i,function(d,p){a.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=Zi.prototype,t.add=function(a,d){Bn(this),this.i=null,a=_i(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(d),this.h+=1,this};function Jo(a,d){Bn(a),d=_i(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function es(a,d){return Bn(a),d=_i(a,d),a.g.has(d)}t.forEach=function(a,d){Bn(this),this.g.forEach(function(p,w){p.forEach(function(z){a.call(d,z,w,this)},this)},this)},t.na=function(){Bn(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let w=0;w<d.length;w++){const z=a[w];for(let W=0;W<z.length;W++)p.push(d[w])}return p},t.V=function(a){Bn(this);let d=[];if(typeof a=="string")es(this,a)&&(d=d.concat(this.g.get(_i(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)d=d.concat(a[p])}return d},t.set=function(a,d){return Bn(this),this.i=null,a=_i(this,a),es(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function fl(a,d,p){Jo(a,d),0<p.length&&(a.i=null,a.g.set(_i(a,d),O(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var w=d[p];const W=encodeURIComponent(String(w)),te=this.V(w);for(w=0;w<te.length;w++){var z=W;te[w]!==""&&(z+="="+encodeURIComponent(String(te[w]))),a.push(z)}}return this.i=a.join("&")};function _i(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function ic(a,d){d&&!a.j&&(Bn(a),a.i=null,a.g.forEach(function(p,w){var z=w.toLowerCase();w!=z&&(Jo(this,w),fl(this,z,p))},a)),a.j=d}function ts(a,d){const p=new F;if(l.Image){const w=new Image;w.onload=k(Mr,p,"TestLoadImage: loaded",!0,d,w),w.onerror=k(Mr,p,"TestLoadImage: error",!1,d,w),w.onabort=k(Mr,p,"TestLoadImage: abort",!1,d,w),w.ontimeout=k(Mr,p,"TestLoadImage: timeout",!1,d,w),l.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else d(!1)}function Hd(a,d){const p=new F,w=new AbortController,z=setTimeout(()=>{w.abort(),Mr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:w.signal}).then(W=>{clearTimeout(z),W.ok?Mr(p,"TestPingServer: ok",!0,d):Mr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(z),Mr(p,"TestPingServer: error",!1,d)})}function Mr(a,d,p,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(p)}catch{}}function pl(){this.g=new cl}function Zo(a,d,p){const w=p||"";try{vn(a,function(z,W){let te=z;h(z)&&(te=Ki(z)),d.push(w+W+"="+encodeURIComponent(te))})}catch(z){throw d.push(w+"type="+encodeURIComponent("_badmap")),z}}function wi(a){this.l=a.Ub||null,this.j=a.eb||!1}x(wi,Gi),wi.prototype.g=function(){return new ea(this.l,this.j)},wi.prototype.i=function(a){return function(){return a}}({});function ea(a,d){xt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ea,xt),t=ea.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ns(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Js(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Js(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Zs(this):ns(this),this.readyState==3&&Js(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Zs(this))},t.Qa=function(a){this.g&&(this.response=a,Zs(this))},t.ga=function(){this.g&&Zs(this)};function Zs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ns(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=d.next();return a.join(`\r
`)};function ns(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ta(a){let d="";return D(a,function(p,w){d+=w,d+=":",d+=p,d+=`\r
`}),d}function eo(a,d,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=ta(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Xe(a,d,p))}function gt(a){xt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(gt,xt);var sc=/^https?$/i,to=["POST","PUT"];t=gt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ce.g(),this.v=this.o?Xr(this.o):Xr(ce),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(W){na(this,W);return}if(a=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)p.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())p.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(W=>W.toLowerCase()=="content-type"),z=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(to,d,void 0))||w||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,te]of p)this.g.setRequestHeader(W,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oc(this),this.u=!0,this.g.send(a),this.u=!1}catch(W){na(this,W)}};function na(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,ml(a),Vr(a)}function ml(a){a.A||(a.A=!0,Tt(a,"complete"),Tt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Tt(this,"complete"),Tt(this,"abort"),Vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gl(this):this.bb())},t.bb=function(){gl(this)};function gl(a){if(a.h&&typeof o<"u"&&(!a.v[1]||gr(a)!=4||a.Z()!=2)){if(a.u&&gr(a)==4)Wt(a.Ea,0,a);else if(Tt(a,"readystatechange"),gr(a)==4){a.h=!1;try{const te=a.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var w;if(w=te===0){var z=String(a.D).match(Zr)[1]||null;!z&&l.self&&l.self.location&&(z=l.self.location.protocol.slice(0,-1)),w=!sc.test(z?z.toLowerCase():"")}p=w}if(p)Tt(a,"complete"),Tt(a,"success");else{a.m=6;try{var W=2<gr(a)?a.g.statusText:""}catch{W=""}a.l=W+" ["+a.Z()+"]",ml(a)}}finally{Vr(a)}}}}function Vr(a,d){if(a.g){oc(a);const p=a.g,w=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Tt(a,"ready");try{p.onreadystatechange=w}catch{}}}function oc(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function gr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Qo(d)}};function yl(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function ac(a){const d={};a=(a.g&&2<=gr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(T(a[w]))continue;var p=b(a[w]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const W=d[z]||[];d[z]=W,W.push(p)}S(d,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rs(a,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||d}function vl(a){this.Aa=0,this.i=[],this.j=new F,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rs("baseRetryDelayMs",5e3,a),this.cb=rs("retryDelaySeedMs",1e4,a),this.Wa=rs("forwardChannelMaxRetries",2,a),this.wa=rs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ae(a&&a.concurrentRequestLimit),this.Da=new pl,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vl.prototype,t.la=8,t.G=1,t.connect=function(a,d,p,w){qt(0),this.W=a,this.H=d||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.I=pc(this,null,this.W),ra(this)};function no(a){if(lc(a),a.G==3){var d=a.U++,p=er(a.I);if(Xe(p,"SID",a.K),Xe(p,"RID",d),Xe(p,"TYPE","terminate"),ti(a,p),d=new ye(a,a.j,d),d.L=2,d.v=Xi(er(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=d.v,p=!0),p||(d.g=mc(d.j,null),d.g.ea(d.v)),d.F=Date.now(),xn(d)}fc(a)}function ro(a){a.g&&(ia(a),a.g.cancel(),a.g=null)}function lc(a){ro(a),a.u&&(l.clearTimeout(a.u),a.u=null),yr(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ra(a){if(!ct(a.h)&&!a.s){a.s=!0;var d=a.Ga;$e||B(),re||($e(),re=!0),me.add(d,a),a.B=0}}function uc(a,d){return Kt(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=N(v(a.Ga,a,d),dc(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const z=new ye(this,this.j,a);let W=this.o;if(this.S&&(W?(W=E(W),R(W,this.S)):W=this.S),this.m!==null||this.O||(z.H=W,W=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=cc(this,z,d),p=er(this.I),Xe(p,"RID",a),Xe(p,"CVER",22),this.D&&Xe(p,"X-HTTP-Session-Id",this.D),ti(this,p),W&&(this.O?d="headers="+encodeURIComponent(String(ta(W)))+"&"+d:this.m&&eo(p,this.m,W)),yn(this.h,z),this.Ua&&Xe(p,"TYPE","init"),this.P?(Xe(p,"$req",d),Xe(p,"SID","null"),z.T=!0,ut(z,p,null)):ut(z,p,d),this.G=2}}else this.G==3&&(a?_l(this,a):this.i.length==0||ct(this.h)||_l(this))};function _l(a,d){var p;d?p=d.l:p=a.U++;const w=er(a.I);Xe(w,"SID",a.K),Xe(w,"RID",p),Xe(w,"AID",a.T),ti(a,w),a.m&&a.o&&eo(w,a.m,a.o),p=new ye(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),d&&(a.i=d.D.concat(a.i)),d=cc(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),yn(a.h,p),ut(p,w,d)}function ti(a,d){a.H&&D(a.H,function(p,w){Xe(d,w,p)}),a.l&&vn({},function(p,w){Xe(d,w,p)})}function cc(a,d,p){p=Math.min(a.i.length,p);var w=a.l?v(a.l.Na,a.l,a):null;e:{var z=a.i;let W=-1;for(;;){const te=["count="+p];W==-1?0<p?(W=z[0].g,te.push("ofs="+W)):W=0:te.push("ofs="+W);let st=!0;for(let Gt=0;Gt<p;Gt++){let Ke=z[Gt].g;const ht=z[Gt].map;if(Ke-=W,0>Ke)W=Math.max(0,z[Gt].g-100),st=!1;else try{Zo(ht,te,"req"+Ke+"_")}catch{w&&w(ht)}}if(st){w=te.join("&");break e}}}return a=a.i.splice(0,p),d.D=a,w}function hc(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;$e||B(),re||($e(),re=!0),me.add(d,a),a.v=0}}function io(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=N(v(a.Fa,a),dc(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,wl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=N(v(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),ro(this),wl(this))};function ia(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function wl(a){a.g=new ye(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=er(a.qa);Xe(d,"RID","rpc"),Xe(d,"SID",a.K),Xe(d,"AID",a.T),Xe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Xe(d,"TO",a.ja),Xe(d,"TYPE","xmlhttp"),ti(a,d),a.m&&a.o&&eo(d,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Xi(er(d)),p.m=null,p.P=!0,tt(p,a)}t.Za=function(){this.C!=null&&(this.C=null,ro(this),io(this),qt(19))};function yr(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function sa(a,d){var p=null;if(a.g==d){yr(a),ia(a),a.g=null;var w=2}else if(nt(a.h,d))p=d.D,Yi(a.h,d),w=1;else return;if(a.G!=0){if(d.o)if(w==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var z=a.B;w=Qi(),Tt(w,new Yo(w,p)),ra(a)}else hc(a);else if(z=d.s,z==3||z==0&&0<d.X||!(w==1&&uc(a,d)||w==2&&io(a)))switch(p&&0<p.length&&(d=a.h,d.i=d.i.concat(p)),z){case 1:ni(a,5);break;case 4:ni(a,10);break;case 3:ni(a,6);break;default:ni(a,2)}}}function dc(a,d){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*d}function ni(a,d){if(a.j.info("Error code "+d),d==2){var p=v(a.fb,a),w=a.Xa;const z=!w;w=new Or(w||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Nn(w,"https"),Xi(w),z?ts(w.toString(),p):Hd(w.toString(),p)}else qt(2);a.G=0,a.l&&a.l.sa(d),fc(a),lc(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function fc(a){if(a.G=0,a.ka=[],a.l){const d=Ys(a.h);(d.length!=0||a.i.length!=0)&&(M(a.ka,d),M(a.ka,a.i),a.h.i.length=0,O(a.i),a.i.length=0),a.l.ra()}}function pc(a,d,p){var w=p instanceof Or?er(p):new Or(p);if(w.g!="")d&&(w.g=d+"."+w.g),pr(w,w.s);else{var z=l.location;w=z.protocol,d=d?d+"."+z.hostname:z.hostname,z=+z.port;var W=new Or(null);w&&Nn(W,w),d&&(W.g=d),z&&pr(W,z),p&&(W.l=p),w=W}return p=a.D,d=a.ya,p&&d&&Xe(w,p,d),Xe(w,"VER",a.la),ti(a,w),w}function mc(a,d,p){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new gt(new wi({eb:p})):new gt(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}t=gc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function so(){}so.prototype.g=function(a,d){return new _n(a,d)};function _n(a,d){xt.call(this),this.g=new vl(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!T(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!T(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new $n(this)}x(_n,xt),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){no(this.g)},_n.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Ki(a),a=p);d.i.push(new vi(d.Ya++,a)),d.G==3&&ra(d)},_n.prototype.N=function(){this.g.l=null,delete this.j,no(this.g),delete this.g,_n.aa.N.call(this)};function yc(a){xr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const p in d){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}x(yc,xr);function Ei(){gi.call(this),this.status=1}x(Ei,gi);function $n(a){this.g=a}x($n,gc),$n.prototype.ua=function(){Tt(this.g,"a")},$n.prototype.ta=function(a){Tt(this.g,new yc(a))},$n.prototype.sa=function(a){Tt(this.g,new Ei)},$n.prototype.ra=function(){Tt(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,nI=function(){return new so},tI=function(){return Qi()},eI=Nr,Qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,dh=ee,Te.COMPLETE="complete",ZT=Te,Jr.EventType=hr,hr.OPEN="a",hr.CLOSE="b",hr.ERROR="c",hr.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Hl=Jr,JT=wi,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,XT=gt}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new hg("@firebase/firestore");function Ml(){return Fo.logLevel}function he(t,...e){if(Fo.logLevel<=qe.DEBUG){const n=e.map(Ag);Fo.debug(`Firestore (${sl}): ${t}`,...n)}}function zi(t,...e){if(Fo.logLevel<=qe.ERROR){const n=e.map(Ag);Fo.error(`Firestore (${sl}): ${t}`,...n)}}function qa(t,...e){if(Fo.logLevel<=qe.WARN){const n=e.map(Ag);Fo.warn(`Firestore (${sl}): ${t}`,...n)}}function Ag(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+t;throw zi(e),new Error(e)}function wt(t,e){t||Pe()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class qN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KN{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string"),new rI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string"),new In(e)}}class GN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class QN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new GN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string"),this.R=n.token,new YN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=JN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function Ka(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Zt(0,0))}static max(){return new be(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(),r===void 0?r=e.length-n:r>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ot extends bu{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const ZN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends bu{construct(e,n,r){return new un(e,n,r)}static isValidIdentifier(e){return ZN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new un(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ve(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ve(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ve(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ve(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Ot.fromString(e))}static fromName(e){return new _e(Ot.fromString(e).popFirst(5))}static empty(){return new _e(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Ot(e.slice()))}}function eD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new Os(i,_e.empty(),e)}function tD(t){return new Os(t.readTime,t.key,-1)}class Os{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Os(be.min(),_e.empty(),-1)}static max(){return new Os(be.max(),_e.empty(),-1)}}function nD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==rD)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(i=>i?X.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new X((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(m=>{o[h]=m,++l,l===s&&r(o)},m=>i(m))}})}static doWhile(e,n){return new X((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function sD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ju(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cg.oe=-1;function kd(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function oD(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ln.RED,this.left=i??ln.EMPTY,this.right=s??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ln(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X_(this.data.getIterator())}getIteratorFrom(e){return new X_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class X_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new sr([])}unionWith(e){let n=new hn(un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new oI("Invalid base64 string: "+s):s}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const aD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(wt(!!t),typeof t=="string"){let e=0;const n=aD.exec(t);if(wt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jo(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rg(t){const e=t.mapValue.fields.__previous_value__;return Pg(e)?Rg(e):e}function xu(t){const e=Ls(t.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r,i,s,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}class Nu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pg(t)?4:uD(t)?9007199254740991:10:Pe()}function pi(t,e){if(t===e)return!0;const n=Uo(t);if(n!==Uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xu(t).isEqual(xu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ls(i.timestampValue),l=Ls(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return jo(i.bytesValue).isEqual(jo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $t(i.geoPointValue.latitude)===$t(s.geoPointValue.latitude)&&$t(i.geoPointValue.longitude)===$t(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $t(i.integerValue)===$t(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=$t(i.doubleValue),l=$t(s.doubleValue);return o===l?Xh(o)===Xh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ka(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Y_(o)!==Y_(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!pi(o[c],l[c])))return!1;return!0}(t,e);default:return Pe()}}function Du(t,e){return(t.values||[]).find(n=>pi(n,e))!==void 0}function Ga(t,e){if(t===e)return 0;const n=Uo(t),r=Uo(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=$t(s.integerValue||s.doubleValue),c=$t(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return J_(t.timestampValue,e.timestampValue);case 4:return J_(xu(t),xu(e));case 5:return it(t.stringValue,e.stringValue);case 6:return function(s,o){const l=jo(s),c=jo(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const m=it(l[h],c[h]);if(m!==0)return m}return it(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=it($t(s.latitude),$t(o.latitude));return l!==0?l:it($t(s.longitude),$t(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let h=0;h<l.length&&h<c.length;++h){const m=Ga(l[h],c[h]);if(m)return m}return it(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Kc.mapValue&&o===Kc.mapValue)return 0;if(s===Kc.mapValue)return 1;if(o===Kc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=o.fields||{},m=Object.keys(h);c.sort(),m.sort();for(let g=0;g<c.length&&g<m.length;++g){const v=it(c[g],m[g]);if(v!==0)return v;const k=Ga(l[c[g]],h[m[g]]);if(k!==0)return k}return it(c.length,m.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function J_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=Ls(t),r=Ls(e),i=it(n.seconds,r.seconds);return i!==0?i:it(n.nanos,r.nanos)}function Qa(t){return Yp(t)}function Yp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ls(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Yp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Yp(n.fields[o])}`;return i+"}"}(t.mapValue):Pe()}function Xp(t){return!!t&&"integerValue"in t}function kg(t){return!!t&&"arrayValue"in t}function Z_(t){return!!t&&"nullValue"in t}function e0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fh(t){return!!t&&"mapValue"in t}function ru(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ru(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=un.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=ru(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qn(ru(this.value))}}function aI(t){const e=[];return qo(t.fields,(n,r)=>{const i=new un([n]);if(fh(r)){const s=aI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new An(e,0,be.min(),be.min(),be.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new An(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new An(e,2,n,be.min(),be.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,be.min(),be.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.position=e,this.inclusive=n}}function t0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=Ga(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function n0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n="asc"){this.field=e,this.dir=n}}function cD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{}class Xt extends lI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dD(e,n,r):n==="array-contains"?new mD(e,r):n==="in"?new gD(e,r):n==="not-in"?new yD(e,r):n==="array-contains-any"?new vD(e,r):new Xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fD(e,r):new pD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ga(n,this.value)):n!==null&&Uo(this.value)===Uo(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends lI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mi(e,n)}matches(e){return uI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function uI(t){return t.op==="and"}function cI(t){return hD(t)&&uI(t)}function hD(t){for(const e of t.filters)if(e instanceof mi)return!1;return!0}function Jp(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(cI(t))return t.filters.map(e=>Jp(e)).join(",");{const e=t.filters.map(n=>Jp(n)).join(",");return`${t.op}(${e})`}}function hI(t,e){return t instanceof Xt?function(r,i){return i instanceof Xt&&r.op===i.op&&r.field.isEqual(i.field)&&pi(r.value,i.value)}(t,e):t instanceof mi?function(r,i){return i instanceof mi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&hI(o,i.filters[l]),!0):!1}(t,e):void Pe()}function dI(t){return t instanceof Xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(t):t instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(dI).join(" ,")+"}"}(t):"Filter"}class dD extends Xt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class fD extends Xt{constructor(e,n){super(e,"in",n),this.keys=fI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pD extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=fI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class mD extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kg(n)&&Du(n.arrayValue,this.value)}}class gD extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}}class yD extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Du(this.value.arrayValue,n)}}class vD extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Du(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function r0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _D(t,e,n,r,i,s,o)}function bg(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),kd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qa(r)).join(",")),e.ue=n}return e.ue}function xg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n0(t.startAt,e.startAt)&&n0(t.endAt,e.endAt)}function Zp(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wD(t,e,n,r,i,s,o,l){return new bd(t,e,n,r,i,s,o,l)}function Ng(t){return new bd(t)}function i0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ED(t){return t.collectionGroup!==null}function iu(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new hn(un.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Zh(s,r))}),n.has(un.keyField().canonicalString())||e.ce.push(new Zh(un.keyField(),r))}return e.ce}function hi(t){const e=xe(t);return e.le||(e.le=TD(e,iu(t))),e.le}function TD(t,e){if(t.limitType==="F")return r0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Zh(i.field,s)});const n=t.endAt?new Jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jh(t.startAt.position,t.startAt.inclusive):null;return r0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function em(t,e,n){return new bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return xg(hi(t),hi(e))&&t.limitType===e.limitType}function pI(t){return`${bg(hi(t))}|lt:${t.limitType}`}function ha(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dI(i)).join(", ")}]`),kd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qa(i)).join(",")),`Target(${r})`}(hi(t))}; limitType=${t.limitType})`}function Nd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of iu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const h=t0(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,iu(r),i)||r.endAt&&!function(o,l,c){const h=t0(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,iu(r),i))}(t,e)}function ID(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mI(t){return(e,n)=>{let r=!1;for(const i of iu(t)){const s=SD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function SD(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),h=l.data.field(s);return c!==null&&h!==null?Ga(c,h):Pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return sI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new bt(_e.comparator);function Bi(){return AD}const gI=new bt(_e.comparator);function Wl(...t){let e=gI;for(const n of t)e=e.insert(n.key,n);return e}function yI(t){let e=gI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Io(){return su()}function vI(){return su()}function su(){return new ol(t=>t.toString(),(t,e)=>t.isEqual(e))}const CD=new bt(_e.comparator),PD=new hn(_e.comparator);function He(...t){let e=PD;for(const n of t)e=e.add(n);return e}const RD=new hn(it);function kD(){return RD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function wI(t){return{integerValue:""+t}}function bD(t,e){return oD(e)?wI(e):_I(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this._=void 0}}function xD(t,e,n){return t instanceof ed?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Pg(s)&&(s=Rg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ou?TI(t,e):t instanceof Lu?II(t,e):function(i,s){const o=EI(i,s),l=s0(o)+s0(i.Pe);return Xp(o)&&Xp(i.Pe)?wI(l):_I(i.serializer,l)}(t,e)}function ND(t,e,n){return t instanceof Ou?TI(t,e):t instanceof Lu?II(t,e):n}function EI(t,e){return t instanceof td?function(r){return Xp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ed extends Dd{}class Ou extends Dd{constructor(e){super(),this.elements=e}}function TI(t,e){const n=SI(e);for(const r of t.elements)n.some(i=>pi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Lu extends Dd{constructor(e){super(),this.elements=e}}function II(t,e){let n=SI(e);for(const r of t.elements)n=n.filter(i=>!pi(i,r));return{arrayValue:{values:n}}}class td extends Dd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function s0(t){return $t(t.integerValue||t.doubleValue)}function SI(t){return kg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ou&&i instanceof Ou||r instanceof Lu&&i instanceof Lu?Ka(r.elements,i.elements,pi):r instanceof td&&i instanceof td?pi(r.Pe,i.Pe):r instanceof ed&&i instanceof ed}(t.transform,e.transform)}class OD{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Od{}function AI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new PI(t.key,di.none()):new Zu(t.key,t.data,di.none());{const n=t.data,r=qn.empty();let i=new hn(un.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Hs(t.key,r,new sr(i.toArray()),di.none())}}function LD(t,e,n){t instanceof Zu?function(i,s,o){const l=i.value.clone(),c=a0(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Hs?function(i,s,o){if(!ph(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=a0(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(CI(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ou(t,e,n,r){return t instanceof Zu?function(s,o,l,c){if(!ph(s.precondition,o))return l;const h=s.value.clone(),m=l0(s.fieldTransforms,c,o);return h.setAll(m),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Hs?function(s,o,l,c){if(!ph(s.precondition,o))return l;const h=l0(s.fieldTransforms,c,o),m=o.data;return m.setAll(CI(s)),m.setAll(h),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,l){return ph(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function MD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=EI(r.transform,i||null);s!=null&&(n===null&&(n=qn.empty()),n.set(r.field,s))}return n||null}function o0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ka(r,i,(s,o)=>DD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zu extends Od{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hs extends Od{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function CI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a0(t,e,n){const r=new Map;wt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,ND(o,l,n[i]))}return r}function l0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,xD(s,o,e))}return r}class PI extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&LD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=AI(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,(n,r)=>o0(n,r))&&Ka(this.baseMutations,e.baseMutations,(n,r)=>o0(n,r))}}class Dg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){wt(e.mutations.length===r.length);let i=function(){return CD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Dg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Ge;function zD(t){switch(t){default:return Pe();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function RI(t){if(t===void 0)return zi("GRPC error has no .code"),J.UNKNOWN;switch(t){case zt.OK:return J.OK;case zt.CANCELLED:return J.CANCELLED;case zt.UNKNOWN:return J.UNKNOWN;case zt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case zt.INTERNAL:return J.INTERNAL;case zt.UNAVAILABLE:return J.UNAVAILABLE;case zt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case zt.NOT_FOUND:return J.NOT_FOUND;case zt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case zt.ABORTED:return J.ABORTED;case zt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case zt.DATA_LOSS:return J.DATA_LOSS;default:return Pe()}}(Ge=zt||(zt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Co([4294967295,4294967295],0);function u0(t){const e=BD().encode(t),n=new YT;return n.update(e),new Uint8Array(n.digest())}function c0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Co([n,r],0),new Co([i,s],0)]}class Og{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Co.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Co.fromNumber(r)));return i.compare($D)===1&&(i=new Co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=u0(e),[r,i]=c0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Og(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=u0(e),[r,i]=c0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ld(be.min(),i,new bt(it),Bi(),He())}}class ec{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ec(r,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class kI{constructor(e,n){this.targetId=e,this.me=n}}class bI{constructor(e,n,r=Rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class h0{constructor(){this.fe=0,this.ge=f0(),this.pe=Rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=He(),n=He(),r=He();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pe()}}),new ec(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=f0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,wt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class HD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Bi(),this.qe=d0(),this.Qe=new bt(it)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Zp(s))if(r===0){const o=new _e(s.path);this.Ue(n,o,An.newNoDocument(o,be.min()))}else wt(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=jo(r).toUint8Array()}catch(c){if(c instanceof oI)return qa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Og(o,i,s)}catch(c){return qa(c instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Zp(l.target)){const c=new _e(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,An.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=He();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.Je(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Ld(e,n,this.Qe,this.ke,r);return this.ke=Bi(),this.qe=d0(),this.Qe=new bt(it),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new h0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new hn(it),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new h0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function d0(){return new bt(_e.comparator)}function f0(){return new bt(_e.comparator)}const WD={asc:"ASCENDING",desc:"DESCENDING"},qD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KD={and:"AND",or:"OR"};class GD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tm(t,e){return t.useProto3Json||kd(e)?e:{value:e}}function nd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QD(t,e){return nd(t,e.toTimestamp())}function fi(t){return wt(!!t),be.fromTimestamp(function(n){const r=Ls(n);return new Zt(r.seconds,r.nanos)}(t))}function Lg(t,e){return nm(t,e).canonicalString()}function nm(t,e){const n=function(i){return new Ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NI(t){const e=Ot.fromString(t);return wt(VI(e)),e}function rm(t,e){return Lg(t.databaseId,e.path)}function zf(t,e){const n=NI(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(OI(n))}function DI(t,e){return Lg(t.databaseId,e)}function YD(t){const e=NI(t);return e.length===4?Ot.emptyPath():OI(e)}function im(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OI(t){return wt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function p0(t,e,n){return{name:rm(t,e),fields:n.value.mapValue.fields}}function XD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(wt(m===void 0||typeof m=="string"),Rn.fromBase64String(m||"")):(wt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Rn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const m=h.code===void 0?J.UNKNOWN:RI(h.code);return new ve(m,h.message||"")}(o);n=new bI(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zf(t,r.document.name),s=fi(r.document.updateTime),o=r.document.createTime?fi(r.document.createTime):be.min(),l=new qn({mapValue:{fields:r.document.fields}}),c=An.newFoundDocument(i,s,o,l),h=r.targetIds||[],m=r.removedTargetIds||[];n=new mh(h,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zf(t,r.document),s=r.readTime?fi(r.readTime):be.min(),o=An.newNoDocument(i,s),l=r.removedTargetIds||[];n=new mh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zf(t,r.document),s=r.removedTargetIds||[];n=new mh([],s,i,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new UD(i,s),l=r.targetId;n=new kI(l,o)}}return n}function JD(t,e){let n;if(e instanceof Zu)n={update:p0(t,e.key,e.value)};else if(e instanceof PI)n={delete:rm(t,e.key)};else if(e instanceof Hs)n={update:p0(t,e.key,e.data),updateMask:aO(e.fieldMask)};else{if(!(e instanceof VD))return Pe();n={verify:rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof ed)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ou)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Lu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof td)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:QD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Pe()}(t,e.precondition)),n}function ZD(t,e){return t&&t.length>0?(wt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fi(i.updateTime):fi(s);return o.isEqual(be.min())&&(o=fi(s)),new OD(o,i.transformResults||[])}(n,e))):[]}function eO(t,e){return{documents:[DI(t,e.path)]}}function tO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DI(t,i);const s=function(h){if(h.length!==0)return MI(mi.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(m=>function(v){return{field:da(v.field),direction:iO(v.dir)}}(m))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=tm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function nO(t){let e=YD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wt(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(g){const v=LI(g);return v instanceof mi&&cI(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(v=>function(x){return new Zh(fa(x.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(v))}(n.orderBy));let l=null;n.limit&&(l=function(g){let v;return v=typeof g=="object"?g.value:g,kd(v)?null:v}(n.limit));let c=null;n.startAt&&(c=function(g){const v=!!g.before,k=g.values||[];return new Jh(k,v)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const v=!g.before,k=g.values||[];return new Jh(k,v)}(n.endAt)),wD(e,i,o,s,l,"F",c,h)}function rO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fa(n.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fa(n.unaryFilter.field);return Xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fa(n.unaryFilter.field);return Xt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fa(n.unaryFilter.field);return Xt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return Xt.create(fa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(r=>LI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function iO(t){return WD[t]}function sO(t){return qD[t]}function oO(t){return KD[t]}function da(t){return{fieldPath:t.canonicalString()}}function fa(t){return un.fromServerFormat(t.fieldPath)}function MI(t){return t instanceof Xt?function(n){if(n.op==="=="){if(e0(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NAN"}};if(Z_(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e0(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NAN"}};if(Z_(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(n.field),op:sO(n.op),value:n.value}}}(t):t instanceof mi?function(n){const r=n.getFilters().map(i=>MI(i));return r.length===1?r[0]:{compositeFilter:{op:oO(n.op),filters:r}}}(t):Pe()}function aO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r,i,s=be.min(),o=be.min(),l=Rn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.ct=e}}function uO(t){const e=nO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this._n=new hO}addToCollectionParentIndex(e,n){return this._n.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Os.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class hO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hn(Ot.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ya(0)}static Ln(){return new Ya(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.changes=new ol(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ou(r.mutation,i,sr.empty(),Zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,He()).next(()=>r))}getLocalViewOfDocuments(e,n,r=He()){const i=Io();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wl();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Io();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,He()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Bi();const o=su(),l=function(){return su()}();return n.forEach((c,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Hs)?s=s.insert(h.key,h):m!==void 0?(o.set(h.key,m.mutation.getFieldMask()),ou(m.mutation,h,m.mutation.getFieldMask(),Zt.now())):o.set(h.key,sr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,m)=>o.set(h,m)),n.forEach((h,m)=>{var g;return l.set(h,new fO(m,(g=o.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=su();let i=new bt((o,l)=>o-l),s=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let m=r.get(c)||sr.empty();m=l.applyToLocalView(h,m),r.set(c,m);const g=(i.get(l.batchId)||He()).add(c);i=i.insert(l.batchId,g)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,m=c.value,g=vI();m.forEach(v=>{if(!s.has(v)){const k=AI(n.get(v),r.get(v));k!==null&&g.set(v,k),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return X.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ED(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):X.resolve(Io());let l=-1,c=s;return o.next(h=>X.forEach(h,(m,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(m)?X.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{c=c.insert(m,v)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,He())).next(m=>({batchId:l,changes:yI(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Wl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wl();return this.indexManager.getCollectionParents(e,s).next(l=>X.forEach(l,c=>{const h=function(g,v){return new bd(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,h)=>{const m=h.getKey();o.get(m)===null&&(o=o.insert(m,An.newInvalidDocument(m)))});let l=Wl();return o.forEach((c,h)=>{const m=s.get(c);m!==void 0&&ou(m.mutation,h,sr.empty(),Zt.now()),Nd(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return X.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fi(i.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:uO(i.bundledQuery),readTime:fi(i.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.overlays=new bt(_e.comparator),this.hr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Io();return X.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=Io(),s=n.length+1,o=new _e(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new bt((h,m)=>h-m);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=Io(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const l=Io(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,m)=>l.set(h,m)),!(l.size()>=i)););return X.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jD(n,r));let s=this.hr.get(n);s===void 0&&(s=He(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this.Pr=new hn(tn.Ir),this.Tr=new hn(tn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new tn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new _e(new Ot([])),r=new tn(n,e),i=new tn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new _e(new Ot([])),r=new tn(n,e),i=new tn(n,e+1);let s=He();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return _e.comparator(e.key,n.key)||it(e.pr,n.pr)}static Er(e,n){return it(e.pr,n.pr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new hn(tn.Ir)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FD(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new tn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,n){return X.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),i=new tn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hn(it);return n.forEach(i=>{const s=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),X.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new tn(new _e(s),0);let l=new hn(it);return this.wr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.pr)),!0)},o),X.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){wt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return X.forEach(n.mutations,i=>{const s=new tn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new tn(n,0),i=this.wr.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.vr=e,this.docs=function(){return new bt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let r=Bi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():An.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Bi();const o=n.path,l=new _e(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:m}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||nD(tD(m),r)<=0||(i.has(m.key)||Nd(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Pe()}Fr(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _O(this)}getSize(e){return X.resolve(this.size)}}class _O extends dO{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.persistence=e,this.Mr=new ol(n=>bg(n),xg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Mg,this.targetCount=0,this.Lr=Ya.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),X.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.qn(n),X.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),X.waitFor(s).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),X.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n){this.Br={},this.overlays={},this.kr=new Cg(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new wO(this),this.indexManager=new cO,this.remoteDocumentCache=function(i){return new vO(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new lO(n),this.$r=new mO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new yO(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new TO(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return X.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class TO extends iD{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.zr=new Mg,this.jr=null}static Hr(e){return new Vg(e)}get Jr(){if(this.jr)return this.jr;throw Pe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),X.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Jr,r=>{const i=_e.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,be.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return X.or([()=>X.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=He(),i=He();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Fg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return hk()?8:sD(fn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new IO;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ml()<=qe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),X.resolve()):(Ml()<=qe.DEBUG&&he("QueryEngine","Query:",ha(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ml()<=qe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):X.resolve())}ji(e,n){if(i0(n))return X.resolve(null);let r=hi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=em(n,null,"F"),r=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=He(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Zi(n,l);return this.Xi(n,h,o,c.readTime)?this.ji(e,em(n,null,"F")):this.es(e,h,n,c)}))})))}Hi(e,n,r,i){return i0(n)||i.isEqual(be.min())?X.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?X.resolve(null):(Ml()<=qe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ha(n)),this.es(e,o,n,eD(i,-1)).next(l=>l))})}Zi(e,n){let r=new hn(mI(e));return n.forEach((i,s)=>{Nd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ml()<=qe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ha(n)),this.zi.getDocumentsMatchingQuery(e,n,Os.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new bt(it),this.rs=new ol(s=>bg(s),xg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function CO(t,e,n,r){return new AO(t,e,n,r)}async function FI(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=He();for(const h of i){o.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}for(const h of s){l.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next(h=>({us:h,removedBatchIds:o,addedBatchIds:l}))})})}function PO(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,h,m){const g=h.batch,v=g.keys();let k=X.resolve();return v.forEach(x=>{k=k.next(()=>m.getEntry(c,x)).next(O=>{const M=h.docVersions.get(x);wt(M!==null),O.version.compareTo(M)<0&&(g.applyToRemoteDocument(O,h),O.isValidDocument()&&(O.setReadTime(h.commitVersion),m.addEntry(O)))})}),k.next(()=>l.mutationQueue.removeMutationBatch(c,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=He();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function jI(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function RO(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((m,g)=>{const v=i.get(g);if(!v)return;l.push(n.Qr.removeMatchingKeys(s,m.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(s,m.addedDocuments,g)));let k=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?k=k.withResumeToken(Rn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):m.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(m.resumeToken,r)),i=i.insert(g,k),function(O,M,A){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(v,k,m)&&l.push(n.Qr.updateTargetData(s,k))});let c=Bi(),h=He();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),l.push(kO(s,o,e.documentUpdates).next(m=>{c=m.cs,h=m.ls})),!r.isEqual(be.min())){const m=n.Qr.getLastRemoteSnapshotVersion(s).next(g=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(m)}return X.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.ns=i,s))}function kO(t,e,n){let r=He(),i=He();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Bi();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(be.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):he("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{cs:o,ls:i}})}function bO(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xO(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,X.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new vs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function sm(t,e,n){const r=xe(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ju(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function m0(t,e,n){const r=xe(t);let i=be.min(),s=He();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,m){const g=xe(c),v=g.rs.get(m);return v!==void 0?X.resolve(g.ns.get(v)):g.Qr.getTargetData(h,m)}(r,o,hi(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:be.min(),n?s:He())).next(l=>(NO(r,ID(e),l),{documents:l,hs:s})))}function NO(t,e,n){let r=t.ss.get(e)||be.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class g0{constructor(){this.activeTargetIds=kD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DO{constructor(){this.no=new g0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new g0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=null;function Bf(){return Gc===null?Gc=function(){return 268435456+Math.round(2147483648*Math.random())}():Gc++,"0x"+Gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class VO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const l=Bf(),c=this.vo(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(h,s,o),this.Mo(n,c,h,i).then(m=>(he("RestConnection",`Received RPC '${n}' ${l}: `,m),m),m=>{throw qa("RestConnection",`RPC '${n}' ${l} failed with error: `,m,"url: ",c,"request:",i),m})}xo(n,r,i,s,o,l){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=LO[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Bf();return new Promise((o,l)=>{const c=new XT;c.setWithCredentials(!0),c.listenOnce(ZT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case dh.NO_ERROR:const m=c.getResponseJson();he(Tn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case dh.TIMEOUT:he(Tn,`RPC '${e}' ${s} timed out`),l(new ve(J.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const g=c.getStatus();if(he(Tn,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const k=v==null?void 0:v.error;if(k&&k.status&&k.message){const x=function(M){const A=M.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(A)>=0?A:J.UNKNOWN}(k.status);l(new ve(x,k.message))}else l(new ve(J.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ve(J.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{he(Tn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);he(Tn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Oo(e,n,r){const i=Bf(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nI(),l=tI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.xmlHttpFactory=new JT({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=s.join("");he(Tn,`Creating RPC '${e}' stream ${i}: ${m}`,c);const g=o.createWebChannel(m,c);let v=!1,k=!1;const x=new MO({lo:M=>{k?he(Tn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(v||(he(Tn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),he(Tn,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},ho:()=>g.close()}),O=(M,A,T)=>{M.listen(A,C=>{try{T(C)}catch($){setTimeout(()=>{throw $},0)}})};return O(g,Hl.EventType.OPEN,()=>{k||(he(Tn,`RPC '${e}' stream ${i} transport opened.`),x.mo())}),O(g,Hl.EventType.CLOSE,()=>{k||(k=!0,he(Tn,`RPC '${e}' stream ${i} transport closed`),x.po())}),O(g,Hl.EventType.ERROR,M=>{k||(k=!0,qa(Tn,`RPC '${e}' stream ${i} transport errored:`,M),x.po(new ve(J.UNAVAILABLE,"The operation could not be completed")))}),O(g,Hl.EventType.MESSAGE,M=>{var A;if(!k){const T=M.data[0];wt(!!T);const C=T,$=C.error||((A=C[0])===null||A===void 0?void 0:A.error);if($){he(Tn,`RPC '${e}' stream ${i} received error:`,$);const Y=$.status;let D=function(I){const R=zt[I];if(R!==void 0)return RI(R)}(Y),S=$.message;D===void 0&&(D=J.INTERNAL,S="Unknown error status: "+Y+" with message "+$.message),k=!0,x.po(new ve(D,S)),g.close()}else he(Tn,`RPC '${e}' stream ${i} received:`,T),x.yo(T)}}),O(l,eI.STAT_EVENT,M=>{M.stat===Qp.PROXY?he(Tn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Qp.NOPROXY&&he(Tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.fo()},0),x}}function $f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){return new GD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r,i,s,o,l,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new UI(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(zi(n.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ve(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FO extends zI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=XD(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?fi(o.readTime):be.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=im(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Zp(c)?{documents:eO(s,c)}:{query:tO(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=xI(s,o.resumeToken);const h=tm(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(be.min())>0){l.readTime=nd(s,o.snapshotVersion.toTimestamp());const h=tm(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=rO(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=im(this.serializer),n.removeTarget=e,this.i_(n)}}class jO extends zI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=ZD(e.writeResults,e.commitTime),r=fi(e.commitTime);return this.listener.A_(r,n)}return wt(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=im(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JD(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ve(J.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,nm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(J.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,nm(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(J.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class zO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(zi(n),this.y_=!1):he("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Ko(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=xe(c);h.M_.add(4),await tc(h),h.N_.set("Unknown"),h.M_.delete(4),await Vd(h)}(this))})}),this.N_=new zO(r,i)}}async function Vd(t){if(Ko(t))for(const e of t.x_)await e(!0)}async function tc(t){for(const e of t.x_)await e(!1)}function BI(t,e){const n=xe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Bg(n)?zg(n):al(n).Xo()&&Ug(n,e))}function jg(t,e){const n=xe(t),r=al(n);n.F_.delete(e),r.Xo()&&$I(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ko(n)&&n.N_.set("Unknown"))}function Ug(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(t).P_(e)}function $I(t,e){t.L_.xe(e),al(t).I_(e)}function zg(t){t.L_=new HD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),al(t).start(),t.N_.w_()}function Bg(t){return Ko(t)&&!al(t).Zo()&&t.F_.size>0}function Ko(t){return xe(t).M_.size===0}function HI(t){t.L_=void 0}async function $O(t){t.N_.set("Online")}async function HO(t){t.F_.forEach((e,n)=>{Ug(t,e)})}async function WO(t,e){HI(t),Bg(t)?(t.N_.D_(e),zg(t)):t.N_.set("Unknown")}async function qO(t,e,n){if(t.N_.set("Online"),e instanceof bI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rd(t,r)}else if(e instanceof mh?t.L_.Ke(e):e instanceof kI?t.L_.He(e):t.L_.We(e),!n.isEqual(be.min()))try{const r=await jI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const m=s.F_.get(h);m&&s.F_.set(h,m.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const m=s.F_.get(c);if(!m)return;s.F_.set(c,m.withResumeToken(Rn.EMPTY_BYTE_STRING,m.snapshotVersion)),$I(s,c);const g=new vs(m.target,c,h,m.sequenceNumber);Ug(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await rd(t,r)}}async function rd(t,e,n){if(!Ju(e))throw e;t.M_.add(1),await tc(t),t.N_.set("Offline"),n||(n=()=>jI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Vd(t)})}function WI(t,e){return e().catch(n=>rd(t,n,e))}async function Fd(t){const e=xe(t),n=Ms(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;KO(e);)try{const i=await bO(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,GO(e,i)}catch(i){await rd(e,i)}qI(e)&&KI(e)}function KO(t){return Ko(t)&&t.v_.length<10}function GO(t,e){t.v_.push(e);const n=Ms(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function qI(t){return Ko(t)&&!Ms(t).Zo()&&t.v_.length>0}function KI(t){Ms(t).start()}async function QO(t){Ms(t).V_()}async function YO(t){const e=Ms(t);for(const n of t.v_)e.d_(n.mutations)}async function XO(t,e,n){const r=t.v_.shift(),i=Dg.from(r,e,n);await WI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fd(t)}async function JO(t,e){e&&Ms(t).E_&&await async function(r,i){if(function(o){return zD(o)&&o!==J.ABORTED}(i.code)){const s=r.v_.shift();Ms(r).t_(),await WI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Fd(r)}}(t,e),qI(t)&&KI(t)}async function v0(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Ko(n);n.M_.add(3),await tc(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Vd(n)}async function ZO(t,e){const n=xe(t);e?(n.M_.delete(2),await Vd(n)):e||(n.M_.add(2),await tc(n),n.N_.set("Unknown"))}function al(t){return t.B_||(t.B_=function(n,r,i){const s=xe(n);return s.f_(),new FO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:$O.bind(null,t),To:HO.bind(null,t),Ao:WO.bind(null,t),h_:qO.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Bg(t)?zg(t):t.N_.set("Unknown")):(await t.B_.stop(),HI(t))})),t.B_}function Ms(t){return t.k_||(t.k_=function(n,r,i){const s=xe(n);return s.f_(),new jO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:QO.bind(null,t),Ao:JO.bind(null,t),R_:YO.bind(null,t),A_:XO.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Fd(t)):(await t.k_.stop(),t.v_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new $g(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(t,e){if(zi("AsyncQueue",`${e}: ${t}`),Ju(t))return new ve(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Wl(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new Ma(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ma;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.q_=new bt(_e.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Pe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xa{constructor(e,n,r,i,s,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Xa(e,n,Ma.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class tL{constructor(){this.queries=new ol(e=>pI(e),xd),this.onlineState="Unknown",this.z_=new Set}}async function nL(t,e){const n=xe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new eL,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Hg(o,`Initialization of query '${ha(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Wg(n)}async function rL(t,e){const n=xe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iL(t,e){const n=xe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&Wg(n)}function sL(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Wg(t){t.z_.forEach(e=>{e.next()})}var om,w0;(w0=om||(om={})).J_="default",w0.Cache="cache";class oL{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.key=e}}class QI{constructor(e){this.key=e}}class aL{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=He(),this.mutatedKeys=He(),this.Ia=mI(e),this.Ta=new Ma(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new _0,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const v=i.get(m),k=Nd(this.query,g)?g:null,x=!!v&&this.mutatedKeys.has(v.key),O=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let M=!1;v&&k?v.data.isEqual(k.data)?x!==O&&(r.track({type:3,doc:k}),M=!0):this.Ra(v,k)||(r.track({type:2,doc:k}),M=!0,(c&&this.Ia(k,c)>0||h&&this.Ia(k,h)<0)&&(l=!0)):!v&&k?(r.track({type:0,doc:k}),M=!0):v&&!k&&(r.track({type:1,doc:v}),M=!0,(c||h)&&(l=!0)),M&&(k?(o=o.add(k),s=O?s.add(m):s.delete(m)):(o=o.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((m,g)=>function(k,x){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return O(k)-O(x)}(m.type,g.type)||this.Ia(m.doc,g.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,h=c!==this.ha;return this.ha=c,o.length!==0||h?{snapshot:new Xa(this.query,e.Ta,s,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new _0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=He(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new QI(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new GI(r))}),n}pa(e){this.la=e.hs,this.Pa=He();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Xa.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class lL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uL{constructor(e){this.key=e,this.wa=!1}}class cL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ol(l=>pI(l),xd),this.Da=new Map,this.Ca=new Set,this.va=new bt(_e.comparator),this.Fa=new Map,this.Ma=new Mg,this.xa={},this.Oa=new Map,this.Na=Ya.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function hL(t,e,n=!0){const r=t1(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await YI(r,e,n,!0),i}async function dL(t,e){const n=t1(t);await YI(n,e,!0,!1)}async function YI(t,e,n,r){const i=await xO(t.localStore,hi(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await fL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&BI(t.remoteStore,i),l}async function fL(t,e,n,r,i){t.Ba=(g,v,k)=>async function(O,M,A,T){let C=M.view.da(A);C.Xi&&(C=await m0(O.localStore,M.query,!1).then(({documents:S})=>M.view.da(S,C)));const $=T&&T.targetChanges.get(M.targetId),Y=T&&T.targetMismatches.get(M.targetId)!=null,D=M.view.applyChanges(C,O.isPrimaryClient,$,Y);return T0(O,M.targetId,D.fa),D.snapshot}(t,g,v,k);const s=await m0(t.localStore,e,!0),o=new aL(e,s.hs),l=o.da(s.documents),c=ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,c);T0(t,n,h.fa);const m=new lL(e,n,o);return t.ba.set(e,m),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function pL(t,e,n){const r=xe(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!xd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&jg(r.remoteStore,i.targetId),am(r,i.targetId)}).catch(Xu)):(am(r,i.targetId),await sm(r.localStore,i.targetId,!0))}async function mL(t,e){const n=xe(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jg(n.remoteStore,r.targetId))}async function gL(t,e,n){const r=IL(t);try{const i=await function(o,l){const c=xe(o),h=Zt.now(),m=l.reduce((k,x)=>k.add(x.key),He());let g,v;return c.persistence.runTransaction("Locally write mutations","readwrite",k=>{let x=Bi(),O=He();return c.os.getEntries(k,m).next(M=>{x=M,x.forEach((A,T)=>{T.isValidDocument()||(O=O.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(k,x)).next(M=>{g=M;const A=[];for(const T of l){const C=MD(T,g.get(T.key).overlayedDocument);C!=null&&A.push(new Hs(T.key,C,aI(C.value.mapValue),di.exists(!0)))}return c.mutationQueue.addMutationBatch(k,h,A,l)}).next(M=>{v=M;const A=M.applyToLocalDocumentSet(g,O);return c.documentOverlayCache.saveOverlays(k,M.batchId,A)})}).then(()=>({batchId:v.batchId,changes:yI(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.xa[o.currentUser.toKey()];h||(h=new bt(it)),h=h.insert(l,c),o.xa[o.currentUser.toKey()]=h}(r,i.batchId,n),await nc(r,i.changes),await Fd(r.remoteStore)}catch(i){const s=Hg(i,"Failed to persist write");n.reject(s)}}async function XI(t,e){const n=xe(t);try{const r=await RO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?wt(o.wa):i.removedDocuments.size>0&&(wt(o.wa),o.wa=!1))}),await nc(n,r,e)}catch(r){await Xu(r)}}function E0(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=xe(o);c.onlineState=l;let h=!1;c.queries.forEach((m,g)=>{for(const v of g.U_)v.j_(l)&&(h=!0)}),h&&Wg(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yL(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new bt(_e.comparator);o=o.insert(s,An.newNoDocument(s,be.min()));const l=He().add(s),c=new Ld(be.min(),new Map,new bt(it),o,l);await XI(r,c),r.va=r.va.remove(s),r.Fa.delete(e),qg(r)}else await sm(r.localStore,e,!1).then(()=>am(r,e,n)).catch(Xu)}async function vL(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await PO(n.localStore,e);ZI(n,r,null),JI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nc(n,i)}catch(i){await Xu(i)}}async function _L(t,e,n){const r=xe(t);try{const i=await function(o,l){const c=xe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return c.mutationQueue.lookupMutationBatch(h,l).next(g=>(wt(g!==null),m=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,m,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>c.localDocuments.getDocuments(h,m))})}(r.localStore,e);ZI(r,e,n),JI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nc(r,i)}catch(i){await Xu(i)}}function JI(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function ZI(t,e,n){const r=xe(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function am(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||e1(t,r)})}function e1(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(jg(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),qg(t))}function T0(t,e,n){for(const r of n)r instanceof GI?(t.Ma.addReference(r.key,e),wL(t,r)):r instanceof QI?(he("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||e1(t,r.key)):Pe()}function wL(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(he("SyncEngine","New document in limbo: "+n),t.Ca.add(r),qg(t))}function qg(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new _e(Ot.fromString(e)),r=t.Na.next();t.Fa.set(r,new uL(n)),t.va=t.va.insert(n,r),BI(t.remoteStore,new vs(hi(Ng(n.path)),r,"TargetPurposeLimboResolution",Cg.oe))}}async function nc(t,e,n){const r=xe(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,c)=>{o.push(r.Ba(c,e,n).then(h=>{var m;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(c.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){i.push(h);const g=Fg.Ki(c.targetId,h);s.push(g)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(c,h){const m=xe(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>X.forEach(h,v=>X.forEach(v.qi,k=>m.persistence.referenceDelegate.addReference(g,v.targetId,k)).next(()=>X.forEach(v.Qi,k=>m.persistence.referenceDelegate.removeReference(g,v.targetId,k)))))}catch(g){if(!Ju(g))throw g;he("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const k=m.ns.get(v),x=k.snapshotVersion,O=k.withLastLimboFreeSnapshotVersion(x);m.ns=m.ns.insert(v,O)}}}(r.localStore,s))}async function EL(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await FI(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(l=>{l.forEach(c=>{c.reject(new ve(J.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nc(n,r.us)}}function TL(t,e){const n=xe(t),r=n.Fa.get(e);if(r&&r.wa)return He().add(r.key);{let i=He();const s=n.Da.get(e);if(!s)return i;for(const o of s){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function t1(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yL.bind(null,e),e.Sa.h_=iL.bind(null,e.eventManager),e.Sa.ka=sL.bind(null,e.eventManager),e}function IL(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_L.bind(null,e),e}class I0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return CO(this.persistence,new SO,e.initialUser,this.serializer)}createPersistence(e){return new EO(Vg.Hr,this.serializer)}createSharedClientState(e){return new DO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class SL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EL.bind(null,this.syncEngine),await ZO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tL}()}createDatastore(e){const n=Md(e.databaseInfo.databaseId),r=function(s){return new VO(s)}(e.databaseInfo);return function(s,o,l,c){return new UO(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new BO(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>E0(this.syncEngine,n,0),function(){return y0.D()?new y0:new OO}())}createSyncEngine(e,n){return function(i,s,o,l,c,h,m){const g=new cL(i,s,o,l,c,h);return m&&(g.La=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=xe(r);he("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await tc(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=In.UNAUTHENTICATED,this.clientId=iI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{he("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(he("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ve(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hf(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function S0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RL(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>v0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>v0(e.remoteStore,i)),t._onlineComponents=e}function PL(t){return t.name==="FirebaseError"?t.code===J.FAILED_PRECONDITION||t.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function RL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!PL(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await Hf(t,new I0)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Hf(t,new I0);return t._offlineComponents}async function n1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await S0(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await S0(t,new SL))),t._onlineComponents}function kL(t){return n1(t).then(e=>e.syncEngine)}async function bL(t){const e=await n1(t),n=e.eventManager;return n.onListen=hL.bind(null,e.syncEngine),n.onUnlisten=pL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mL.bind(null,e.syncEngine),n}function xL(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const m=new AL({next:v=>{o.enqueueAndForget(()=>rL(s,g));const k=v.docs.has(l);!k&&v.fromCache?h.reject(new ve(J.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&v.fromCache&&c&&c.source==="server"?h.reject(new ve(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new oL(Ng(l.path),m,{includeMetadataChanges:!0,ra:!0});return nL(s,g)}(await bL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e,n){if(!n)throw new ve(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DL(t,e,n,r){if(e===!0&&r===!0)throw new ve(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C0(t){if(!_e.isDocumentKey(t))throw new ve(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function zo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kg(t);throw new ve(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ve(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ve(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WN;switch(r.type){case"firstParty":return new QN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=A0.get(n);r&&(he("ComponentProvider","Removing Datastore"),A0.delete(n),r.terminate())}(this),Promise.resolve()}}function OL(t,e,n,r={}){var i;const s=(t=zo(t,Gg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=In.MOCK_USER;else{l=sk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ve(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new In(h)}t._authCredentials=new qN(new rI(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qg(this.firestore,e,this._query)}}class ar{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class Mu extends Qg{constructor(e,n,r){super(e,n,Ng(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new _e(e))}withConverter(e){return new Mu(this.firestore,e,this._path)}}function Vu(t,e,...n){if(t=Pn(t),arguments.length===1&&(e=iI.newId()),NL("doc","path",e),t instanceof Gg){const r=Ot.fromString(e,...n);return C0(r),new ar(t,null,new _e(r))}{if(!(t instanceof ar||t instanceof Mu))throw new ve(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return C0(r),new ar(t.firestore,t instanceof Mu?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new UI(this,"async_queue_retry"),this.hu=()=>{const n=$f();n&&he("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=$f();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=$f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new xs;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ju(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw zi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=$g.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Pe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class jd extends Gg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new LL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||s1(this),this._firestoreClient.terminate()}}function ML(t,e){const n=typeof t=="object"?t:mT(),r=typeof t=="string"?t:"(default)",i=fg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=rk("firestore");s&&OL(i,...s)}return i}function i1(t){return t._firestoreClient||s1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function s1(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,h,m){return new lD(l,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,r1(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new CL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(Rn.fromBase64String(e))}catch(n){throw new ve(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ja(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=/^__.*__$/;class FL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(e,this.data,n,this.fieldTransforms)}}class o1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function a1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class Jg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Jg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return id(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(a1(this.fu)&&VL.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class jL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Md(e)}Fu(e,n,r,i=!1){return new Jg({fu:e,methodName:n,vu:r,path:un.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l1(t){const e=t._freezeSettings(),n=Md(t._databaseId);return new jL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UL(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Zg("Data must be an object, but it was:",o,r);const l=u1(r,o);let c,h;if(s.merge)c=new sr(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const v=lm(e,g,n);if(!o.contains(v))throw new ve(J.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);h1(m,v)||m.push(v)}c=new sr(m),h=o.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,h=o.fieldTransforms;return new FL(new qn(l),c,h)}class zd extends Yg{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zd}}function zL(t,e,n,r){const i=t.Fu(1,e,n);Zg("Data must be an object, but it was:",i,r);const s=[],o=qn.empty();qo(r,(c,h)=>{const m=ey(e,c,n);h=Pn(h);const g=i.Su(m);if(h instanceof zd)s.push(m);else{const v=Bd(h,g);v!=null&&(s.push(m),o.set(m,v))}});const l=new sr(s);return new o1(o,l,i.fieldTransforms)}function BL(t,e,n,r,i,s){const o=t.Fu(1,e,n),l=[lm(e,r,n)],c=[i];if(s.length%2!=0)throw new ve(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)l.push(lm(e,s[v])),c.push(s[v+1]);const h=[],m=qn.empty();for(let v=l.length-1;v>=0;--v)if(!h1(h,l[v])){const k=l[v];let x=c[v];x=Pn(x);const O=o.Su(k);if(x instanceof zd)h.push(k);else{const M=Bd(x,O);M!=null&&(h.push(k),m.set(k,M))}}const g=new sr(h);return new o1(m,g,o.fieldTransforms)}function Bd(t,e){if(c1(t=Pn(t)))return Zg("Unsupported field value:",e,t),u1(t,e);if(t instanceof Yg)return function(r,i){if(!a1(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Bd(l,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Zt.fromDate(r);return{timestampValue:nd(i.serializer,s)}}if(r instanceof Zt){const s=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nd(i.serializer,s)}}if(r instanceof Xg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ja)return{bytesValue:xI(i.serializer,r._byteString)};if(r instanceof ar){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Lg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Kg(r)}`)}(t,e)}function u1(t,e){const n={};return sI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(t,(r,i)=>{const s=Bd(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function c1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof Xg||t instanceof Ja||t instanceof ar||t instanceof Yg)}function Zg(t,e,n){if(!c1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Kg(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function lm(t,e,n){if((e=Pn(e))instanceof Ud)return e._internalPath;if(typeof e=="string")return ey(t,e);throw id("Field path arguments must be of type string or ",t,!1,void 0,n)}const $L=new RegExp("[~\\*/\\[\\]]");function ey(t,e,n){if(e.search($L)>=0)throw id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ud(...e.split("."))._internalPath}catch{throw id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function id(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ve(J.INVALID_ARGUMENT,l+t+c)}function h1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(f1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HL extends d1{data(){return super.data()}}function f1(t,e){return typeof e=="string"?ey(t,e):e instanceof Ud?e._internalPath:e._delegate._internalPath}class WL{convertValue(e,n="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Xg($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);wt(VI(r));const i=new Nu(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||zi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class p1 extends d1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new GL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(f1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class GL extends p1{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t){t=zo(t,ar);const e=zo(t.firestore,jd);return xL(i1(e),t._key).then(n=>XL(e,t,n))}class QL extends WL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,n)}}function g1(t,e,n){t=zo(t,ar);const r=zo(t.firestore,jd),i=qL(t.converter,e);return y1(r,[UL(l1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,di.none())])}function YL(t,e,n,...r){t=zo(t,ar);const i=zo(t.firestore,jd),s=l1(i);let o;return o=typeof(e=Pn(e))=="string"||e instanceof Ud?BL(s,"updateDoc",t._key,e,n,r):zL(s,"updateDoc",t._key,e),y1(i,[o.toMutation(t._key,di.exists(!0))])}function y1(t,e){return function(r,i){const s=new xs;return r.asyncQueue.enqueueAndForget(async()=>gL(await kL(r),i,s)),s.promise}(i1(t),e)}function XL(t,e,n){const r=n.docs.get(e._key),i=new QL(t);return new p1(t,i,e._key,r,new KL(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){sl=i})(rl),Wa(new Oo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new jd(new KN(r.getProvider("auth-internal")),new XN(r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ve(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(h.options.projectId,m)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),bs(Q_,"4.6.4",e),bs(Q_,"4.6.4","esm2017")})();const JL={apiKey:"AIzaSyASHWiI1RPKv6Ukle96SyuXZhYD6BAetEY",authDomain:"motivational-quotes-generator.firebaseapp.com",projectId:"motivational-quotes-generator",storageBucket:"motivational-quotes-generator.appspot.com",messagingSenderId:"432837845186",appId:"1:432837845186:web:f4cd46b036758d996b1b5b",measurementId:"G-DPVSJFM27L"},v1=pT(JL),_s=zN(v1),Fu=ML(v1),gh=({onClose:t,type:e,message:n})=>L.jsxs("div",{className:`alert alert-${e} alert-dismissible fade show`,role:"alert",children:[n,L.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:t})]}),ZL=({onclick:t})=>L.jsx("button",{type:"button",className:"btn btn-secondary m-3",onClick:t,children:"Logout"}),eM=({type:t,message:e,onClick:n})=>L.jsx("button",{type:"button",className:`btn btn-${t}`,onClick:n,children:e}),tM=({show:t,onHide:e,guestFavorites:n,onAddToPrivateList:r})=>t?L.jsx("div",{className:"modal",tabIndex:-1,style:{display:"block"},children:L.jsx("div",{className:"modal-dialog modal-dialog-scrollable modal-lg",children:L.jsxs("div",{className:"modal-content",children:[L.jsxs("div",{className:"modal-header",children:[L.jsx("h5",{className:"modal-title",children:"Add Guest Favorites to Your List"}),L.jsx("button",{type:"button",className:"btn-close",onClick:e,"aria-label":"Close"})]}),L.jsxs("div",{className:"modal-body",children:[L.jsx("p",{children:"You have some favorite quotes from your guest session. Would you like to add them to your private list?"}),L.jsx("div",{className:"row row-cols-1 row-cols-md-2 g-4",children:n.map((i,s)=>L.jsx("div",{className:"col",children:L.jsxs("div",{className:"card",children:[L.jsx("div",{className:"card-body text-center",children:i.quote}),L.jsxs("div",{className:"card-body fw-bold text-center",style:{marginTop:"-25px"},children:["- ",i.author]})]})},s))})]}),L.jsxs("div",{className:"modal-footer",children:[L.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"No, Don't Add"}),L.jsx("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Yes, Add to My List"})]})]})})}):null,nM="https://api.quotable.io/quotes/random?tags=motivational|change|character|competition|courage|creativity|education|ethics|faith|family|famous-quotes|friendship|future|generosity|gratitude|happiness|health|honor|inspirational|leadership|life|love|opportunity|perseverance|power-quotes|self|self-help|success|time|tolerance|wellness|wisdom|work";function rM(){const[t,e]=G.useState(!1),[n,r]=G.useState(""),[i,s]=G.useState(!1),[o,l]=G.useState(-1),[c,h]=G.useState(""),[m,g]=G.useState(""),[v,k]=G.useState(!1),[x,O]=G.useState(!1),[M,A]=G.useState([]),[T,C]=G.useState([]),[$,Y]=G.useState(""),[D,S]=G.useState([]),[E,I]=G.useState(""),[R,b]=G.useState(!1),[j,P]=G.useState([]),[Be,Vt]=G.useState(!1),[pn,$e]=G.useState(!1);G.useEffect(()=>{console.log("App component mounted");const Ve=Rx(_s,async pe=>{if(console.log("Auth state changed. User:",pe==null?void 0:pe.uid),pe){const De=await m1(Vu(Fu,"users",pe.uid));if(De.exists()){const et=De.data();r(et.username),e(!0),s(!0),console.log("User logged in:",et.username),et.favoriteQuotes&&(S(et.favoriteQuotes),A(et.favoriteQuotes.map(pt=>pt.quote)),C(et.favoriteQuotes.map(pt=>pt.author)))}}else{console.log("User logged out or not logged in"),r(""),s(!1);const De=localStorage.getItem("guestFavorites");if(console.log("Stored guest favorites:",De),De){const et=JSON.parse(De);S(et),A(et.map(pt=>pt.quote)),C(et.map(pt=>pt.author))}else S([]),A([]),C([]);b(!1)}});return $e(!0),re(),()=>Ve()},[]);const re=G.useCallback(()=>{const Ve=localStorage.getItem("guestFavorites");if(console.log("Checking guest favorites. Stored:",Ve),Ve&&i){const pe=JSON.parse(Ve);pe.length>0&&(P(pe),b(!0),console.log("Guest favorites modal should show"))}},[i]);G.useEffect(()=>{pn&&i&&re()},[pn,i,re]),G.useEffect(()=>{(async()=>{if(i&&_s.currentUser){const pe=Vu(Fu,"users",_s.currentUser.uid);await YL(pe,{favoriteQuotes:D})}else localStorage.setItem("guestFavorites",JSON.stringify(D))})()},[D,i]);const me=async()=>{k(!0),I(""),O(!1);const Ve=4e3,pe=new Promise((De,et)=>setTimeout(()=>et(new Error("Request timed out")),Ve));try{const De=fetch(nM),et=await Promise.race([De,pe]);if(!(et instanceof Response))throw new Error("Fetch failed");if(!et.ok)throw new Error(`HTTP error! status: ${et.status}`);const pt=await et.json();if(!Array.isArray(pt)||pt.length===0)throw new Error("Invalid response format");const Ft=pt[0].content,Wi=pt[0].author;if(typeof Ft!="string"||typeof Wi!="string")throw new Error("Invalid quote data");h(Ft),g(Wi)}catch(De){console.error("Error fetching data:",De),I("Cannot generate quote. Please check or change your network.")}finally{k(!1)}};G.useEffect(()=>{o>=0&&!Be&&me()},[o,Be]);const B=()=>{Vt(!1),l(o+1)},Le=()=>{const Ve={quote:c,author:m};S([...D,Ve]),A([...M,c]),C([...T,m]),O(!0)},Me=()=>{const Ve=D.findIndex(pe=>pe.quote===c&&pe.author===m);Ve!==-1&&(S(D.filter((pe,De)=>De!==Ve)),A(M.filter((pe,De)=>De!==Ve)),C(T.filter((pe,De)=>De!==Ve))),O(!1)},Qe=()=>{x?Me():Le()},Je=async()=>{try{await kx(_s),e(!1),Y("Logged out successfully. You are now a guest."),s(!1),l(-1)}catch(Ve){console.error("Error signing out: ",Ve)}},Et=Ve=>{const pe=M.indexOf(Ve);if(pe!==-1){const De=[...D];De.splice(pe,1),S(De);const et=[...M],pt=[...T];et.splice(pe,1),pt.splice(pe,1),A(et),C(pt)}pe===M.length-1&&O(!1)},Ze=()=>{Vt(!0),sn(),l(o+1)},sn=()=>{const Ve=de();h(Ve),g("Claude AI"),O(!1)},de=()=>{const Ve=["success","perseverance","innovation","leadership","growth","creativity","resilience","courage","wisdom","change"],pe=Ve[Math.floor(Math.random()*Ve.length)],De=[`The key to ${pe} is not waiting for the perfect moment, but making every moment count.`,`${pe.charAt(0).toUpperCase()+pe.slice(1)} is not about being the best, it's about being better than you were yesterday.`,`In the journey of ${pe}, it's not about the destination, but the transformation along the way.`,`True ${pe} comes from embracing challenges as opportunities for growth.`,`The greatest catalyst for ${pe} is the belief in your own potential.`,`${pe.charAt(0).toUpperCase()+pe.slice(1)} is not born from comfort, but from pushing beyond your limits.`,`The path to ${pe} is paved with persistence, passion, and an unwavering vision.`,`In the realm of ${pe}, your biggest competitor is the person you were yesterday.`,`${pe.charAt(0).toUpperCase()+pe.slice(1)} is not about avoiding failure, but learning to dance with uncertainty.`,`The seeds of ${pe} are planted in the soil of curiosity and watered with determination.`];return De[Math.floor(Math.random()*De.length)]},Qr=()=>{S([...D,...j]),A([...M,...j.map(Ve=>Ve.quote)]),C([...T,...j.map(Ve=>Ve.author)]),localStorage.removeItem("guestFavorites"),b(!1),P([])},kr=()=>{localStorage.removeItem("guestFavorites"),b(!1),P([])};return L.jsxs(L.Fragment,{children:[E&&L.jsx(gh,{type:"danger",message:E,onClose:()=>I("")}),t&&L.jsx(gh,{type:"success",message:L.jsxs(L.Fragment,{children:["You are signing in as ",L.jsx("strong",{children:n})]}),onClose:()=>e(!1)}),$&&L.jsx(gh,{type:"success",message:$,onClose:()=>Y("")}),L.jsxs("div",{className:"text-center",children:[L.jsx(uP,{children:"Motivational Quotes Generator"}),L.jsx(cP,{children:"Made by: Suppleo"}),v?L.jsx(pP,{children:"Generating..."}):L.jsx(hP,{onClick:B}),L.jsx(KR,{children:"Favorite Quotes"}),L.jsx(eM,{type:"dark",onClick:Ze,message:"AI-Generated Quote"}),i?L.jsx(ZL,{onclick:Je}):L.jsx(QR,{})]}),L.jsx("div",{className:"text-center",children:o>=0&&L.jsx(GR,{liked:x,onClick:Qe})}),L.jsx("div",{className:"text-center",children:o>=0&&L.jsxs("div",{children:[L.jsx(dP,{children:c}),L.jsx(fP,{children:m})]})}),L.jsx(qR,{quotes:M,authors:T,onRemoveButtonClick:Ve=>Et(Ve),isLoggedIn:i}),L.jsx(tM,{show:R&&i,onHide:kr,guestFavorites:j,onAddToPrivateList:Qr})]})}var iM={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(OS,function(){const n=new Map,r={set(y,u,f){n.has(y)||n.set(y,new Map);const _=n.get(y);_.has(u)||_.size===0?_.set(u,f):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(_.keys())[0]}.`)},get:(y,u)=>n.has(y)&&n.get(y).get(u)||null,remove(y,u){if(!n.has(y))return;const f=n.get(y);f.delete(u),f.size===0&&n.delete(y)}},i="transitionend",s=y=>(y&&window.CSS&&window.CSS.escape&&(y=y.replace(/#([^\s"#']+)/g,(u,f)=>`#${CSS.escape(f)}`)),y),o=y=>{y.dispatchEvent(new Event(i))},l=y=>!(!y||typeof y!="object")&&(y.jquery!==void 0&&(y=y[0]),y.nodeType!==void 0),c=y=>l(y)?y.jquery?y[0]:y:typeof y=="string"&&y.length>0?document.querySelector(s(y)):null,h=y=>{if(!l(y)||y.getClientRects().length===0)return!1;const u=getComputedStyle(y).getPropertyValue("visibility")==="visible",f=y.closest("details:not([open])");if(!f)return u;if(f!==y){const _=y.closest("summary");if(_&&_.parentNode!==f||_===null)return!1}return u},m=y=>!y||y.nodeType!==Node.ELEMENT_NODE||!!y.classList.contains("disabled")||(y.disabled!==void 0?y.disabled:y.hasAttribute("disabled")&&y.getAttribute("disabled")!=="false"),g=y=>{if(!document.documentElement.attachShadow)return null;if(typeof y.getRootNode=="function"){const u=y.getRootNode();return u instanceof ShadowRoot?u:null}return y instanceof ShadowRoot?y:y.parentNode?g(y.parentNode):null},v=()=>{},k=y=>{y.offsetHeight},x=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,O=[],M=()=>document.documentElement.dir==="rtl",A=y=>{var u;u=()=>{const f=x();if(f){const _=y.NAME,V=f.fn[_];f.fn[_]=y.jQueryInterface,f.fn[_].Constructor=y,f.fn[_].noConflict=()=>(f.fn[_]=V,y.jQueryInterface)}},document.readyState==="loading"?(O.length||document.addEventListener("DOMContentLoaded",()=>{for(const f of O)f()}),O.push(u)):u()},T=(y,u=[],f=y)=>typeof y=="function"?y(...u):f,C=(y,u,f=!0)=>{if(!f)return void T(y);const _=(q=>{if(!q)return 0;let{transitionDuration:Q,transitionDelay:ne}=window.getComputedStyle(q);const ae=Number.parseFloat(Q),ue=Number.parseFloat(ne);return ae||ue?(Q=Q.split(",")[0],ne=ne.split(",")[0],1e3*(Number.parseFloat(Q)+Number.parseFloat(ne))):0})(u)+5;let V=!1;const U=({target:q})=>{q===u&&(V=!0,u.removeEventListener(i,U),T(y))};u.addEventListener(i,U),setTimeout(()=>{V||o(u)},_)},$=(y,u,f,_)=>{const V=y.length;let U=y.indexOf(u);return U===-1?!f&&_?y[V-1]:y[0]:(U+=f?1:-1,_&&(U=(U+V)%V),y[Math.max(0,Math.min(U,V-1))])},Y=/[^.]*(?=\..*)\.|.*/,D=/\..*/,S=/::\d+$/,E={};let I=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},b=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function j(y,u){return u&&`${u}::${I++}`||y.uidEvent||I++}function P(y){const u=j(y);return y.uidEvent=u,E[u]=E[u]||{},E[u]}function Be(y,u,f=null){return Object.values(y).find(_=>_.callable===u&&_.delegationSelector===f)}function Vt(y,u,f){const _=typeof u=="string",V=_?f:u||f;let U=me(y);return b.has(U)||(U=y),[_,V,U]}function pn(y,u,f,_,V){if(typeof u!="string"||!y)return;let[U,q,Q]=Vt(u,f,_);u in R&&(q=(Re=>function(Ce){if(!Ce.relatedTarget||Ce.relatedTarget!==Ce.delegateTarget&&!Ce.delegateTarget.contains(Ce.relatedTarget))return Re.call(this,Ce)})(q));const ne=P(y),ae=ne[Q]||(ne[Q]={}),ue=Be(ae,q,U?f:null);if(ue)return void(ue.oneOff=ue.oneOff&&V);const oe=j(q,u.replace(Y,"")),Ne=U?function(we,Re,Ce){return function ke(dt){const yt=we.querySelectorAll(Re);for(let{target:je}=dt;je&&je!==this;je=je.parentNode)for(const rt of yt)if(rt===je)return Le(dt,{delegateTarget:je}),ke.oneOff&&B.off(we,dt.type,Re,Ce),Ce.apply(je,[dt])}}(y,f,q):function(we,Re){return function Ce(ke){return Le(ke,{delegateTarget:we}),Ce.oneOff&&B.off(we,ke.type,Re),Re.apply(we,[ke])}}(y,q);Ne.delegationSelector=U?f:null,Ne.callable=q,Ne.oneOff=V,Ne.uidEvent=oe,ae[oe]=Ne,y.addEventListener(Q,Ne,U)}function $e(y,u,f,_,V){const U=Be(u[f],_,V);U&&(y.removeEventListener(f,U,!!V),delete u[f][U.uidEvent])}function re(y,u,f,_){const V=u[f]||{};for(const[U,q]of Object.entries(V))U.includes(_)&&$e(y,u,f,q.callable,q.delegationSelector)}function me(y){return y=y.replace(D,""),R[y]||y}const B={on(y,u,f,_){pn(y,u,f,_,!1)},one(y,u,f,_){pn(y,u,f,_,!0)},off(y,u,f,_){if(typeof u!="string"||!y)return;const[V,U,q]=Vt(u,f,_),Q=q!==u,ne=P(y),ae=ne[q]||{},ue=u.startsWith(".");if(U===void 0){if(ue)for(const oe of Object.keys(ne))re(y,ne,oe,u.slice(1));for(const[oe,Ne]of Object.entries(ae)){const we=oe.replace(S,"");Q&&!u.includes(we)||$e(y,ne,q,Ne.callable,Ne.delegationSelector)}}else{if(!Object.keys(ae).length)return;$e(y,ne,q,U,V?f:null)}},trigger(y,u,f){if(typeof u!="string"||!y)return null;const _=x();let V=null,U=!0,q=!0,Q=!1;u!==me(u)&&_&&(V=_.Event(u,f),_(y).trigger(V),U=!V.isPropagationStopped(),q=!V.isImmediatePropagationStopped(),Q=V.isDefaultPrevented());const ne=Le(new Event(u,{bubbles:U,cancelable:!0}),f);return Q&&ne.preventDefault(),q&&y.dispatchEvent(ne),ne.defaultPrevented&&V&&V.preventDefault(),ne}};function Le(y,u={}){for(const[f,_]of Object.entries(u))try{y[f]=_}catch{Object.defineProperty(y,f,{configurable:!0,get:()=>_})}return y}function Me(y){if(y==="true")return!0;if(y==="false")return!1;if(y===Number(y).toString())return Number(y);if(y===""||y==="null")return null;if(typeof y!="string")return y;try{return JSON.parse(decodeURIComponent(y))}catch{return y}}function Qe(y){return y.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Je={setDataAttribute(y,u,f){y.setAttribute(`data-bs-${Qe(u)}`,f)},removeDataAttribute(y,u){y.removeAttribute(`data-bs-${Qe(u)}`)},getDataAttributes(y){if(!y)return{};const u={},f=Object.keys(y.dataset).filter(_=>_.startsWith("bs")&&!_.startsWith("bsConfig"));for(const _ of f){let V=_.replace(/^bs/,"");V=V.charAt(0).toLowerCase()+V.slice(1,V.length),u[V]=Me(y.dataset[_])}return u},getDataAttribute:(y,u)=>Me(y.getAttribute(`data-bs-${Qe(u)}`))};class Et{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,f){const _=l(f)?Je.getDataAttribute(f,"config"):{};return{...this.constructor.Default,...typeof _=="object"?_:{},...l(f)?Je.getDataAttributes(f):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,f=this.constructor.DefaultType){for(const[V,U]of Object.entries(f)){const q=u[V],Q=l(q)?"element":(_=q)==null?`${_}`:Object.prototype.toString.call(_).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(U).test(Q))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${V}" provided type "${Q}" but expected type "${U}".`)}var _}}class Ze extends Et{constructor(u,f){super(),(u=c(u))&&(this._element=u,this._config=this._getConfig(f),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),B.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,f,_=!0){C(u,f,_)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return r.get(c(u),this.DATA_KEY)}static getOrCreateInstance(u,f={}){return this.getInstance(u)||new this(u,typeof f=="object"?f:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const sn=y=>{let u=y.getAttribute("data-bs-target");if(!u||u==="#"){let f=y.getAttribute("href");if(!f||!f.includes("#")&&!f.startsWith("."))return null;f.includes("#")&&!f.startsWith("#")&&(f=`#${f.split("#")[1]}`),u=f&&f!=="#"?f.trim():null}return u?u.split(",").map(f=>s(f)).join(","):null},de={find:(y,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,y)),findOne:(y,u=document.documentElement)=>Element.prototype.querySelector.call(u,y),children:(y,u)=>[].concat(...y.children).filter(f=>f.matches(u)),parents(y,u){const f=[];let _=y.parentNode.closest(u);for(;_;)f.push(_),_=_.parentNode.closest(u);return f},prev(y,u){let f=y.previousElementSibling;for(;f;){if(f.matches(u))return[f];f=f.previousElementSibling}return[]},next(y,u){let f=y.nextElementSibling;for(;f;){if(f.matches(u))return[f];f=f.nextElementSibling}return[]},focusableChildren(y){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(f=>`${f}:not([tabindex^="-"])`).join(",");return this.find(u,y).filter(f=>!m(f)&&h(f))},getSelectorFromElement(y){const u=sn(y);return u&&de.findOne(u)?u:null},getElementFromSelector(y){const u=sn(y);return u?de.findOne(u):null},getMultipleElementsFromSelector(y){const u=sn(y);return u?de.find(u):[]}},Qr=(y,u="hide")=>{const f=`click.dismiss${y.EVENT_KEY}`,_=y.NAME;B.on(document,f,`[data-bs-dismiss="${_}"]`,function(V){if(["A","AREA"].includes(this.tagName)&&V.preventDefault(),m(this))return;const U=de.getElementFromSelector(this)||this.closest(`.${_}`);y.getOrCreateInstance(U)[u]()})},kr=".bs.alert",Ve=`close${kr}`,pe=`closed${kr}`;class De extends Ze{static get NAME(){return"alert"}close(){if(B.trigger(this._element,Ve).defaultPrevented)return;this._element.classList.remove("show");const u=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,u)}_destroyElement(){this._element.remove(),B.trigger(this._element,pe),this.dispose()}static jQueryInterface(u){return this.each(function(){const f=De.getOrCreateInstance(this);if(typeof u=="string"){if(f[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);f[u](this)}})}}Qr(De,"close"),A(De);const et='[data-bs-toggle="button"]';class pt extends Ze{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const f=pt.getOrCreateInstance(this);u==="toggle"&&f[u]()})}}B.on(document,"click.bs.button.data-api",et,y=>{y.preventDefault();const u=y.target.closest(et);pt.getOrCreateInstance(u).toggle()}),A(pt);const Ft=".bs.swipe",Wi=`touchstart${Ft}`,ll=`touchmove${Ft}`,Ws=`touchend${Ft}`,qs=`pointerdown${Ft}`,Go=`pointerup${Ft}`,ul={endCallback:null,leftCallback:null,rightCallback:null},Ks={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Un extends Et{constructor(u,f){super(),this._element=u,u&&Un.isSupported()&&(this._config=this._getConfig(f),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ul}static get DefaultType(){return Ks}static get NAME(){return"swipe"}dispose(){B.off(this._element,Ft)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),T(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const f=u/this._deltaX;this._deltaX=0,f&&T(f>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(B.on(this._element,qs,u=>this._start(u)),B.on(this._element,Go,u=>this._end(u)),this._element.classList.add("pointer-event")):(B.on(this._element,Wi,u=>this._start(u)),B.on(this._element,ll,u=>this._move(u)),B.on(this._element,Ws,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType==="pen"||u.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const on=".bs.carousel",xt=".data-api",Tt="next",jt="prev",Wt="left",Yr="right",qi=`slide${on}`,br=`slid${on}`,Xn=`keydown${on}`,Gs=`mouseenter${on}`,Ki=`mouseleave${on}`,Qo=`dragstart${on}`,cl=`load${on}${xt}`,Gi=`click${on}${xt}`,Xr="carousel",Jr="active",hr=".active",xr=".carousel-item",gi=hr+xr,Nr={ArrowLeft:Yr,ArrowRight:Wt},Qs={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Qi={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class dr extends Ze{constructor(u,f){super(u,f),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=de.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Xr&&this.cycle()}static get Default(){return Qs}static get DefaultType(){return Qi}static get NAME(){return"carousel"}next(){this._slide(Tt)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(jt)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?B.one(this._element,br,()=>this.cycle()):this.cycle())}to(u){const f=this._getItems();if(u>f.length-1||u<0)return;if(this._isSliding)return void B.one(this._element,br,()=>this.to(u));const _=this._getItemIndex(this._getActive());if(_===u)return;const V=u>_?Tt:jt;this._slide(V,f[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&B.on(this._element,Xn,u=>this._keydown(u)),this._config.pause==="hover"&&(B.on(this._element,Gs,()=>this.pause()),B.on(this._element,Ki,()=>this._maybeEnableCycle())),this._config.touch&&Un.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const f of de.find(".carousel-item img",this._element))B.on(f,Qo,_=>_.preventDefault());const u={leftCallback:()=>this._slide(this._directionToOrder(Wt)),rightCallback:()=>this._slide(this._directionToOrder(Yr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Un(this._element,u)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const f=Nr[u.key];f&&(u.preventDefault(),this._slide(this._directionToOrder(f)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const f=de.findOne(hr,this._indicatorsElement);f.classList.remove(Jr),f.removeAttribute("aria-current");const _=de.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);_&&(_.classList.add(Jr),_.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const f=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=f||this._config.defaultInterval}_slide(u,f=null){if(this._isSliding)return;const _=this._getActive(),V=u===Tt,U=f||$(this._getItems(),_,V,this._config.wrap);if(U===_)return;const q=this._getItemIndex(U),Q=oe=>B.trigger(this._element,oe,{relatedTarget:U,direction:this._orderToDirection(u),from:this._getItemIndex(_),to:q});if(Q(qi).defaultPrevented||!_||!U)return;const ne=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(q),this._activeElement=U;const ae=V?"carousel-item-start":"carousel-item-end",ue=V?"carousel-item-next":"carousel-item-prev";U.classList.add(ue),k(U),_.classList.add(ae),U.classList.add(ae),this._queueCallback(()=>{U.classList.remove(ae,ue),U.classList.add(Jr),_.classList.remove(Jr,ue,ae),this._isSliding=!1,Q(br)},_,this._isAnimated()),ne&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return de.findOne(gi,this._element)}_getItems(){return de.find(xr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return M()?u===Wt?jt:Tt:u===Wt?Tt:jt}_orderToDirection(u){return M()?u===jt?Wt:Yr:u===jt?Yr:Wt}static jQueryInterface(u){return this.each(function(){const f=dr.getOrCreateInstance(this,u);if(typeof u!="number"){if(typeof u=="string"){if(f[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);f[u]()}}else f.to(u)})}}B.on(document,Gi,"[data-bs-slide], [data-bs-slide-to]",function(y){const u=de.getElementFromSelector(this);if(!u||!u.classList.contains(Xr))return;y.preventDefault();const f=dr.getOrCreateInstance(u),_=this.getAttribute("data-bs-slide-to");return _?(f.to(_),void f._maybeEnableCycle()):Je.getDataAttribute(this,"slide")==="next"?(f.next(),void f._maybeEnableCycle()):(f.prev(),void f._maybeEnableCycle())}),B.on(window,cl,()=>{const y=de.find('[data-bs-ride="carousel"]');for(const u of y)dr.getOrCreateInstance(u)}),A(dr);const kn=".bs.collapse",yi=`show${kn}`,qt=`shown${kn}`,Yo=`hide${kn}`,N=`hidden${kn}`,F=`click${kn}.data-api`,H="show",K="collapse",ie="collapsing",fe=`:scope .${K} .${K}`,ge='[data-bs-toggle="collapse"]',ee={parent:null,toggle:!0},Te={parent:"(null|element)",toggle:"boolean"};class ce extends Ze{constructor(u,f){super(u,f),this._isTransitioning=!1,this._triggerArray=[];const _=de.find(ge);for(const V of _){const U=de.getSelectorFromElement(V),q=de.find(U).filter(Q=>Q===this._element);U!==null&&q.length&&this._triggerArray.push(V)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ee}static get DefaultType(){return Te}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(V=>V!==this._element).map(V=>ce.getOrCreateInstance(V,{toggle:!1}))),u.length&&u[0]._isTransitioning||B.trigger(this._element,yi).defaultPrevented)return;for(const V of u)V.hide();const f=this._getDimension();this._element.classList.remove(K),this._element.classList.add(ie),this._element.style[f]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const _=`scroll${f[0].toUpperCase()+f.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ie),this._element.classList.add(K,H),this._element.style[f]="",B.trigger(this._element,qt)},this._element,!0),this._element.style[f]=`${this._element[_]}px`}hide(){if(this._isTransitioning||!this._isShown()||B.trigger(this._element,Yo).defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,k(this._element),this._element.classList.add(ie),this._element.classList.remove(K,H);for(const f of this._triggerArray){const _=de.getElementFromSelector(f);_&&!this._isShown(_)&&this._addAriaAndCollapsedClass([f],!1)}this._isTransitioning=!0,this._element.style[u]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ie),this._element.classList.add(K),B.trigger(this._element,N)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(H)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=c(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(ge);for(const f of u){const _=de.getElementFromSelector(f);_&&this._addAriaAndCollapsedClass([f],this._isShown(_))}}_getFirstLevelChildren(u){const f=de.find(fe,this._config.parent);return de.find(u,this._config.parent).filter(_=>!f.includes(_))}_addAriaAndCollapsedClass(u,f){if(u.length)for(const _ of u)_.classList.toggle("collapsed",!f),_.setAttribute("aria-expanded",f)}static jQueryInterface(u){const f={};return typeof u=="string"&&/show|hide/.test(u)&&(f.toggle=!1),this.each(function(){const _=ce.getOrCreateInstance(this,f);if(typeof u=="string"){if(_[u]===void 0)throw new TypeError(`No method named "${u}"`);_[u]()}})}}B.on(document,F,ge,function(y){(y.target.tagName==="A"||y.delegateTarget&&y.delegateTarget.tagName==="A")&&y.preventDefault();for(const u of de.getMultipleElementsFromSelector(this))ce.getOrCreateInstance(u,{toggle:!1}).toggle()}),A(ce);var se="top",ye="bottom",Ie="right",Se="left",Fe="auto",ut=[se,ye,Ie,Se],tt="start",bn="end",Jn="clippingParents",xn="viewport",mn="popper",Zn="reference",Ut=ut.reduce(function(y,u){return y.concat([u+"-"+tt,u+"-"+bn])},[]),gn=[].concat(ut,[Fe]).reduce(function(y,u){return y.concat([u,u+"-"+tt,u+"-"+bn])},[]),Dr="beforeRead",vi="read",Ae="afterRead",ct="beforeMain",Kt="main",nt="afterMain",yn="beforeWrite",Yi="write",Ys="afterWrite",rc=[Dr,vi,Ae,ct,Kt,nt,yn,Yi,Ys];function fr(y){return y?(y.nodeName||"").toLowerCase():null}function vn(y){if(y==null)return window;if(y.toString()!=="[object Window]"){var u=y.ownerDocument;return u&&u.defaultView||window}return y}function Zr(y){return y instanceof vn(y).Element||y instanceof Element}function zn(y){return y instanceof vn(y).HTMLElement||y instanceof HTMLElement}function Or(y){return typeof ShadowRoot<"u"&&(y instanceof vn(y).ShadowRoot||y instanceof ShadowRoot)}const er={name:"applyStyles",enabled:!0,phase:"write",fn:function(y){var u=y.state;Object.keys(u.elements).forEach(function(f){var _=u.styles[f]||{},V=u.attributes[f]||{},U=u.elements[f];zn(U)&&fr(U)&&(Object.assign(U.style,_),Object.keys(V).forEach(function(q){var Q=V[q];Q===!1?U.removeAttribute(q):U.setAttribute(q,Q===!0?"":Q)}))})},effect:function(y){var u=y.state,f={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,f.popper),u.styles=f,u.elements.arrow&&Object.assign(u.elements.arrow.style,f.arrow),function(){Object.keys(u.elements).forEach(function(_){var V=u.elements[_],U=u.attributes[_]||{},q=Object.keys(u.styles.hasOwnProperty(_)?u.styles[_]:f[_]).reduce(function(Q,ne){return Q[ne]="",Q},{});zn(V)&&fr(V)&&(Object.assign(V.style,q),Object.keys(U).forEach(function(Q){V.removeAttribute(Q)}))})}},requires:["computeStyles"]};function Nn(y){return y.split("-")[0]}var pr=Math.max,Xs=Math.min,Xe=Math.round;function Xi(){var y=navigator.userAgentData;return y!=null&&y.brands&&Array.isArray(y.brands)?y.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function Ji(){return!/^((?!chrome|android).)*safari/i.test(Xi())}function mr(y,u,f){u===void 0&&(u=!1),f===void 0&&(f=!1);var _=y.getBoundingClientRect(),V=1,U=1;u&&zn(y)&&(V=y.offsetWidth>0&&Xe(_.width)/y.offsetWidth||1,U=y.offsetHeight>0&&Xe(_.height)/y.offsetHeight||1);var q=(Zr(y)?vn(y):window).visualViewport,Q=!Ji()&&f,ne=(_.left+(Q&&q?q.offsetLeft:0))/V,ae=(_.top+(Q&&q?q.offsetTop:0))/U,ue=_.width/V,oe=_.height/U;return{width:ue,height:oe,top:ae,right:ne+ue,bottom:ae+oe,left:ne,x:ne,y:ae}}function hl(y){var u=mr(y),f=y.offsetWidth,_=y.offsetHeight;return Math.abs(u.width-f)<=1&&(f=u.width),Math.abs(u.height-_)<=1&&(_=u.height),{x:y.offsetLeft,y:y.offsetTop,width:f,height:_}}function dl(y,u){var f=u.getRootNode&&u.getRootNode();if(y.contains(u))return!0;if(f&&Or(f)){var _=u;do{if(_&&y.isSameNode(_))return!0;_=_.parentNode||_.host}while(_)}return!1}function Lr(y){return vn(y).getComputedStyle(y)}function $d(y){return["table","td","th"].indexOf(fr(y))>=0}function ei(y){return((Zr(y)?y.ownerDocument:y.document)||window.document).documentElement}function Xo(y){return fr(y)==="html"?y:y.assignedSlot||y.parentNode||(Or(y)?y.host:null)||ei(y)}function Zi(y){return zn(y)&&Lr(y).position!=="fixed"?y.offsetParent:null}function Bn(y){for(var u=vn(y),f=Zi(y);f&&$d(f)&&Lr(f).position==="static";)f=Zi(f);return f&&(fr(f)==="html"||fr(f)==="body"&&Lr(f).position==="static")?u:f||function(_){var V=/firefox/i.test(Xi());if(/Trident/i.test(Xi())&&zn(_)&&Lr(_).position==="fixed")return null;var U=Xo(_);for(Or(U)&&(U=U.host);zn(U)&&["html","body"].indexOf(fr(U))<0;){var q=Lr(U);if(q.transform!=="none"||q.perspective!=="none"||q.contain==="paint"||["transform","perspective"].indexOf(q.willChange)!==-1||V&&q.willChange==="filter"||V&&q.filter&&q.filter!=="none")return U;U=U.parentNode}return null}(y)||u}function Jo(y){return["top","bottom"].indexOf(y)>=0?"x":"y"}function es(y,u,f){return pr(y,Xs(u,f))}function fl(y){return Object.assign({},{top:0,right:0,bottom:0,left:0},y)}function _i(y,u){return u.reduce(function(f,_){return f[_]=y,f},{})}const ic={name:"arrow",enabled:!0,phase:"main",fn:function(y){var u,f=y.state,_=y.name,V=y.options,U=f.elements.arrow,q=f.modifiersData.popperOffsets,Q=Nn(f.placement),ne=Jo(Q),ae=[Se,Ie].indexOf(Q)>=0?"height":"width";if(U&&q){var ue=function(ft,at){return fl(typeof(ft=typeof ft=="function"?ft(Object.assign({},at.rects,{placement:at.placement})):ft)!="number"?ft:_i(ft,ut))}(V.padding,f),oe=hl(U),Ne=ne==="y"?se:Se,we=ne==="y"?ye:Ie,Re=f.rects.reference[ae]+f.rects.reference[ne]-q[ne]-f.rects.popper[ae],Ce=q[ne]-f.rects.reference[ne],ke=Bn(U),dt=ke?ne==="y"?ke.clientHeight||0:ke.clientWidth||0:0,yt=Re/2-Ce/2,je=ue[Ne],rt=dt-oe[ae]-ue[we],Oe=dt/2-oe[ae]/2+yt,We=es(je,Oe,rt),ot=ne;f.modifiersData[_]=((u={})[ot]=We,u.centerOffset=We-Oe,u)}},effect:function(y){var u=y.state,f=y.options.element,_=f===void 0?"[data-popper-arrow]":f;_!=null&&(typeof _!="string"||(_=u.elements.popper.querySelector(_)))&&dl(u.elements.popper,_)&&(u.elements.arrow=_)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ts(y){return y.split("-")[1]}var Hd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mr(y){var u,f=y.popper,_=y.popperRect,V=y.placement,U=y.variation,q=y.offsets,Q=y.position,ne=y.gpuAcceleration,ae=y.adaptive,ue=y.roundOffsets,oe=y.isFixed,Ne=q.x,we=Ne===void 0?0:Ne,Re=q.y,Ce=Re===void 0?0:Re,ke=typeof ue=="function"?ue({x:we,y:Ce}):{x:we,y:Ce};we=ke.x,Ce=ke.y;var dt=q.hasOwnProperty("x"),yt=q.hasOwnProperty("y"),je=Se,rt=se,Oe=window;if(ae){var We=Bn(f),ot="clientHeight",ft="clientWidth";We===vn(f)&&Lr(We=ei(f)).position!=="static"&&Q==="absolute"&&(ot="scrollHeight",ft="scrollWidth"),(V===se||(V===Se||V===Ie)&&U===bn)&&(rt=ye,Ce-=(oe&&We===Oe&&Oe.visualViewport?Oe.visualViewport.height:We[ot])-_.height,Ce*=ne?1:-1),V!==Se&&(V!==se&&V!==ye||U!==bn)||(je=Ie,we-=(oe&&We===Oe&&Oe.visualViewport?Oe.visualViewport.width:We[ft])-_.width,we*=ne?1:-1)}var at,Lt=Object.assign({position:Q},ae&&Hd),tr=ue===!0?function(Fr,Dn){var _r=Fr.x,wr=Fr.y,Nt=Dn.devicePixelRatio||1;return{x:Xe(_r*Nt)/Nt||0,y:Xe(wr*Nt)/Nt||0}}({x:we,y:Ce},vn(f)):{x:we,y:Ce};return we=tr.x,Ce=tr.y,ne?Object.assign({},Lt,((at={})[rt]=yt?"0":"",at[je]=dt?"0":"",at.transform=(Oe.devicePixelRatio||1)<=1?"translate("+we+"px, "+Ce+"px)":"translate3d("+we+"px, "+Ce+"px, 0)",at)):Object.assign({},Lt,((u={})[rt]=yt?Ce+"px":"",u[je]=dt?we+"px":"",u.transform="",u))}const pl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(y){var u=y.state,f=y.options,_=f.gpuAcceleration,V=_===void 0||_,U=f.adaptive,q=U===void 0||U,Q=f.roundOffsets,ne=Q===void 0||Q,ae={placement:Nn(u.placement),variation:ts(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:V,isFixed:u.options.strategy==="fixed"};u.modifiersData.popperOffsets!=null&&(u.styles.popper=Object.assign({},u.styles.popper,Mr(Object.assign({},ae,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:q,roundOffsets:ne})))),u.modifiersData.arrow!=null&&(u.styles.arrow=Object.assign({},u.styles.arrow,Mr(Object.assign({},ae,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ne})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var Zo={passive:!0};const wi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(y){var u=y.state,f=y.instance,_=y.options,V=_.scroll,U=V===void 0||V,q=_.resize,Q=q===void 0||q,ne=vn(u.elements.popper),ae=[].concat(u.scrollParents.reference,u.scrollParents.popper);return U&&ae.forEach(function(ue){ue.addEventListener("scroll",f.update,Zo)}),Q&&ne.addEventListener("resize",f.update,Zo),function(){U&&ae.forEach(function(ue){ue.removeEventListener("scroll",f.update,Zo)}),Q&&ne.removeEventListener("resize",f.update,Zo)}},data:{}};var ea={left:"right",right:"left",bottom:"top",top:"bottom"};function Js(y){return y.replace(/left|right|bottom|top/g,function(u){return ea[u]})}var Zs={start:"end",end:"start"};function ns(y){return y.replace(/start|end/g,function(u){return Zs[u]})}function ta(y){var u=vn(y);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function eo(y){return mr(ei(y)).left+ta(y).scrollLeft}function gt(y){var u=Lr(y),f=u.overflow,_=u.overflowX,V=u.overflowY;return/auto|scroll|overlay|hidden/.test(f+V+_)}function sc(y){return["html","body","#document"].indexOf(fr(y))>=0?y.ownerDocument.body:zn(y)&&gt(y)?y:sc(Xo(y))}function to(y,u){var f;u===void 0&&(u=[]);var _=sc(y),V=_===((f=y.ownerDocument)==null?void 0:f.body),U=vn(_),q=V?[U].concat(U.visualViewport||[],gt(_)?_:[]):_,Q=u.concat(q);return V?Q:Q.concat(to(Xo(q)))}function na(y){return Object.assign({},y,{left:y.x,top:y.y,right:y.x+y.width,bottom:y.y+y.height})}function ml(y,u,f){return u===xn?na(function(_,V){var U=vn(_),q=ei(_),Q=U.visualViewport,ne=q.clientWidth,ae=q.clientHeight,ue=0,oe=0;if(Q){ne=Q.width,ae=Q.height;var Ne=Ji();(Ne||!Ne&&V==="fixed")&&(ue=Q.offsetLeft,oe=Q.offsetTop)}return{width:ne,height:ae,x:ue+eo(_),y:oe}}(y,f)):Zr(u)?function(_,V){var U=mr(_,!1,V==="fixed");return U.top=U.top+_.clientTop,U.left=U.left+_.clientLeft,U.bottom=U.top+_.clientHeight,U.right=U.left+_.clientWidth,U.width=_.clientWidth,U.height=_.clientHeight,U.x=U.left,U.y=U.top,U}(u,f):na(function(_){var V,U=ei(_),q=ta(_),Q=(V=_.ownerDocument)==null?void 0:V.body,ne=pr(U.scrollWidth,U.clientWidth,Q?Q.scrollWidth:0,Q?Q.clientWidth:0),ae=pr(U.scrollHeight,U.clientHeight,Q?Q.scrollHeight:0,Q?Q.clientHeight:0),ue=-q.scrollLeft+eo(_),oe=-q.scrollTop;return Lr(Q||U).direction==="rtl"&&(ue+=pr(U.clientWidth,Q?Q.clientWidth:0)-ne),{width:ne,height:ae,x:ue,y:oe}}(ei(y)))}function gl(y){var u,f=y.reference,_=y.element,V=y.placement,U=V?Nn(V):null,q=V?ts(V):null,Q=f.x+f.width/2-_.width/2,ne=f.y+f.height/2-_.height/2;switch(U){case se:u={x:Q,y:f.y-_.height};break;case ye:u={x:Q,y:f.y+f.height};break;case Ie:u={x:f.x+f.width,y:ne};break;case Se:u={x:f.x-_.width,y:ne};break;default:u={x:f.x,y:f.y}}var ae=U?Jo(U):null;if(ae!=null){var ue=ae==="y"?"height":"width";switch(q){case tt:u[ae]=u[ae]-(f[ue]/2-_[ue]/2);break;case bn:u[ae]=u[ae]+(f[ue]/2-_[ue]/2)}}return u}function Vr(y,u){u===void 0&&(u={});var f=u,_=f.placement,V=_===void 0?y.placement:_,U=f.strategy,q=U===void 0?y.strategy:U,Q=f.boundary,ne=Q===void 0?Jn:Q,ae=f.rootBoundary,ue=ae===void 0?xn:ae,oe=f.elementContext,Ne=oe===void 0?mn:oe,we=f.altBoundary,Re=we!==void 0&&we,Ce=f.padding,ke=Ce===void 0?0:Ce,dt=fl(typeof ke!="number"?ke:_i(ke,ut)),yt=Ne===mn?Zn:mn,je=y.rects.popper,rt=y.elements[Re?yt:Ne],Oe=function(Dn,_r,wr,Nt){var ri=_r==="clippingParents"?function(mt){var On=to(Xo(mt)),Er=["absolute","fixed"].indexOf(Lr(mt).position)>=0&&zn(mt)?Bn(mt):mt;return Zr(Er)?On.filter(function(ss){return Zr(ss)&&dl(ss,Er)&&fr(ss)!=="body"}):[]}(Dn):[].concat(_r),ii=[].concat(ri,[wr]),la=ii[0],en=ii.reduce(function(mt,On){var Er=ml(Dn,On,Nt);return mt.top=pr(Er.top,mt.top),mt.right=Xs(Er.right,mt.right),mt.bottom=Xs(Er.bottom,mt.bottom),mt.left=pr(Er.left,mt.left),mt},ml(Dn,la,Nt));return en.width=en.right-en.left,en.height=en.bottom-en.top,en.x=en.left,en.y=en.top,en}(Zr(rt)?rt:rt.contextElement||ei(y.elements.popper),ne,ue,q),We=mr(y.elements.reference),ot=gl({reference:We,element:je,strategy:"absolute",placement:V}),ft=na(Object.assign({},je,ot)),at=Ne===mn?ft:We,Lt={top:Oe.top-at.top+dt.top,bottom:at.bottom-Oe.bottom+dt.bottom,left:Oe.left-at.left+dt.left,right:at.right-Oe.right+dt.right},tr=y.modifiersData.offset;if(Ne===mn&&tr){var Fr=tr[V];Object.keys(Lt).forEach(function(Dn){var _r=[Ie,ye].indexOf(Dn)>=0?1:-1,wr=[se,ye].indexOf(Dn)>=0?"y":"x";Lt[Dn]+=Fr[wr]*_r})}return Lt}function oc(y,u){u===void 0&&(u={});var f=u,_=f.placement,V=f.boundary,U=f.rootBoundary,q=f.padding,Q=f.flipVariations,ne=f.allowedAutoPlacements,ae=ne===void 0?gn:ne,ue=ts(_),oe=ue?Q?Ut:Ut.filter(function(Re){return ts(Re)===ue}):ut,Ne=oe.filter(function(Re){return ae.indexOf(Re)>=0});Ne.length===0&&(Ne=oe);var we=Ne.reduce(function(Re,Ce){return Re[Ce]=Vr(y,{placement:Ce,boundary:V,rootBoundary:U,padding:q})[Nn(Ce)],Re},{});return Object.keys(we).sort(function(Re,Ce){return we[Re]-we[Ce]})}const gr={name:"flip",enabled:!0,phase:"main",fn:function(y){var u=y.state,f=y.options,_=y.name;if(!u.modifiersData[_]._skip){for(var V=f.mainAxis,U=V===void 0||V,q=f.altAxis,Q=q===void 0||q,ne=f.fallbackPlacements,ae=f.padding,ue=f.boundary,oe=f.rootBoundary,Ne=f.altBoundary,we=f.flipVariations,Re=we===void 0||we,Ce=f.allowedAutoPlacements,ke=u.options.placement,dt=Nn(ke),yt=ne||(dt!==ke&&Re?function(mt){if(Nn(mt)===Fe)return[];var On=Js(mt);return[ns(mt),On,ns(On)]}(ke):[Js(ke)]),je=[ke].concat(yt).reduce(function(mt,On){return mt.concat(Nn(On)===Fe?oc(u,{placement:On,boundary:ue,rootBoundary:oe,padding:ae,flipVariations:Re,allowedAutoPlacements:Ce}):On)},[]),rt=u.rects.reference,Oe=u.rects.popper,We=new Map,ot=!0,ft=je[0],at=0;at<je.length;at++){var Lt=je[at],tr=Nn(Lt),Fr=ts(Lt)===tt,Dn=[se,ye].indexOf(tr)>=0,_r=Dn?"width":"height",wr=Vr(u,{placement:Lt,boundary:ue,rootBoundary:oe,altBoundary:Ne,padding:ae}),Nt=Dn?Fr?Ie:Se:Fr?ye:se;rt[_r]>Oe[_r]&&(Nt=Js(Nt));var ri=Js(Nt),ii=[];if(U&&ii.push(wr[tr]<=0),Q&&ii.push(wr[Nt]<=0,wr[ri]<=0),ii.every(function(mt){return mt})){ft=Lt,ot=!1;break}We.set(Lt,ii)}if(ot)for(var la=function(mt){var On=je.find(function(Er){var ss=We.get(Er);if(ss)return ss.slice(0,mt).every(function(Sc){return Sc})});if(On)return ft=On,"break"},en=Re?3:1;en>0&&la(en)!=="break";en--);u.placement!==ft&&(u.modifiersData[_]._skip=!0,u.placement=ft,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function yl(y,u,f){return f===void 0&&(f={x:0,y:0}),{top:y.top-u.height-f.y,right:y.right-u.width+f.x,bottom:y.bottom-u.height+f.y,left:y.left-u.width-f.x}}function ac(y){return[se,Ie,ye,Se].some(function(u){return y[u]>=0})}const rs={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(y){var u=y.state,f=y.name,_=u.rects.reference,V=u.rects.popper,U=u.modifiersData.preventOverflow,q=Vr(u,{elementContext:"reference"}),Q=Vr(u,{altBoundary:!0}),ne=yl(q,_),ae=yl(Q,V,U),ue=ac(ne),oe=ac(ae);u.modifiersData[f]={referenceClippingOffsets:ne,popperEscapeOffsets:ae,isReferenceHidden:ue,hasPopperEscaped:oe},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":ue,"data-popper-escaped":oe})}},vl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(y){var u=y.state,f=y.options,_=y.name,V=f.offset,U=V===void 0?[0,0]:V,q=gn.reduce(function(ue,oe){return ue[oe]=function(Ne,we,Re){var Ce=Nn(Ne),ke=[Se,se].indexOf(Ce)>=0?-1:1,dt=typeof Re=="function"?Re(Object.assign({},we,{placement:Ne})):Re,yt=dt[0],je=dt[1];return yt=yt||0,je=(je||0)*ke,[Se,Ie].indexOf(Ce)>=0?{x:je,y:yt}:{x:yt,y:je}}(oe,u.rects,U),ue},{}),Q=q[u.placement],ne=Q.x,ae=Q.y;u.modifiersData.popperOffsets!=null&&(u.modifiersData.popperOffsets.x+=ne,u.modifiersData.popperOffsets.y+=ae),u.modifiersData[_]=q}},no={name:"popperOffsets",enabled:!0,phase:"read",fn:function(y){var u=y.state,f=y.name;u.modifiersData[f]=gl({reference:u.rects.reference,element:u.rects.popper,strategy:"absolute",placement:u.placement})},data:{}},ro={name:"preventOverflow",enabled:!0,phase:"main",fn:function(y){var u=y.state,f=y.options,_=y.name,V=f.mainAxis,U=V===void 0||V,q=f.altAxis,Q=q!==void 0&&q,ne=f.boundary,ae=f.rootBoundary,ue=f.altBoundary,oe=f.padding,Ne=f.tether,we=Ne===void 0||Ne,Re=f.tetherOffset,Ce=Re===void 0?0:Re,ke=Vr(u,{boundary:ne,rootBoundary:ae,padding:oe,altBoundary:ue}),dt=Nn(u.placement),yt=ts(u.placement),je=!yt,rt=Jo(dt),Oe=rt==="x"?"y":"x",We=u.modifiersData.popperOffsets,ot=u.rects.reference,ft=u.rects.popper,at=typeof Ce=="function"?Ce(Object.assign({},u.rects,{placement:u.placement})):Ce,Lt=typeof at=="number"?{mainAxis:at,altAxis:at}:Object.assign({mainAxis:0,altAxis:0},at),tr=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,Fr={x:0,y:0};if(We){if(U){var Dn,_r=rt==="y"?se:Se,wr=rt==="y"?ye:Ie,Nt=rt==="y"?"height":"width",ri=We[rt],ii=ri+ke[_r],la=ri-ke[wr],en=we?-ft[Nt]/2:0,mt=yt===tt?ot[Nt]:ft[Nt],On=yt===tt?-ft[Nt]:-ot[Nt],Er=u.elements.arrow,ss=we&&Er?hl(Er):{width:0,height:0},Sc=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},by=Sc[_r],xy=Sc[wr],Ac=es(0,ot[Nt],ss[Nt]),CS=je?ot[Nt]/2-en-Ac-by-Lt.mainAxis:mt-Ac-by-Lt.mainAxis,PS=je?-ot[Nt]/2+en+Ac+xy+Lt.mainAxis:On+Ac+xy+Lt.mainAxis,tf=u.elements.arrow&&Bn(u.elements.arrow),RS=tf?rt==="y"?tf.clientTop||0:tf.clientLeft||0:0,Ny=(Dn=tr==null?void 0:tr[rt])!=null?Dn:0,kS=ri+PS-Ny,Dy=es(we?Xs(ii,ri+CS-Ny-RS):ii,ri,we?pr(la,kS):la);We[rt]=Dy,Fr[rt]=Dy-ri}if(Q){var Oy,bS=rt==="x"?se:Se,xS=rt==="x"?ye:Ie,ho=We[Oe],Cc=Oe==="y"?"height":"width",Ly=ho+ke[bS],My=ho-ke[xS],nf=[se,Se].indexOf(dt)!==-1,Vy=(Oy=tr==null?void 0:tr[Oe])!=null?Oy:0,Fy=nf?Ly:ho-ot[Cc]-ft[Cc]-Vy+Lt.altAxis,jy=nf?ho+ot[Cc]+ft[Cc]-Vy-Lt.altAxis:My,Uy=we&&nf?function(NS,DS,rf){var zy=es(NS,DS,rf);return zy>rf?rf:zy}(Fy,ho,jy):es(we?Fy:Ly,ho,we?jy:My);We[Oe]=Uy,Fr[Oe]=Uy-ho}u.modifiersData[_]=Fr}},requiresIfExists:["offset"]};function lc(y,u,f){f===void 0&&(f=!1);var _,V,U=zn(u),q=zn(u)&&function(oe){var Ne=oe.getBoundingClientRect(),we=Xe(Ne.width)/oe.offsetWidth||1,Re=Xe(Ne.height)/oe.offsetHeight||1;return we!==1||Re!==1}(u),Q=ei(u),ne=mr(y,q,f),ae={scrollLeft:0,scrollTop:0},ue={x:0,y:0};return(U||!U&&!f)&&((fr(u)!=="body"||gt(Q))&&(ae=(_=u)!==vn(_)&&zn(_)?{scrollLeft:(V=_).scrollLeft,scrollTop:V.scrollTop}:ta(_)),zn(u)?((ue=mr(u,!0)).x+=u.clientLeft,ue.y+=u.clientTop):Q&&(ue.x=eo(Q))),{x:ne.left+ae.scrollLeft-ue.x,y:ne.top+ae.scrollTop-ue.y,width:ne.width,height:ne.height}}function ra(y){var u=new Map,f=new Set,_=[];function V(U){f.add(U.name),[].concat(U.requires||[],U.requiresIfExists||[]).forEach(function(q){if(!f.has(q)){var Q=u.get(q);Q&&V(Q)}}),_.push(U)}return y.forEach(function(U){u.set(U.name,U)}),y.forEach(function(U){f.has(U.name)||V(U)}),_}var uc={placement:"bottom",modifiers:[],strategy:"absolute"};function _l(){for(var y=arguments.length,u=new Array(y),f=0;f<y;f++)u[f]=arguments[f];return!u.some(function(_){return!(_&&typeof _.getBoundingClientRect=="function")})}function ti(y){y===void 0&&(y={});var u=y,f=u.defaultModifiers,_=f===void 0?[]:f,V=u.defaultOptions,U=V===void 0?uc:V;return function(q,Q,ne){ne===void 0&&(ne=U);var ae,ue,oe={placement:"bottom",orderedModifiers:[],options:Object.assign({},uc,U),modifiersData:{},elements:{reference:q,popper:Q},attributes:{},styles:{}},Ne=[],we=!1,Re={state:oe,setOptions:function(ke){var dt=typeof ke=="function"?ke(oe.options):ke;Ce(),oe.options=Object.assign({},U,oe.options,dt),oe.scrollParents={reference:Zr(q)?to(q):q.contextElement?to(q.contextElement):[],popper:to(Q)};var yt,je,rt=function(Oe){var We=ra(Oe);return rc.reduce(function(ot,ft){return ot.concat(We.filter(function(at){return at.phase===ft}))},[])}((yt=[].concat(_,oe.options.modifiers),je=yt.reduce(function(Oe,We){var ot=Oe[We.name];return Oe[We.name]=ot?Object.assign({},ot,We,{options:Object.assign({},ot.options,We.options),data:Object.assign({},ot.data,We.data)}):We,Oe},{}),Object.keys(je).map(function(Oe){return je[Oe]})));return oe.orderedModifiers=rt.filter(function(Oe){return Oe.enabled}),oe.orderedModifiers.forEach(function(Oe){var We=Oe.name,ot=Oe.options,ft=ot===void 0?{}:ot,at=Oe.effect;if(typeof at=="function"){var Lt=at({state:oe,name:We,instance:Re,options:ft});Ne.push(Lt||function(){})}}),Re.update()},forceUpdate:function(){if(!we){var ke=oe.elements,dt=ke.reference,yt=ke.popper;if(_l(dt,yt)){oe.rects={reference:lc(dt,Bn(yt),oe.options.strategy==="fixed"),popper:hl(yt)},oe.reset=!1,oe.placement=oe.options.placement,oe.orderedModifiers.forEach(function(at){return oe.modifiersData[at.name]=Object.assign({},at.data)});for(var je=0;je<oe.orderedModifiers.length;je++)if(oe.reset!==!0){var rt=oe.orderedModifiers[je],Oe=rt.fn,We=rt.options,ot=We===void 0?{}:We,ft=rt.name;typeof Oe=="function"&&(oe=Oe({state:oe,options:ot,name:ft,instance:Re})||oe)}else oe.reset=!1,je=-1}}},update:(ae=function(){return new Promise(function(ke){Re.forceUpdate(),ke(oe)})},function(){return ue||(ue=new Promise(function(ke){Promise.resolve().then(function(){ue=void 0,ke(ae())})})),ue}),destroy:function(){Ce(),we=!0}};if(!_l(q,Q))return Re;function Ce(){Ne.forEach(function(ke){return ke()}),Ne=[]}return Re.setOptions(ne).then(function(ke){!we&&ne.onFirstUpdate&&ne.onFirstUpdate(ke)}),Re}}var cc=ti(),hc=ti({defaultModifiers:[wi,no,pl,er]}),io=ti({defaultModifiers:[wi,no,pl,er,vl,gr,ro,ic,rs]});const ia=Object.freeze(Object.defineProperty({__proto__:null,afterMain:nt,afterRead:Ae,afterWrite:Ys,applyStyles:er,arrow:ic,auto:Fe,basePlacements:ut,beforeMain:ct,beforeRead:Dr,beforeWrite:yn,bottom:ye,clippingParents:Jn,computeStyles:pl,createPopper:io,createPopperBase:cc,createPopperLite:hc,detectOverflow:Vr,end:bn,eventListeners:wi,flip:gr,hide:rs,left:Se,main:Kt,modifierPhases:rc,offset:vl,placements:gn,popper:mn,popperGenerator:ti,popperOffsets:no,preventOverflow:ro,read:vi,reference:Zn,right:Ie,start:tt,top:se,variationPlacements:Ut,viewport:xn,write:Yi},Symbol.toStringTag,{value:"Module"})),wl="dropdown",yr=".bs.dropdown",sa=".data-api",dc="ArrowUp",ni="ArrowDown",fc=`hide${yr}`,pc=`hidden${yr}`,mc=`show${yr}`,gc=`shown${yr}`,so=`click${yr}${sa}`,_n=`keydown${yr}${sa}`,yc=`keyup${yr}${sa}`,Ei="show",$n='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',a=`${$n}.${Ei}`,d=".dropdown-menu",p=M()?"top-end":"top-start",w=M()?"top-start":"top-end",z=M()?"bottom-end":"bottom-start",W=M()?"bottom-start":"bottom-end",te=M()?"left-start":"right-start",st=M()?"right-start":"left-start",Gt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ke={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ht extends Ze{constructor(u,f){super(u,f),this._popper=null,this._parent=this._element.parentNode,this._menu=de.next(this._element,d)[0]||de.prev(this._element,d)[0]||de.findOne(d,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Gt}static get DefaultType(){return Ke}static get NAME(){return wl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!B.trigger(this._element,mc,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const f of[].concat(...document.body.children))B.on(f,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ei),this._element.classList.add(Ei),B.trigger(this._element,gc,u)}}hide(){if(m(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!B.trigger(this._element,fc,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))B.off(f,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ei),this._element.classList.remove(Ei),this._element.setAttribute("aria-expanded","false"),Je.removeDataAttribute(this._menu,"popper"),B.trigger(this._element,pc,u)}}_getConfig(u){if(typeof(u=super._getConfig(u)).reference=="object"&&!l(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${wl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(ia===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let u=this._element;this._config.reference==="parent"?u=this._parent:l(this._config.reference)?u=c(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const f=this._getPopperConfig();this._popper=io(u,this._menu,f)}_isShown(){return this._menu.classList.contains(Ei)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return te;if(u.classList.contains("dropstart"))return st;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const f=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains("dropup")?f?w:p:f?W:z}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(f=>Number.parseInt(f,10)):typeof u=="function"?f=>u(f,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Je.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...T(this._config.popperConfig,[u])}}_selectMenuItem({key:u,target:f}){const _=de.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(V=>h(V));_.length&&$(_,f,u===ni,!_.includes(f)).focus()}static jQueryInterface(u){return this.each(function(){const f=ht.getOrCreateInstance(this,u);if(typeof u=="string"){if(f[u]===void 0)throw new TypeError(`No method named "${u}"`);f[u]()}})}static clearMenus(u){if(u.button===2||u.type==="keyup"&&u.key!=="Tab")return;const f=de.find(a);for(const _ of f){const V=ht.getInstance(_);if(!V||V._config.autoClose===!1)continue;const U=u.composedPath(),q=U.includes(V._menu);if(U.includes(V._element)||V._config.autoClose==="inside"&&!q||V._config.autoClose==="outside"&&q||V._menu.contains(u.target)&&(u.type==="keyup"&&u.key==="Tab"||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const Q={relatedTarget:V._element};u.type==="click"&&(Q.clickEvent=u),V._completeHide(Q)}}static dataApiKeydownHandler(u){const f=/input|textarea/i.test(u.target.tagName),_=u.key==="Escape",V=[dc,ni].includes(u.key);if(!V&&!_||f&&!_)return;u.preventDefault();const U=this.matches($n)?this:de.prev(this,$n)[0]||de.next(this,$n)[0]||de.findOne($n,u.delegateTarget.parentNode),q=ht.getOrCreateInstance(U);if(V)return u.stopPropagation(),q.show(),void q._selectMenuItem(u);q._isShown()&&(u.stopPropagation(),q.hide(),U.focus())}}B.on(document,_n,$n,ht.dataApiKeydownHandler),B.on(document,_n,d,ht.dataApiKeydownHandler),B.on(document,so,ht.clearMenus),B.on(document,yc,ht.clearMenus),B.on(document,so,$n,function(y){y.preventDefault(),ht.getOrCreateInstance(this).toggle()}),A(ht);const Qt="backdrop",Ti="show",Hn=`mousedown.bs.${Qt}`,oa={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},El={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ty extends Et{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return oa}static get DefaultType(){return El}static get NAME(){return Qt}show(u){if(!this._config.isVisible)return void T(u);this._append();const f=this._getElement();this._config.isAnimated&&k(f),f.classList.add(Ti),this._emulateAnimation(()=>{T(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove(Ti),this._emulateAnimation(()=>{this.dispose(),T(u)})):T(u)}dispose(){this._isAppended&&(B.off(this._element,Hn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=c(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),B.on(u,Hn,()=>{T(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){C(u,this._getElement(),this._config.isAnimated)}}const vc=".bs.focustrap",_1=`focusin${vc}`,w1=`keydown.tab${vc}`,ny="backward",E1={autofocus:!0,trapElement:null},T1={autofocus:"boolean",trapElement:"element"};class ry extends Et{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return E1}static get DefaultType(){return T1}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),B.off(document,vc),B.on(document,_1,u=>this._handleFocusin(u)),B.on(document,w1,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,B.off(document,vc))}_handleFocusin(u){const{trapElement:f}=this._config;if(u.target===document||u.target===f||f.contains(u.target))return;const _=de.focusableChildren(f);_.length===0?f.focus():this._lastTabNavDirection===ny?_[_.length-1].focus():_[0].focus()}_handleKeydown(u){u.key==="Tab"&&(this._lastTabNavDirection=u.shiftKey?ny:"forward")}}const iy=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",sy=".sticky-top",_c="padding-right",oy="margin-right";class Wd{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,_c,f=>f+u),this._setElementAttributes(iy,_c,f=>f+u),this._setElementAttributes(sy,oy,f=>f-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,_c),this._resetElementAttributes(iy,_c),this._resetElementAttributes(sy,oy)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,f,_){const V=this.getWidth();this._applyManipulationCallback(u,U=>{if(U!==this._element&&window.innerWidth>U.clientWidth+V)return;this._saveInitialAttribute(U,f);const q=window.getComputedStyle(U).getPropertyValue(f);U.style.setProperty(f,`${_(Number.parseFloat(q))}px`)})}_saveInitialAttribute(u,f){const _=u.style.getPropertyValue(f);_&&Je.setDataAttribute(u,f,_)}_resetElementAttributes(u,f){this._applyManipulationCallback(u,_=>{const V=Je.getDataAttribute(_,f);V!==null?(Je.removeDataAttribute(_,f),_.style.setProperty(f,V)):_.style.removeProperty(f)})}_applyManipulationCallback(u,f){if(l(u))f(u);else for(const _ of de.find(u,this._element))f(_)}}const vr=".bs.modal",I1=`hide${vr}`,S1=`hidePrevented${vr}`,ay=`hidden${vr}`,ly=`show${vr}`,A1=`shown${vr}`,C1=`resize${vr}`,P1=`click.dismiss${vr}`,R1=`mousedown.dismiss${vr}`,k1=`keydown.dismiss${vr}`,b1=`click${vr}.data-api`,uy="modal-open",cy="show",qd="modal-static",x1={backdrop:!0,focus:!0,keyboard:!0},N1={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class oo extends Ze{constructor(u,f){super(u,f),this._dialog=de.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Wd,this._addEventListeners()}static get Default(){return x1}static get DefaultType(){return N1}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||B.trigger(this._element,ly,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(uy),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){this._isShown&&!this._isTransitioning&&(B.trigger(this._element,I1).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(cy),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){B.off(window,vr),B.off(this._dialog,vr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ty({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ry({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const f=de.findOne(".modal-body",this._dialog);f&&(f.scrollTop=0),k(this._element),this._element.classList.add(cy),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,B.trigger(this._element,A1,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){B.on(this._element,k1,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),B.on(window,C1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),B.on(this._element,R1,u=>{B.one(this._element,P1,f=>{this._element===u.target&&this._element===f.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(uy),this._resetAdjustments(),this._scrollBar.reset(),B.trigger(this._element,ay)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(B.trigger(this._element,S1).defaultPrevented)return;const u=this._element.scrollHeight>document.documentElement.clientHeight,f=this._element.style.overflowY;f==="hidden"||this._element.classList.contains(qd)||(u||(this._element.style.overflowY="hidden"),this._element.classList.add(qd),this._queueCallback(()=>{this._element.classList.remove(qd),this._queueCallback(()=>{this._element.style.overflowY=f},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,f=this._scrollBar.getWidth(),_=f>0;if(_&&!u){const V=M()?"paddingLeft":"paddingRight";this._element.style[V]=`${f}px`}if(!_&&u){const V=M()?"paddingRight":"paddingLeft";this._element.style[V]=`${f}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,f){return this.each(function(){const _=oo.getOrCreateInstance(this,u);if(typeof u=="string"){if(_[u]===void 0)throw new TypeError(`No method named "${u}"`);_[u](f)}})}}B.on(document,b1,'[data-bs-toggle="modal"]',function(y){const u=de.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&y.preventDefault(),B.one(u,ly,_=>{_.defaultPrevented||B.one(u,ay,()=>{h(this)&&this.focus()})});const f=de.findOne(".modal.show");f&&oo.getInstance(f).hide(),oo.getOrCreateInstance(u).toggle(this)}),Qr(oo),A(oo);const Ii=".bs.offcanvas",hy=".data-api",D1=`load${Ii}${hy}`,dy="show",fy="showing",py="hiding",my=".offcanvas.show",O1=`show${Ii}`,L1=`shown${Ii}`,M1=`hide${Ii}`,gy=`hidePrevented${Ii}`,yy=`hidden${Ii}`,V1=`resize${Ii}`,F1=`click${Ii}${hy}`,j1=`keydown.dismiss${Ii}`,U1={backdrop:!0,keyboard:!0,scroll:!1},z1={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Si extends Ze{constructor(u,f){super(u,f),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return U1}static get DefaultType(){return z1}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||B.trigger(this._element,O1,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Wd().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(fy),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(dy),this._element.classList.remove(fy),B.trigger(this._element,L1,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&(B.trigger(this._element,M1).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(py),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(dy,py),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Wd().reset(),B.trigger(this._element,yy)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=!!this._config.backdrop;return new ty({className:"offcanvas-backdrop",isVisible:u,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:u?()=>{this._config.backdrop!=="static"?this.hide():B.trigger(this._element,gy)}:null})}_initializeFocusTrap(){return new ry({trapElement:this._element})}_addEventListeners(){B.on(this._element,j1,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():B.trigger(this._element,gy))})}static jQueryInterface(u){return this.each(function(){const f=Si.getOrCreateInstance(this,u);if(typeof u=="string"){if(f[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);f[u](this)}})}}B.on(document,F1,'[data-bs-toggle="offcanvas"]',function(y){const u=de.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&y.preventDefault(),m(this))return;B.one(u,yy,()=>{h(this)&&this.focus()});const f=de.findOne(my);f&&f!==u&&Si.getInstance(f).hide(),Si.getOrCreateInstance(u).toggle(this)}),B.on(window,D1,()=>{for(const y of de.find(my))Si.getOrCreateInstance(y).show()}),B.on(window,V1,()=>{for(const y of de.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(y).position!=="fixed"&&Si.getOrCreateInstance(y).hide()}),Qr(Si),A(Si);const vy={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},B1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),$1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,H1=(y,u)=>{const f=y.nodeName.toLowerCase();return u.includes(f)?!B1.has(f)||!!$1.test(y.nodeValue):u.filter(_=>_ instanceof RegExp).some(_=>_.test(f))},W1={allowList:vy,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},q1={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},K1={entry:"(string|element|function|null)",selector:"(string|element)"};class G1 extends Et{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return W1}static get DefaultType(){return q1}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[V,U]of Object.entries(this._config.content))this._setContent(u,U,V);const f=u.children[0],_=this._resolvePossibleFunction(this._config.extraClass);return _&&f.classList.add(..._.split(" ")),f}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[f,_]of Object.entries(u))super._typeCheckConfig({selector:f,entry:_},K1)}_setContent(u,f,_){const V=de.findOne(_,u);V&&((f=this._resolvePossibleFunction(f))?l(f)?this._putElementInTemplate(c(f),V):this._config.html?V.innerHTML=this._maybeSanitize(f):V.textContent=f:V.remove())}_maybeSanitize(u){return this._config.sanitize?function(f,_,V){if(!f.length)return f;if(V&&typeof V=="function")return V(f);const U=new window.DOMParser().parseFromString(f,"text/html"),q=[].concat(...U.body.querySelectorAll("*"));for(const Q of q){const ne=Q.nodeName.toLowerCase();if(!Object.keys(_).includes(ne)){Q.remove();continue}const ae=[].concat(...Q.attributes),ue=[].concat(_["*"]||[],_[ne]||[]);for(const oe of ae)H1(oe,ue)||Q.removeAttribute(oe.nodeName)}return U.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return T(u,[this])}_putElementInTemplate(u,f){if(this._config.html)return f.innerHTML="",void f.append(u);f.textContent=u.textContent}}const Q1=new Set(["sanitize","allowList","sanitizeFn"]),Kd="fade",wc="show",_y=".modal",wy="hide.bs.modal",Tl="hover",Gd="focus",Y1={AUTO:"auto",TOP:"top",RIGHT:M()?"left":"right",BOTTOM:"bottom",LEFT:M()?"right":"left"},X1={allowList:vy,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},J1={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ao extends Ze{constructor(u,f){if(ia===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(u,f),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return X1}static get DefaultType(){return J1}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),B.off(this._element.closest(_y),wy,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=B.trigger(this._element,this.constructor.eventName("show")),f=(g(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!f)return;this._disposePopper();const _=this._getTipElement();this._element.setAttribute("aria-describedby",_.getAttribute("id"));const{container:V}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(V.append(_),B.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(_),_.classList.add(wc),"ontouchstart"in document.documentElement)for(const U of[].concat(...document.body.children))B.on(U,"mouseover",v);this._queueCallback(()=>{B.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!B.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(wc),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))B.off(u,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger[Gd]=!1,this._activeTrigger[Tl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),B.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const f=this._getTemplateFactory(u).toHtml();if(!f)return null;f.classList.remove(Kd,wc),f.classList.add(`bs-${this.constructor.NAME}-auto`);const _=(V=>{do V+=Math.floor(1e6*Math.random());while(document.getElementById(V));return V})(this.constructor.NAME).toString();return f.setAttribute("id",_),this._isAnimated()&&f.classList.add(Kd),f}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new G1({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Kd)}_isShown(){return this.tip&&this.tip.classList.contains(wc)}_createPopper(u){const f=T(this._config.placement,[this,u,this._element]),_=Y1[f.toUpperCase()];return io(this._element,u,this._getPopperConfig(_))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(f=>Number.parseInt(f,10)):typeof u=="function"?f=>u(f,this._element):u}_resolvePossibleFunction(u){return T(u,[this._element])}_getPopperConfig(u){const f={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:_=>{this._getTipElement().setAttribute("data-popper-placement",_.state.placement)}}]};return{...f,...T(this._config.popperConfig,[f])}}_setListeners(){const u=this._config.trigger.split(" ");for(const f of u)if(f==="click")B.on(this._element,this.constructor.eventName("click"),this._config.selector,_=>{this._initializeOnDelegatedTarget(_).toggle()});else if(f!=="manual"){const _=f===Tl?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),V=f===Tl?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");B.on(this._element,_,this._config.selector,U=>{const q=this._initializeOnDelegatedTarget(U);q._activeTrigger[U.type==="focusin"?Gd:Tl]=!0,q._enter()}),B.on(this._element,V,this._config.selector,U=>{const q=this._initializeOnDelegatedTarget(U);q._activeTrigger[U.type==="focusout"?Gd:Tl]=q._element.contains(U.relatedTarget),q._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},B.on(this._element.closest(_y),wy,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,f){clearTimeout(this._timeout),this._timeout=setTimeout(u,f)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const f=Je.getDataAttributes(this._element);for(const _ of Object.keys(f))Q1.has(_)&&delete f[_];return u={...f,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:c(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[f,_]of Object.entries(this._config))this.constructor.Default[f]!==_&&(u[f]=_);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const f=ao.getOrCreateInstance(this,u);if(typeof u=="string"){if(f[u]===void 0)throw new TypeError(`No method named "${u}"`);f[u]()}})}}A(ao);const Z1={...ao.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},eS={...ao.DefaultType,content:"(null|string|element|function)"};class Ec extends ao{static get Default(){return Z1}static get DefaultType(){return eS}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const f=Ec.getOrCreateInstance(this,u);if(typeof u=="string"){if(f[u]===void 0)throw new TypeError(`No method named "${u}"`);f[u]()}})}}A(Ec);const Qd=".bs.scrollspy",tS=`activate${Qd}`,Ey=`click${Qd}`,nS=`load${Qd}.data-api`,aa="active",Yd="[href]",Ty=".nav-link",rS=`${Ty}, .nav-item > ${Ty}, .list-group-item`,iS={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},sS={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Il extends Ze{constructor(u,f){super(u,f),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return iS}static get DefaultType(){return sS}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=c(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(f=>Number.parseFloat(f))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(B.off(this._config.target,Ey),B.on(this._config.target,Ey,Yd,u=>{const f=this._observableSections.get(u.target.hash);if(f){u.preventDefault();const _=this._rootElement||window,V=f.offsetTop-this._element.offsetTop;if(_.scrollTo)return void _.scrollTo({top:V,behavior:"smooth"});_.scrollTop=V}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(f=>this._observerCallback(f),u)}_observerCallback(u){const f=q=>this._targetLinks.get(`#${q.target.id}`),_=q=>{this._previousScrollData.visibleEntryTop=q.target.offsetTop,this._process(f(q))},V=(this._rootElement||document.documentElement).scrollTop,U=V>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=V;for(const q of u){if(!q.isIntersecting){this._activeTarget=null,this._clearActiveClass(f(q));continue}const Q=q.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(U&&Q){if(_(q),!V)return}else U||Q||_(q)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=de.find(Yd,this._config.target);for(const f of u){if(!f.hash||m(f))continue;const _=de.findOne(decodeURI(f.hash),this._element);h(_)&&(this._targetLinks.set(decodeURI(f.hash),f),this._observableSections.set(f.hash,_))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(aa),this._activateParents(u),B.trigger(this._element,tS,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))de.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(aa);else for(const f of de.parents(u,".nav, .list-group"))for(const _ of de.prev(f,rS))_.classList.add(aa)}_clearActiveClass(u){u.classList.remove(aa);const f=de.find(`${Yd}.${aa}`,u);for(const _ of f)_.classList.remove(aa)}static jQueryInterface(u){return this.each(function(){const f=Il.getOrCreateInstance(this,u);if(typeof u=="string"){if(f[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);f[u]()}})}}B.on(window,nS,()=>{for(const y of de.find('[data-bs-spy="scroll"]'))Il.getOrCreateInstance(y)}),A(Il);const lo=".bs.tab",oS=`hide${lo}`,aS=`hidden${lo}`,lS=`show${lo}`,uS=`shown${lo}`,cS=`click${lo}`,hS=`keydown${lo}`,dS=`load${lo}`,fS="ArrowLeft",Iy="ArrowRight",pS="ArrowUp",Sy="ArrowDown",Xd="Home",Ay="End",uo="active",Cy="fade",Jd="show",Py=".dropdown-toggle",Zd=`:not(${Py})`,Ry='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ef=`.nav-link${Zd}, .list-group-item${Zd}, [role="tab"]${Zd}, ${Ry}`,mS=`.${uo}[data-bs-toggle="tab"], .${uo}[data-bs-toggle="pill"], .${uo}[data-bs-toggle="list"]`;class co extends Ze{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),B.on(this._element,hS,f=>this._keydown(f)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const f=this._getActiveElem(),_=f?B.trigger(f,oS,{relatedTarget:u}):null;B.trigger(u,lS,{relatedTarget:f}).defaultPrevented||_&&_.defaultPrevented||(this._deactivate(f,u),this._activate(u,f))}_activate(u,f){u&&(u.classList.add(uo),this._activate(de.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),B.trigger(u,uS,{relatedTarget:f})):u.classList.add(Jd)},u,u.classList.contains(Cy)))}_deactivate(u,f){u&&(u.classList.remove(uo),u.blur(),this._deactivate(de.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),B.trigger(u,aS,{relatedTarget:f})):u.classList.remove(Jd)},u,u.classList.contains(Cy)))}_keydown(u){if(![fS,Iy,pS,Sy,Xd,Ay].includes(u.key))return;u.stopPropagation(),u.preventDefault();const f=this._getChildren().filter(V=>!m(V));let _;if([Xd,Ay].includes(u.key))_=f[u.key===Xd?0:f.length-1];else{const V=[Iy,Sy].includes(u.key);_=$(f,u.target,V,!0)}_&&(_.focus({preventScroll:!0}),co.getOrCreateInstance(_).show())}_getChildren(){return de.find(ef,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,f){this._setAttributeIfNotExists(u,"role","tablist");for(const _ of f)this._setInitialAttributesOnChild(_)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const f=this._elemIsActive(u),_=this._getOuterElement(u);u.setAttribute("aria-selected",f),_!==u&&this._setAttributeIfNotExists(_,"role","presentation"),f||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const f=de.getElementFromSelector(u);f&&(this._setAttributeIfNotExists(f,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(f,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,f){const _=this._getOuterElement(u);if(!_.classList.contains("dropdown"))return;const V=(U,q)=>{const Q=de.findOne(U,_);Q&&Q.classList.toggle(q,f)};V(Py,uo),V(".dropdown-menu",Jd),_.setAttribute("aria-expanded",f)}_setAttributeIfNotExists(u,f,_){u.hasAttribute(f)||u.setAttribute(f,_)}_elemIsActive(u){return u.classList.contains(uo)}_getInnerElement(u){return u.matches(ef)?u:de.findOne(ef,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const f=co.getOrCreateInstance(this);if(typeof u=="string"){if(f[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);f[u]()}})}}B.on(document,cS,Ry,function(y){["A","AREA"].includes(this.tagName)&&y.preventDefault(),m(this)||co.getOrCreateInstance(this).show()}),B.on(window,dS,()=>{for(const y of de.find(mS))co.getOrCreateInstance(y)}),A(co);const is=".bs.toast",gS=`mouseover${is}`,yS=`mouseout${is}`,vS=`focusin${is}`,_S=`focusout${is}`,wS=`hide${is}`,ES=`hidden${is}`,TS=`show${is}`,IS=`shown${is}`,ky="hide",Tc="show",Ic="showing",SS={animation:"boolean",autohide:"boolean",delay:"number"},AS={animation:!0,autohide:!0,delay:5e3};class Sl extends Ze{constructor(u,f){super(u,f),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return AS}static get DefaultType(){return SS}static get NAME(){return"toast"}show(){B.trigger(this._element,TS).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ky),k(this._element),this._element.classList.add(Tc,Ic),this._queueCallback(()=>{this._element.classList.remove(Ic),B.trigger(this._element,IS),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(B.trigger(this._element,wS).defaultPrevented||(this._element.classList.add(Ic),this._queueCallback(()=>{this._element.classList.add(ky),this._element.classList.remove(Ic,Tc),B.trigger(this._element,ES)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Tc),super.dispose()}isShown(){return this._element.classList.contains(Tc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,f){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=f;break;case"focusin":case"focusout":this._hasKeyboardInteraction=f}if(f)return void this._clearTimeout();const _=u.relatedTarget;this._element===_||this._element.contains(_)||this._maybeScheduleHide()}_setListeners(){B.on(this._element,gS,u=>this._onInteraction(u,!0)),B.on(this._element,yS,u=>this._onInteraction(u,!1)),B.on(this._element,vS,u=>this._onInteraction(u,!0)),B.on(this._element,_S,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const f=Sl.getOrCreateInstance(this,u);if(typeof u=="string"){if(f[u]===void 0)throw new TypeError(`No method named "${u}"`);f[u](this)}})}}return Qr(Sl),A(Sl),{Alert:De,Button:pt,Carousel:dr,Collapse:ce,Dropdown:ht,Modal:oo,Offcanvas:Si,Popover:Ec,ScrollSpy:Il,Tab:co,Toast:Sl,Tooltip:ao}})})(iM);const sM=({children:t,onClose:e,title:n})=>L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"modal fade show d-block",tabIndex:-1,children:L.jsx("div",{className:"modal-dialog modal-dialog-centered",children:L.jsxs("div",{className:"modal-content",children:[L.jsxs("div",{className:"modal-header",children:[n&&L.jsx("h5",{className:"modal-title",children:n}),L.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:e})]}),L.jsx("div",{className:"modal-body",children:t})]})})}),L.jsx("div",{className:"modal-backdrop fade show"})]});function oM(){const[t,e]=G.useState(""),[n,r]=G.useState(""),[i,s]=G.useState(""),[o,l]=G.useState(!1),[c,h]=G.useState(""),[m,g]=G.useState(""),v=cg(),k=async M=>{M.preventDefault();try{await Ax(_s,t,n),v("/Motivational-Quotes-Generator/")}catch(A){A.code==="auth/invalid-credential"?s("The email or the password is wrong."):A.code==="auth/invalid-email"?s("The email address is wrong or missing."):A.code==="auth/missing-password"?s("The password is missing."):s(A.message)}},x=async()=>{const M=new Pi;try{const T=(await Yx(_s,M)).user,C=Vu(Fu,"users",T.uid);(await m1(C)).exists()?v("/Motivational-Quotes-Generator/"):l(!0)}catch(A){s(A.message)}},O=async()=>{if(!c||!m){s("Please provide both username and full name.");return}const M=_s.currentUser;if(M)try{await g1(Vu(Fu,"users",M.uid),{email:M.email,username:c,fullName:m}),l(!1),v("/Motivational-Quotes-Generator/")}catch{s("Error saving user information.")}};return L.jsxs(L.Fragment,{children:[i&&L.jsx(gh,{type:"danger",message:i,onClose:()=>s("")}),L.jsxs("div",{className:"d-flex justify-content-center align-items-center vh-100",children:[L.jsxs("div",{className:"col-md-6",children:[L.jsx("div",{className:"d-flex justify-content-center",children:L.jsx(Do,{to:"/Motivational-Quotes-Generator/",children:L.jsx("button",{type:"button",className:"btn btn-link m-3 justify-content-center",children:"Back to Homepage"})})}),L.jsx("div",{className:"card",children:L.jsxs("div",{className:"card-body",children:[L.jsx("h5",{className:"card-title text-center",children:"Login to Motivational Quotes Generator!"}),L.jsxs("form",{onSubmit:k,children:[L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{htmlFor:"emailInput",className:"form-label",children:"Email"}),L.jsx("input",{type:"email",className:"form-control",id:"emailInput",placeholder:"Enter email",value:t,onChange:M=>e(M.target.value)})]}),L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{htmlFor:"passwordInput",className:"form-label",children:"Password"}),L.jsx("input",{type:"password",className:"form-control",id:"passwordInput",placeholder:"Enter password",value:n,onChange:M=>r(M.target.value)})]}),L.jsx("div",{className:"d-flex justify-content-center",children:L.jsx("button",{type:"submit",className:"btn btn-success",children:"Log in"})})]}),L.jsx("br",{}),L.jsx("div",{className:"fw-bold text-center",children:"Don't have an account? Sign up with:"}),L.jsxs("div",{className:"d-flex justify-content-center",children:[L.jsx(Do,{to:"/Motivational-Quotes-Generator/signup",style:{textDecoration:"none"},children:L.jsxs("button",{type:"button",className:"btn btn-secondary m-2 d-flex align-items-center",children:[L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-envelope-fill",viewBox:"0 0 16 16",style:{verticalAlign:"middle"},children:L.jsx("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z"})}),L.jsx("span",{className:"ms-2",children:"Email"})]})}),L.jsxs("button",{type:"button",className:"btn btn-primary m-2",onClick:x,children:[L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-google",viewBox:"0 0 16 16",style:{verticalAlign:"-2px"},children:L.jsx("path",{d:"M15.545 6.558a9.4 9.4 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.7 7.7 0 0 1 5.352 2.082l-2.284 2.284A4.35 4.35 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.8 4.8 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.7 3.7 0 0 0 1.599-2.431H8v-3.08z"})}),L.jsx("span",{className:"ms-2",children:"Google"})]})]})]})})]}),o&&L.jsxs(sM,{title:"Complete Your Profile",onClose:()=>l(!1),children:[L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{htmlFor:"usernameInput",className:"form-label",children:"Username"}),L.jsx("input",{type:"text",className:"form-control",id:"usernameInput",value:c,onChange:M=>h(M.target.value)})]}),L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{htmlFor:"fullNameInput",className:"form-label",children:"Full Name"}),L.jsx("input",{type:"text",className:"form-control",id:"fullNameInput",value:m,onChange:M=>g(M.target.value)})]}),L.jsx("button",{className:"btn btn-primary",onClick:O,children:"Submit"})]})]})]})}const R0=()=>L.jsxs("div",{className:"d-flex justify-content-center align-items-center vh-100 flex-column",children:[L.jsx("div",{className:"text-danger fw-bold fs-1",children:"404 Not Found"}),L.jsx(Do,{to:"/Motivational-Quotes-Generator/",children:L.jsx("button",{type:"button",className:"btn btn-primary m-3",children:"Back to Homepage"})})]});function aM(){const t=cg(),[e,n]=G.useState(""),[r,i]=G.useState(""),[s,o]=G.useState(""),[l,c]=G.useState(""),[h,m]=G.useState(""),[g,v]=G.useState(!1),[k,x]=G.useState(""),[O,M]=G.useState(!1),A=()=>{v(!1)},T=async()=>{if(l!==h){x("Password and confirm password do not match"),v(!0);return}try{const $=(await Sx(_s,s,l)).user;await g1(Vu(Fu,"users",$.uid),{fullName:e,username:r,email:s}),console.log($),M(!0)}catch(C){console.error(C),C.code==="auth/weak-password"?x("Password should be at least 6 characters"):C.code==="auth/email-already-in-use"?x("This email is already in use"):C.code==="auth/invalid-email"?x("The email address is invalid"):x(C.message),v(!0)}};if(O){t("/Motivational-Quotes-Generator/");return}return L.jsxs(L.Fragment,{children:[g&&L.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[k,L.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:A})]}),L.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:L.jsxs("div",{className:"col-md-6",children:[L.jsx("div",{className:"d-flex justify-content-center",children:L.jsx(Do,{to:"/Motivational-Quotes-Generator/",children:L.jsx("button",{type:"button",className:"btn btn-link m-3 justify-content-center",children:"Back to Homepage"})})}),L.jsx("div",{className:"card",children:L.jsxs("div",{className:"card-body",children:[L.jsx("h5",{className:"card-title text-center",children:"Sign up for Motivational Quotes Generator!"}),L.jsxs("form",{children:[L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{htmlFor:"fullNameInput",className:"form-label",children:"Full name"}),L.jsx("input",{type:"text",className:"form-control",id:"fullNameInput",placeholder:"e.g. Gumball Waterson",onChange:C=>n(C.target.value)})]}),L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{htmlFor:"usernameInput",className:"form-label",children:"Username"}),L.jsx("input",{type:"text",className:"form-control",id:"usernameInput",placeholder:"e.g. gumball_iz_kool123",onChange:C=>i(C.target.value)})]}),L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{htmlFor:"emailInput",className:"form-label",children:"Email"}),L.jsx("input",{type:"email",className:"form-control",id:"emailInput",placeholder:"example@domain.com",onChange:C=>o(C.target.value)})]}),L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{htmlFor:"passwordInput",className:"form-label",children:"Password"}),L.jsx("input",{type:"password",className:"form-control",id:"passwordInput",placeholder:"Enter password",onChange:C=>c(C.target.value)})]}),L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{htmlFor:"confirmPasswordInput",className:"form-label",children:"Confirm Password"}),L.jsx("input",{type:"password",className:"form-control",id:"confirmPasswordInput",placeholder:"Confirm password",onChange:C=>m(C.target.value)})]})]}),L.jsx("div",{className:"d-flex justify-content-center",children:L.jsx("button",{type:"submit",className:"btn btn-success",onClick:T,children:"Sign up"})}),L.jsx("br",{}),L.jsxs("div",{className:"fw-bold text-center",children:["Already have an account?"," ",L.jsx("span",{children:L.jsx(Do,{to:"/Motivational-Quotes-Generator/login",children:"Log in"})})]})]})})]})})]})}const lM=NR([{path:"/Motivational-Quotes-Generator/",element:L.jsx(rM,{}),errorElement:L.jsx(R0,{})},{path:"/Motivational-Quotes-Generator/login",element:L.jsx(oM,{})},{path:"/Motivational-Quotes-Generator/signup",element:L.jsx(aM,{})},{path:"*",element:L.jsx(R0,{})}]);Wf.createRoot(document.getElementById("root")).render(L.jsx(z0.StrictMode,{children:L.jsx(zR,{router:lM})}));
